(self.webpackChunkMiniProject=self.webpackChunkMiniProject||[]).push([[179],{642:(mr,yl)=>{var Yt;(function(){function xi(S,E){S.prototype=function yr(S){function E(){}return E.prototype=S,new E}(E.prototype),S.prototype.constructor=S,S.base=E.prototype}function rs(S,E,N){return"millisecond"===N?S.setMilliseconds(S.getMilliseconds()+1*E):"second"===N?S.setSeconds(S.getSeconds()+1*E):"minute"===N?S.setMinutes(S.getMinutes()+1*E):"hour"===N?S.setHours(S.getHours()+1*E):"day"===N?S.setDate(S.getDate()+1*E):"week"===N?S.setDate(S.getDate()+7*E):"month"===N?S.setMonth(S.getMonth()+1*E):"year"===N&&S.setFullYear(S.getFullYear()+1*E),S}function Lt(S,E){var N=!1;for(0>S&&(N=!0,S*=-1),S=""+S,E=E||1;S.length<E;)S="0"+S;return N?"-"+S:S}function os(S){if(!S)return S;for(var E=/\s/,N=(S=S.replace(/^\s\s*/,"")).length;E.test(S.charAt(--N)););return S.slice(0,N+1)}function Dn(S){S.roundRect=function(E,N,te,ve,_e,oe,st,Ct){st&&(this.fillStyle=st),Ct&&(this.strokeStyle=Ct),typeof _e>"u"&&(_e=5),this.lineWidth=oe,this.beginPath(),this.moveTo(E+_e,N),this.lineTo(E+te-_e,N),this.quadraticCurveTo(E+te,N,E+te,N+_e),this.lineTo(E+te,N+ve-_e),this.quadraticCurveTo(E+te,N+ve,E+te-_e,N+ve),this.lineTo(E+_e,N+ve),this.quadraticCurveTo(E,N+ve,E,N+ve-_e),this.lineTo(E,N+_e),this.quadraticCurveTo(E,N,E+_e,N),this.closePath(),st&&this.fill(),Ct&&0<oe&&this.stroke()}}function as(S,E){return S-E}function Xe(S){var E=((16711680&S)>>16).toString(16),N=((65280&S)>>8).toString(16);return S=((255&S)>>0).toString(16),"#"+(E=2>E.length?"0"+E:E)+(N=2>N.length?"0"+N:N)+(2>S.length?"0"+S:S)}function Ss(S,E){var te,N=this.length>>>0;for(0>(te=0>(te=Number(E)||0)?Math.ceil(te):Math.floor(te))&&(te+=N);te<N;te++)if(te in this&&this[te]===S)return te;return-1}function V(S){return null===S||typeof S>"u"}function an(S){return S.indexOf||(S.indexOf=Ss),S}function Js(S,E,N){var te=S+"_"+E+"_"+(N=N||"normal"),ve=Yn[te];if(isNaN(ve)){try{if(!Ui){var _e=document.body;(Ui=document.createElement("span")).innerHTML="";var oe=document.createTextNode("Mpgyi");Ui.appendChild(oe),_e.appendChild(Ui)}Ui.style.display="",kt(Ui,{position:"absolute",left:"0px",top:"-20000px",padding:"0px",margin:"0px",border:"none",whiteSpace:"pre",lineHeight:"normal",fontFamily:S,fontSize:E+"px",fontWeight:N}),ve=Math.round(Ui.offsetHeight),Ui.style.display="none"}catch{ve=Math.ceil(1.1*E)}ve=Math.max(ve,E),Yn[te]=ve}return ve}function $e(S,E){var N=[];if(N={solid:[],shortDash:[3,1],shortDot:[1,1],shortDashDot:[3,1,1,1],shortDashDotDot:[3,1,1,1,1,1],dot:[1,2],dash:[4,2],dashDot:[4,2,1,2],longDash:[8,2],longDashDot:[8,2,1,2],longDashDotDot:[8,2,1,2,1,2]}[S||"solid"])for(var te=0;te<N.length;te++)N[te]*=E;else N=[];return N}function mt(S,E,N,te,ve){return te=te||[],ve=V(ve)?!!Hn&&{passive:!1,capture:!1}:ve,te.push([S,E,N,ve]),S.addEventListener?(S.addEventListener(E,N,ve),N):!!S.attachEvent&&(S.attachEvent("on"+E,te=function(_e){(_e=_e||window.event).preventDefault=_e.preventDefault||function(){_e.returnValue=!1},_e.stopPropagation=_e.stopPropagation||function(){_e.cancelBubble=!0},N.call(S,_e)}),te)}function ls(S,E,N){for(S=N.getImageData(S*=di,E*=di,2,2).data,E=!0,N=0;4>N;N++)if(S[N]!==S[N+4]|S[N]!==S[N+8]|S[N]!==S[N+12]){E=!1;break}return E?S[0]<<16|S[1]<<8|S[2]:0}function St(S,E,N){return S in E?E[S]:N[S]}function ln(S,E,N,te){Y&&Xn?(te=!V(te)&&te?S.getContext("2d",{willReadFrequently:!0}):S.getContext("2d"),S.width=E*(di=$r/(Gr=te.webkitBackingStorePixelRatio||te.mozBackingStorePixelRatio||te.msBackingStorePixelRatio||te.oBackingStorePixelRatio||te.backingStorePixelRatio||1)),S.height=N*di,$r!==Gr&&(S.style.width=E+"px",S.style.height=N+"px",te.scale(di,di))):(S.width=E,S.height=N)}function vi(S,E,N){Ps&&(this.canvasCount|=0,window.console.log(++this.canvasCount));var te=document.createElement("canvas");return te.setAttribute("class","canvasjs-chart-canvas"),ln(te,S,E,N),Y||typeof G_vmlCanvasManager>"u"||G_vmlCanvasManager.initElement(te),te}function kt(S,E){for(var N in E)S.style[N]=E[N]}function Kt(S,E,N){E.getAttribute("state")||(E.style.backgroundColor=S.toolbar.itemBackgroundColor,E.style.color=S.toolbar.fontColor,E.style.border="none",kt(E,{WebkitUserSelect:"none",MozUserSelect:"none",msUserSelect:"none",userSelect:"none"})),E.getAttribute("state")!==N&&(E.setAttribute("state",N),E.setAttribute("type","button"),kt(E,{padding:"5px 12px",cursor:"pointer",float:"left",width:"40px",height:"25px",outline:"0px",verticalAlign:"baseline",lineHeight:"0"}),E.innerHTML="<img src='"+Nc[N].image+"' alt='"+S._cultureInfo[N+"Text"]+"' />",kt(E.childNodes[0],{height:"95%",pointerEvents:"none"})),E.setAttribute("title",S._cultureInfo[N+"Text"])}function It(){for(var S=null,E=0;E<arguments.length;E++)(S=arguments[E]).style&&(S.style.display="inline")}function Ri(){for(var S=null,E=0;E<arguments.length;E++)(S=arguments[E])&&S.style&&(S.style.display="none")}function Un(S,E,N,te,ve){return null===S||typeof S>"u"?typeof N>"u"?E:N:(S=parseFloat(S.toString())*(0<=S.toString().indexOf("%")?E/100:1),typeof te<"u"&&(S=Math.min(te,S),typeof ve<"u"&&(S=Math.max(ve,S))),!isNaN(S)&&S<=E&&0<=S?S:typeof N>"u"?E:N)}function Bt(S,E,N,te,ve){this._defaultsKey=S,this._themeOptionsKey=E,this._index=te,this.parent=ve,this._eventListeners=[],S={},this.theme&&V(this.parent)&&V(E)&&V(te)?S=V(this.predefinedThemes[this.theme])?this.predefinedThemes.light1:this.predefinedThemes[this.theme]:this.parent&&this.parent.themeOptions&&this.parent.themeOptions[E]&&(null===te?S=this.parent.themeOptions[E]:0<this.parent.themeOptions[E].length&&(te=Math.min(this.parent.themeOptions[E].length-1,te),S=this.parent.themeOptions[E][te])),this.themeOptions=S,this.options=N||{_isPlaceholder:!0},this.setOptions(this.options,S)}function kn(S,E,N,te,ve){typeof ve>"u"&&(ve=0),this._padding=ve,this._x1=S,this._y1=E,this._x2=N,this._y2=te,this._rightOccupied=this._leftOccupied=this._bottomOccupied=this._topOccupied=this._padding}function Ze(S,E){Ze.base.constructor.call(this,"TextBlock",null,E,null,null),this.ctx=S,this._isDirty=!0,this._wrappedText=null,this._initialize()}function En(S,E){En.base.constructor.call(this,"Toolbar","toolbar",E,null,S),this.chart=S,this.canvas=S.canvas,this.ctx=this.chart.ctx,this.optionsName="toolbar"}function gn(S,E){if(gn.base.constructor.call(this,"Title","title",E,null,S),this.chart=S,this.canvas=S.canvas,this.ctx=this.chart.ctx,this.optionsName="title",V(this.options.margin)&&S.options.subtitles)for(var N=S.options.subtitles,te=0;te<N.length;te++)if((V(N[te].horizontalAlign)&&"center"===this.horizontalAlign||N[te].horizontalAlign===this.horizontalAlign)&&(V(N[te].verticalAlign)&&"top"===this.verticalAlign||N[te].verticalAlign===this.verticalAlign)&&!N[te].dockInsidePlotArea==!this.dockInsidePlotArea){this.margin=0;break}typeof this.options.fontSize>"u"&&(this.fontSize=this.chart.getAutoFontSize(this.fontSize)),this.height=this.width=null,this.bounds={x1:null,y1:null,x2:null,y2:null}}function Xt(S,E,N){Xt.base.constructor.call(this,"Subtitle","subtitles",E,N,S),this.chart=S,this.canvas=S.canvas,this.ctx=this.chart.ctx,this.optionsName="subtitles",this.isOptionsInArray=!0,typeof this.options.fontSize>"u"&&(this.fontSize=this.chart.getAutoFontSize(this.fontSize)),this.height=this.width=null,this.bounds={x1:null,y1:null,x2:null,y2:null}}function An(){this.pool=[]}function In(S){var E;S&&ze[S]&&(E=ze[S]),In.base.constructor.call(this,"CultureInfo",null,E,null,null)}var ee,me,ye,Ue,pt,Ps=!1,Ni={},Y=!!document.createElement("canvas").getContext,Ji={Chart:{width:500,height:400,zoomEnabled:!1,zoomType:"x",backgroundColor:"white",theme:"light1",animationEnabled:!1,animationDuration:1200,dataPointWidth:null,dataPointMinWidth:null,dataPointMaxWidth:null,colorSet:"colorSet1",culture:"en",creditText:"CanvasJS",interactivityEnabled:!0,exportEnabled:!1,exportFileName:"Chart",rangeChanging:null,rangeChanged:null,publicProperties:{title:"readWrite",subtitles:"readWrite",toolbar:"readWrite",toolTip:"readWrite",legend:"readWrite",axisX:"readWrite",axisY:"readWrite",axisX2:"readWrite",axisY2:"readWrite",data:"readWrite",options:"readWrite",bounds:"readOnly",container:"readOnly",selectedColorSet:"readOnly"}},Title:{padding:0,text:null,verticalAlign:"top",horizontalAlign:"center",fontSize:20,fontFamily:"Calibri",fontWeight:"normal",fontColor:"black",fontStyle:"normal",borderThickness:0,borderColor:"black",cornerRadius:0,backgroundColor:Y?"transparent":null,margin:5,wrap:!0,maxWidth:null,dockInsidePlotArea:!1,publicProperties:{options:"readWrite",bounds:"readOnly",chart:"readOnly"}},Subtitle:{padding:0,text:null,verticalAlign:"top",horizontalAlign:"center",fontSize:14,fontFamily:"Calibri",fontWeight:"normal",fontColor:"black",fontStyle:"normal",borderThickness:0,borderColor:"black",cornerRadius:0,backgroundColor:null,margin:2,wrap:!0,maxWidth:null,dockInsidePlotArea:!1,publicProperties:{options:"readWrite",bounds:"readOnly",chart:"readOnly"}},Toolbar:{itemBackgroundColor:"white",itemBackgroundColorOnHover:"#2196f3",buttonBorderColor:"#2196f3",buttonBorderThickness:1,fontColor:"black",fontColorOnHover:"white",publicProperties:{options:"readWrite",chart:"readOnly"}},Legend:{name:null,verticalAlign:"center",horizontalAlign:"right",fontSize:14,fontFamily:"calibri",fontWeight:"normal",fontColor:"black",fontStyle:"normal",cursor:null,itemmouseover:null,itemmouseout:null,itemmousemove:null,itemclick:null,dockInsidePlotArea:!1,reversed:!1,backgroundColor:Y?"transparent":null,borderColor:Y?"transparent":null,borderThickness:0,cornerRadius:0,maxWidth:null,maxHeight:null,markerMargin:null,itemMaxWidth:null,itemWidth:null,itemWrap:!0,itemTextFormatter:null,publicProperties:{options:"readWrite",bounds:"readOnly",chart:"readOnly"}},ToolTip:{enabled:!0,shared:!1,animationEnabled:!0,content:null,contentFormatter:null,reversed:!1,backgroundColor:Y?"rgba(255,255,255,.9)":"rgb(255,255,255)",borderColor:null,borderThickness:2,cornerRadius:5,fontSize:14,fontColor:"black",fontFamily:"Calibri, Arial, Georgia, serif;",fontWeight:"normal",fontStyle:"italic",updated:null,hidden:null,publicProperties:{options:"readWrite",chart:"readOnly"}},Axis:{minimum:null,maximum:null,viewportMinimum:null,viewportMaximum:null,interval:null,intervalType:null,reversed:!1,logarithmic:!1,logarithmBase:10,title:null,titleFontColor:"black",titleFontSize:20,titleFontFamily:"arial",titleFontWeight:"normal",titleFontStyle:"normal",titleWrap:!0,titleMaxWidth:null,titleBackgroundColor:Y?"transparent":null,titleBorderColor:Y?"transparent":null,titleBorderThickness:0,titleCornerRadius:0,labelAngle:0,labelFontFamily:"arial",labelFontColor:"black",labelFontSize:12,labelFontWeight:"normal",labelFontStyle:"normal",labelAutoFit:!0,labelWrap:!0,labelMaxWidth:null,labelFormatter:null,labelBackgroundColor:Y?"transparent":null,labelBorderColor:Y?"transparent":null,labelBorderThickness:0,labelCornerRadius:0,labelPlacement:"outside",labelTextAlign:"left",prefix:"",suffix:"",includeZero:!1,tickLength:5,tickColor:"black",tickThickness:1,tickPlacement:"outside",lineColor:"black",lineThickness:1,lineDashType:"solid",gridColor:"#A0A0A0",gridThickness:0,gridDashType:"solid",interlacedColor:Y?"transparent":null,valueFormatString:null,margin:2,publicProperties:{options:"readWrite",stripLines:"readWrite",scaleBreaks:"readWrite",crosshair:"readWrite",bounds:"readOnly",chart:"readOnly"}},StripLine:{value:null,startValue:null,endValue:null,color:"orange",opacity:null,thickness:2,lineDashType:"solid",label:"",labelPlacement:"inside",labelAlign:"far",labelWrap:!0,labelMaxWidth:null,labelBackgroundColor:null,labelBorderColor:Y?"transparent":null,labelBorderThickness:0,labelCornerRadius:0,labelFontFamily:"arial",labelFontColor:"orange",labelFontSize:12,labelFontWeight:"normal",labelFontStyle:"normal",labelFormatter:null,showOnTop:!1,publicProperties:{options:"readWrite",axis:"readOnly",bounds:"readOnly",chart:"readOnly"}},ScaleBreaks:{autoCalculate:!1,collapsibleThreshold:"25%",maxNumberOfAutoBreaks:2,spacing:8,type:"straight",color:"#FFFFFF",fillOpacity:.9,lineThickness:2,lineColor:"#E16E6E",lineDashType:"solid",publicProperties:{options:"readWrite",customBreaks:"readWrite",axis:"readOnly",autoBreaks:"readOnly",bounds:"readOnly",chart:"readOnly"}},Break:{startValue:null,endValue:null,spacing:8,type:"straight",color:"#FFFFFF",fillOpacity:.9,lineThickness:2,lineColor:"#E16E6E",lineDashType:"solid",publicProperties:{options:"readWrite",scaleBreaks:"readOnly",bounds:"readOnly",chart:"readOnly"}},Crosshair:{enabled:!1,snapToDataPoint:!1,color:"grey",opacity:null,thickness:2,lineDashType:"solid",label:"",labelWrap:!0,labelMaxWidth:null,labelBackgroundColor:Y?"grey":null,labelBorderColor:Y?"grey":null,labelBorderThickness:0,labelCornerRadius:0,labelFontFamily:Y?"Calibri, Optima, Candara, Verdana, Geneva, sans-serif":"calibri",labelFontSize:12,labelFontColor:"#fff",labelFontWeight:"normal",labelFontStyle:"normal",labelFormatter:null,valueFormatString:null,updated:null,hidden:null,publicProperties:{options:"readWrite",axis:"readOnly",bounds:"readOnly",chart:"readOnly"}},DataSeries:{name:null,dataPoints:null,label:"",bevelEnabled:!1,highlightEnabled:!0,cursor:"default",indexLabel:"",indexLabelPlacement:"auto",indexLabelOrientation:"horizontal",indexLabelTextAlign:"left",indexLabelFontColor:"black",indexLabelFontSize:12,indexLabelFontStyle:"normal",indexLabelFontFamily:"Arial",indexLabelFontWeight:"normal",indexLabelBackgroundColor:null,indexLabelLineColor:"gray",indexLabelLineThickness:1,indexLabelLineDashType:"solid",indexLabelMaxWidth:null,indexLabelWrap:!0,indexLabelFormatter:null,lineThickness:2,lineDashType:"solid",connectNullData:!1,nullDataLineDashType:"dash",color:null,lineColor:null,risingColor:"white",fallingColor:"red",fillOpacity:null,startAngle:0,radius:null,innerRadius:null,neckHeight:null,neckWidth:null,reversed:!1,valueRepresents:null,linkedDataSeriesIndex:null,whiskerThickness:2,whiskerDashType:"solid",whiskerColor:null,whiskerLength:null,stemThickness:2,stemColor:null,stemDashType:"solid",upperBoxColor:"white",lowerBoxColor:"white",type:"column",xValueType:"number",axisXType:"primary",axisYType:"primary",axisXIndex:0,axisYIndex:0,xValueFormatString:null,yValueFormatString:null,zValueFormatString:null,percentFormatString:null,showInLegend:null,legendMarkerType:null,legendMarkerColor:null,legendText:null,legendMarkerBorderColor:Y?"transparent":null,legendMarkerBorderThickness:0,markerType:"circle",markerColor:null,markerSize:null,markerBorderColor:Y?"transparent":null,markerBorderThickness:0,mouseover:null,mouseout:null,mousemove:null,click:null,toolTipContent:null,visible:!0,publicProperties:{options:"readWrite",axisX:"readWrite",axisY:"readWrite",chart:"readOnly"}},TextBlock:{x:0,y:0,width:null,height:null,maxWidth:null,maxHeight:null,padding:0,angle:0,text:"",horizontalAlign:"center",textAlign:"left",fontSize:12,fontFamily:"calibri",fontWeight:"normal",fontColor:"black",fontStyle:"normal",borderThickness:0,borderColor:"black",cornerRadius:0,backgroundColor:null,textBaseline:"top"},CultureInfo:{decimalSeparator:".",digitGroupSeparator:",",zoomText:"Zoom",panText:"Pan",resetText:"Reset",menuText:"More Options",saveJPGText:"Save as JPEG",savePNGText:"Save as PNG",printText:"Print",days:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),shortDays:"Sun Mon Tue Wed Thu Fri Sat".split(" "),months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")}},ze={en:{}},O=Y?"Trebuchet MS, Helvetica, sans-serif":"Arial",q=Y?"Impact, Charcoal, sans-serif":"Arial",ae={colorSet1:"#4F81BC #C0504E #9BBB58 #23BFAA #8064A1 #4AACC5 #F79647 #7F6084 #77A033 #33558B #E59566".split(" "),colorSet2:"#6D78AD #51CDA0 #DF7970 #4C9CA0 #AE7D99 #C9D45C #5592AD #DF874D #52BCA8 #8E7AA3 #E3CB64 #C77B85 #C39762 #8DD17E #B57952 #FCC26C".split(" "),colorSet3:"#8CA1BC #36845C #017E82 #8CB9D0 #708C98 #94838D #F08891 #0366A7 #008276 #EE7757 #E5BA3A #F2990B #03557B #782970".split(" ")},Zt={colorSet:"colorSet1",backgroundColor:"#FFFFFF",title:{fontFamily:q,fontSize:32,fontColor:me="#333333",fontWeight:"normal",verticalAlign:"top",margin:5},subtitles:[{fontFamily:q,fontSize:Se=14,fontColor:me,fontWeight:"normal",verticalAlign:"top",margin:5}],data:[{indexLabelFontFamily:O,indexLabelFontSize:Se,indexLabelFontColor:me,indexLabelFontWeight:"normal",indexLabelLineThickness:1}],axisX:[{titleFontFamily:O,titleFontSize:Ge=20,titleFontColor:me,titleFontWeight:"normal",labelFontFamily:O,labelFontSize:Se,labelFontColor:ye="#000000",labelFontWeight:"normal",lineThickness:1,lineColor:ee="#666666",tickThickness:1,tickColor:ee,gridThickness:0,gridColor:ee,stripLines:[{labelFontFamily:O,labelFontSize:Se,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:O,labelFontSize:Se,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:pt=Ue="#000000",color:Ue,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],axisX2:[{titleFontFamily:O,titleFontSize:Ge,titleFontColor:me,titleFontWeight:"normal",labelFontFamily:O,labelFontSize:Se,labelFontColor:ye,labelFontWeight:"normal",lineThickness:1,lineColor:ee,tickThickness:1,tickColor:ee,gridThickness:0,gridColor:ee,stripLines:[{labelFontFamily:O,labelFontSize:Se,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:O,labelFontSize:Se,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:pt,color:Ue,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],axisY:[{titleFontFamily:O,titleFontSize:Ge,titleFontColor:me,titleFontWeight:"normal",labelFontFamily:O,labelFontSize:Se,labelFontColor:ye,labelFontWeight:"normal",lineThickness:1,lineColor:ee,tickThickness:1,tickColor:ee,gridThickness:1,gridColor:ee,stripLines:[{labelFontFamily:O,labelFontSize:Se,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:O,labelFontSize:Se,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:pt,color:Ue,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],axisY2:[{titleFontFamily:O,titleFontSize:Ge,titleFontColor:me,titleFontWeight:"normal",labelFontFamily:O,labelFontSize:Se,labelFontColor:ye,labelFontWeight:"normal",lineThickness:1,lineColor:ee,tickThickness:1,tickColor:ee,gridThickness:1,gridColor:ee,stripLines:[{labelFontFamily:O,labelFontSize:Se,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:O,labelFontSize:Se,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:pt,color:Ue,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],legend:{fontFamily:O,fontSize:14,fontColor:me,fontWeight:"bold",verticalAlign:"bottom",horizontalAlign:"center"},toolTip:{fontFamily:O,fontSize:14,fontStyle:"normal",cornerRadius:0,borderThickness:1},toolbar:{itemBackgroundColor:"white",itemBackgroundColorOnHover:"#2196f3",buttonBorderColor:"#2196f3",buttonBorderThickness:1,fontColor:"black",fontColorOnHover:"white"}};ye=me="#F5F5F5",ee="#FFFFFF",Ue="#40BAF1",pt="#F5F5F5";var lt={colorSet:"colorSet2",title:{fontFamily:O,fontSize:33,fontColor:"#3A3A3A",fontWeight:"bold",verticalAlign:"top",margin:5},subtitles:[{fontFamily:O,fontSize:Se=14,fontColor:"#3A3A3A",fontWeight:"normal",verticalAlign:"top",margin:5}],data:[{indexLabelFontFamily:O,indexLabelFontSize:Se,indexLabelFontColor:"#666666",indexLabelFontWeight:"normal",indexLabelLineThickness:1}],axisX:[{titleFontFamily:O,titleFontSize:Ge=20,titleFontColor:"#666666",titleFontWeight:"normal",labelFontFamily:O,labelFontSize:Se,labelFontColor:"#666666",labelFontWeight:"normal",lineThickness:1,lineColor:"#BBBBBB",tickThickness:1,tickColor:"#BBBBBB",gridThickness:1,gridColor:"#BBBBBB",stripLines:[{labelFontFamily:O,labelFontSize:Se,labelFontColor:"#FFA500",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FFA500",thickness:1}],crosshair:{labelFontFamily:O,labelFontSize:Se,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:"black",color:"black",thickness:1,lineDashType:"dot"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],axisX2:[{titleFontFamily:O,titleFontSize:Ge,titleFontColor:"#666666",titleFontWeight:"normal",labelFontFamily:O,labelFontSize:Se,labelFontColor:"#666666",labelFontWeight:"normal",lineThickness:1,lineColor:"#BBBBBB",tickColor:"#BBBBBB",tickThickness:1,gridThickness:1,gridColor:"#BBBBBB",stripLines:[{labelFontFamily:O,labelFontSize:Se,labelFontColor:"#FFA500",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FFA500",thickness:1}],crosshair:{labelFontFamily:O,labelFontSize:Se,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:"black",color:"black",thickness:1,lineDashType:"dot"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],axisY:[{titleFontFamily:O,titleFontSize:Ge,titleFontColor:"#666666",titleFontWeight:"normal",labelFontFamily:O,labelFontSize:Se,labelFontColor:"#666666",labelFontWeight:"normal",lineThickness:0,lineColor:"#BBBBBB",tickColor:"#BBBBBB",tickThickness:1,gridThickness:1,gridColor:"#BBBBBB",stripLines:[{labelFontFamily:O,labelFontSize:Se,labelFontColor:"#FFA500",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FFA500",thickness:1}],crosshair:{labelFontFamily:O,labelFontSize:Se,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:"black",color:"black",thickness:1,lineDashType:"dot"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],axisY2:[{titleFontFamily:O,titleFontSize:Ge,titleFontColor:"#666666",titleFontWeight:"normal",labelFontFamily:O,labelFontSize:Se,labelFontColor:"#666666",labelFontWeight:"normal",lineThickness:0,lineColor:"#BBBBBB",tickColor:"#BBBBBB",tickThickness:1,gridThickness:1,gridColor:"#BBBBBB",stripLines:[{labelFontFamily:O,labelFontSize:Se,labelFontColor:"#FFA500",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FFA500",thickness:1}],crosshair:{labelFontFamily:O,labelFontSize:Se,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:"black",color:"black",thickness:1,lineDashType:"dot"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],legend:{fontFamily:O,fontSize:14,fontColor:"#3A3A3A",fontWeight:"bold",verticalAlign:"bottom",horizontalAlign:"center"},toolTip:{fontFamily:O,fontSize:14,fontStyle:"normal",cornerRadius:0,borderThickness:1},toolbar:{itemBackgroundColor:"white",itemBackgroundColorOnHover:"#2196f3",buttonBorderColor:"#2196f3",buttonBorderThickness:1,fontColor:"black",fontColorOnHover:"white"}};ye=me="#F5F5F5",q={colorSet:"colorSet12",backgroundColor:"#2A2A2A",title:{fontFamily:q,fontSize:32,fontColor:me,fontWeight:"normal",verticalAlign:"top",margin:5},subtitles:[{fontFamily:q,fontSize:Se=14,fontColor:me,fontWeight:"normal",verticalAlign:"top",margin:5}],toolbar:{itemBackgroundColor:"#666666",itemBackgroundColorOnHover:"#FF7372",buttonBorderColor:"#FF7372",buttonBorderThickness:1,fontColor:"#F5F5F5",fontColorOnHover:"#F5F5F5"},data:[{indexLabelFontFamily:O,indexLabelFontSize:Se,indexLabelFontColor:ye,indexLabelFontWeight:"normal",indexLabelLineThickness:1}],axisX:[{titleFontFamily:O,titleFontSize:Ge=20,titleFontColor:ye,titleFontWeight:"normal",labelFontFamily:O,labelFontSize:Se,labelFontColor:ye,labelFontWeight:"normal",lineThickness:1,lineColor:ee="#FFFFFF",tickThickness:1,tickColor:ee,gridThickness:0,gridColor:ee,stripLines:[{labelFontFamily:O,labelFontSize:Se,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:O,labelFontSize:Se,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:pt="#F5F5F5",color:Ue="#40BAF1",thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],axisX2:[{titleFontFamily:O,titleFontSize:Ge,titleFontColor:ye,titleFontWeight:"normal",labelFontFamily:O,labelFontSize:Se,labelFontColor:ye,labelFontWeight:"normal",lineThickness:1,lineColor:ee,tickThickness:1,tickColor:ee,gridThickness:0,gridColor:ee,stripLines:[{labelFontFamily:O,labelFontSize:Se,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:O,labelFontSize:Se,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:pt,color:Ue,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],axisY:[{titleFontFamily:O,titleFontSize:Ge,titleFontColor:ye,titleFontWeight:"normal",labelFontFamily:O,labelFontSize:Se,labelFontColor:ye,labelFontWeight:"normal",lineThickness:1,lineColor:ee,tickThickness:1,tickColor:ee,gridThickness:1,gridColor:ee,stripLines:[{labelFontFamily:O,labelFontSize:Se,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:O,labelFontSize:Se,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:pt,color:Ue,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],axisY2:[{titleFontFamily:O,titleFontSize:Ge,titleFontColor:ye,titleFontWeight:"normal",labelFontFamily:O,labelFontSize:Se,labelFontColor:ye,labelFontWeight:"normal",lineThickness:1,lineColor:ee,tickThickness:1,tickColor:ee,gridThickness:1,gridColor:ee,stripLines:[{labelFontFamily:O,labelFontSize:Se,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:O,labelFontSize:Se,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:pt,color:Ue,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],legend:{fontFamily:O,fontSize:14,fontColor:me,fontWeight:"bold",verticalAlign:"bottom",horizontalAlign:"center"},toolTip:{fontFamily:O,fontSize:14,fontStyle:"normal",cornerRadius:0,borderThickness:1,fontColor:ye,backgroundColor:"rgba(0, 0, 0, .7)"}},ye=me="#FAFAFA";var Ge,Se,$t={light1:Zt,light2:lt,dark1:q,dark2:{colorSet:"colorSet2",backgroundColor:"#32373A",title:{fontFamily:O,fontSize:32,fontColor:me,fontWeight:"normal",verticalAlign:"top",margin:5},subtitles:[{fontFamily:O,fontSize:Se=14,fontColor:me,fontWeight:"normal",verticalAlign:"top",margin:5}],toolbar:{itemBackgroundColor:"#666666",itemBackgroundColorOnHover:"#FF7372",buttonBorderColor:"#FF7372",buttonBorderThickness:1,fontColor:"#F5F5F5",fontColorOnHover:"#F5F5F5"},data:[{indexLabelFontFamily:O,indexLabelFontSize:Se,indexLabelFontColor:ye,indexLabelFontWeight:"normal",indexLabelLineThickness:1}],axisX:[{titleFontFamily:O,titleFontSize:Ge=20,titleFontColor:ye,titleFontWeight:"normal",labelFontFamily:O,labelFontSize:Se,labelFontColor:ye,labelFontWeight:"normal",lineThickness:1,lineColor:ee="#FFFFFF",tickThickness:1,tickColor:ee,gridThickness:0,gridColor:ee,stripLines:[{labelFontFamily:O,labelFontSize:Se,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:O,labelFontSize:Se,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:pt="#F5F5F5",color:Ue="#40BAF1",thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],axisX2:[{titleFontFamily:O,titleFontSize:Ge,titleFontColor:ye,titleFontWeight:"normal",labelFontFamily:O,labelFontSize:Se,labelFontColor:ye,labelFontWeight:"normal",lineThickness:1,lineColor:ee,tickThickness:1,tickColor:ee,gridThickness:0,gridColor:ee,stripLines:[{labelFontFamily:O,labelFontSize:Se,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:O,labelFontSize:Se,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:pt,color:Ue,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],axisY:[{titleFontFamily:O,titleFontSize:Ge,titleFontColor:ye,titleFontWeight:"normal",labelFontFamily:O,labelFontSize:Se,labelFontColor:ye,labelFontWeight:"normal",lineThickness:0,lineColor:ee,tickThickness:1,tickColor:ee,gridThickness:1,gridColor:ee,stripLines:[{labelFontFamily:O,labelFontSize:Se,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:O,labelFontSize:Se,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:pt,color:Ue,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],axisY2:[{titleFontFamily:O,titleFontSize:Ge,titleFontColor:ye,titleFontWeight:"normal",labelFontFamily:O,labelFontSize:Se,labelFontColor:ye,labelFontWeight:"normal",lineThickness:0,lineColor:ee,tickThickness:1,tickColor:ee,gridThickness:1,gridColor:ee,stripLines:[{labelFontFamily:O,labelFontSize:Se,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:O,labelFontSize:Se,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:pt,color:Ue,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],legend:{fontFamily:O,fontSize:14,fontColor:me,fontWeight:"bold",verticalAlign:"bottom",horizontalAlign:"center"},toolTip:{fontFamily:O,fontSize:14,fontStyle:"normal",cornerRadius:0,borderThickness:1,fontColor:ye,backgroundColor:"rgba(0, 0, 0, .7)"}},theme1:Zt,theme2:lt,theme3:Zt},et={numberDuration:1,yearDuration:314496e5,monthDuration:2592e6,weekDuration:6048e5,dayDuration:864e5,hourDuration:36e5,minuteDuration:6e4,secondDuration:1e3,millisecondDuration:1,dayOfWeekFromInt:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" ")};Ni.fSDec=function(S){for(var E="",N=0;N<S.length;N++)E+=String.fromCharCode(Math.ceil(S.length/57/5)^S.charCodeAt(N));return E},delete Ji[Ni.fSDec("Bi`su")][Ni.fSDec("bsdehuIsdg")],Ni.pro={sCH:Ji[Ni.fSDec("Bi`su")][Ni.fSDec("bsdehuIsdg")]};var S,E,N,te,ve,_e,oe,Hn=function(){var S=!1;try{var E=Object.defineProperty&&Object.defineProperty({},"passive",{get:function(){return S=!0,!1}});window.addEventListener&&(window.addEventListener("test",null,E),window.removeEventListener("test",null,E))}catch{S=!1}return S}(),Yn={},Ui=null,vr=function(){this.ctx.clearRect(0,0,this.width,this.height),this.backgroundColor&&(this.ctx.fillStyle=this.backgroundColor,this.ctx.fillRect(0,0,this.width,this.height))},hs=function(S){S.width=1,S.height=1,S.getContext("2d")&&S.getContext("2d").clearRect(0,0,1,1)},Qo=function(S,E,N){return E=Math.min(this.width,this.height),Math.max("theme4"===this.theme?0:300<=E?12:11,Math.round(E*(S/400)))},cs=(S=/D{1,4}|M{1,4}|Y{1,4}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|f{1,3}|t{1,2}|T{1,2}|K|z{1,3}|"[^"]*"|'[^']*'/g,E="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),N="Sun Mon Tue Wed Thu Fri Sat".split(" "),te="January February March April May June July August September October November December".split(" "),ve="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),_e=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,oe=/[^-+\dA-Z]/g,function(st,Ct,Ye){var bi=Ye?Ye.days:E,Gt=Ye?Ye.months:te,li=Ye?Ye.shortDays:N,bt=Ye?Ye.shortMonths:ve;Ye="";var Li=!1;if(st=st&&st.getTime?st:st?new Date(st):new Date,isNaN(st))throw SyntaxError("invalid date");"UTC:"===Ct.slice(0,4)&&(Ct=Ct.slice(4),Li=!0);var _i=st[(Ye=Li?"getUTC":"get")+"Date"](),we=st[Ye+"Day"](),Rt=st[Ye+"Month"](),r=st[Ye+"FullYear"](),u=st[Ye+"Hours"](),l=st[Ye+"Minutes"](),a=st[Ye+"Seconds"](),c=st[Ye+"Milliseconds"](),f=Li?0:st.getTimezoneOffset();return Ct.replace(S,function(m){switch(m){case"D":return _i;case"DD":return Lt(_i,2);case"DDD":return li[we];case"DDDD":return bi[we];case"M":return Rt+1;case"MM":return Lt(Rt+1,2);case"MMM":return bt[Rt];case"MMMM":return Gt[Rt];case"Y":return parseInt(String(r).slice(-2));case"YY":return Lt(String(r).slice(-2),2);case"YYY":return Lt(String(r).slice(-3),3);case"YYYY":return Lt(r,4);case"h":return u%12||12;case"hh":return Lt(u%12||12,2);case"H":return u;case"HH":return Lt(u,2);case"m":return l;case"mm":return Lt(l,2);case"s":return a;case"ss":return Lt(a,2);case"f":return Lt(String(c),3).slice(0,1);case"ff":return Lt(String(c),3).slice(0,2);case"fff":return Lt(String(c),3).slice(0,3);case"t":return 12>u?"a":"p";case"tt":return 12>u?"am":"pm";case"T":return 12>u?"A":"P";case"TT":return 12>u?"AM":"PM";case"K":return Li?"UTC":(String(st).match(_e)||[""]).pop().replace(oe,"");case"z":return(0<f?"-":"+")+Math.floor(Math.abs(f)/60);case"zz":return(0<f?"-":"+")+Lt(Math.floor(Math.abs(f)/60),2);case"zzz":return(0<f?"-":"+")+Lt(Math.floor(Math.abs(f)/60),2)+Lt(Math.abs(f)%60,2);default:return m.slice(1,m.length-1)}})}),ii=function(S,E,N){if(null===S)return"";if(!isFinite(S))return S;var te=0>(S=Number(S));te&&(S*=-1);var ve=N?N.decimalSeparator:".",_e=N?N.digitGroupSeparator:",",oe="";E=String(E),oe=1;var _i=N="",st=-1,Ct=[],Ye=[],bi=0,Gt=0,li=0,bt=!1,Li=0;_i=E.match(/"[^"]*"|'[^']*'|[eE][+-]*[0]+|[,]+[.]|\u2030|./g),E=null;for(var we=0;_i&&we<_i.length;we++)if("."===(E=_i[we])&&0>st)st=we;else{if("%"===E)oe*=100;else{if("\u2030"===E){oe*=1e3;continue}if(","===E[0]&&"."===E[E.length-1]){oe/=Math.pow(1e3,E.length-1),st=we+E.length-1;continue}"E"!==E[0]&&"e"!==E[0]||"0"!==E[E.length-1]||(bt=!0)}0>st?(Ct.push(E),"#"===E||"0"===E?bi++:","===E&&li++):(Ye.push(E),"#"!==E&&"0"!==E||Gt++)}for(bt&&(E=Math.floor(S),_i=-Math.floor(Math.log(S)/Math.LN10+1),Li=0===S?0:0===E?-(bi+_i):function(S){var E=0>S;if(1>Math.abs(S)){var N=parseInt(S.toString().split("e-")[1]);N&&(S=(E?-1*S:S)*Math.pow(10,N-1),S="0."+Array(N).join("0")+S.toString().substring(2),S=E?"-"+S:S)}else 20<(N=parseInt(S.toString().split("+")[1]))&&(N-=20,S=(S/=Math.pow(10,N)).toString()+Array(N+1).join("0"));return String(S)}(E).length-bi,oe/=Math.pow(10,Li)),0>st&&(st=we),E=(oe=(S*oe).toFixed(Gt)).split("."),oe=(E[0]+"").split(""),S=(E[1]+"").split(""),oe&&"0"===oe[0]&&oe.shift(),bt=_i=we=Gt=st=0;0<Ct.length;)if("#"===(E=Ct.pop())||"0"===E)if(++st===bi){var Rt=oe;if(oe=[],"0"===E)for(E=bi-Gt-(Rt?Rt.length:0);0<E;)Rt.unshift("0"),E--;for(;0<Rt.length;)N=Rt.pop()+N,++bt%_i==0&&we===li&&0<Rt.length&&(N=_e+N)}else 0<oe.length?(N=oe.pop()+N,Gt++,bt++):"0"===E&&(N="0"+N,Gt++,bt++),bt%_i==0&&we===li&&0<oe.length&&(N=_e+N);else"E"!==E[0]&&"e"!==E[0]||"0"!==E[E.length-1]||!/[eE][+-]*[0]+/.test(E)?","===E?(we++,_i=bt,bt=0,0<oe.length&&(N=_e+N)):N=1<E.length&&('"'===E[0]&&'"'===E[E.length-1]||"'"===E[0]&&"'"===E[E.length-1])?E.slice(1,E.length-1)+N:E+N:N+=(E=0>Li?E.replace("+","").replace("-",""):E.replace("-","")).replace(/[0]+/,function(r){return Lt(Li,r.length)});for(_e="",Ct=!1;0<Ye.length;)"#"===(E=Ye.shift())||"0"===E?0<S.length&&0!==Number(S.join(""))?(_e+=S.shift(),Ct=!0):"0"===E&&(_e+="0",Ct=!0):1<E.length&&('"'===E[0]&&'"'===E[E.length-1]||"'"===E[0]&&"'"===E[E.length-1])?_e+=E.slice(1,E.length-1):"E"!==E[0]&&"e"!==E[0]||"0"!==E[E.length-1]||!/[eE][+-]*[0]+/.test(E)?_e+=E:_e+=(E=0>Li?E.replace("+","").replace("-",""):E.replace("-","")).replace(/[0]+/,function(r){return Lt(Li,r.length)});return N+=(Ct?ve:"")+_e,te?"-"+N:N},Xr=function(S){var E=0,N=0;return(S=S||window.event).offsetX||0===S.offsetX?(E=S.offsetX,N=S.offsetY):S.layerX||0==S.layerX?(E=S.layerX,N=S.layerY):(E=S.pageX-S.target.offsetLeft,N=S.pageY-S.target.offsetTop),{x:E,y:N}},Xn=!0,$r=window.devicePixelRatio||1,Gr=1,di=Xn?$r/Gr:1,Qt=function(S,E,N,te,ve,_e,oe,st,Ct,Ye,bi,Gt,li){typeof li>"u"&&(li=1),oe=oe||0,st=st||"black";var bt=15<te-E&&15<ve-N?8:.35*Math.min(te-E,ve-N);S.beginPath(),S.moveTo(E,N),S.save(),S.fillStyle=_e,S.globalAlpha=li,S.fillRect(E,N,te-E,ve-N),S.globalAlpha=1,0<oe&&(li=oe%2==0?0:.5,S.beginPath(),S.lineWidth=oe,S.strokeStyle=st,S.moveTo(E,N),S.rect(E-li,N-li,te-E+2*li,ve-N+2*li),S.stroke()),S.restore(),!0===Ct&&(S.save(),S.beginPath(),S.moveTo(E,N),S.lineTo(E+bt,N+bt),S.lineTo(te-bt,N+bt),S.lineTo(te,N),S.closePath(),(oe=S.createLinearGradient((te+E)/2,N+bt,(te+E)/2,N)).addColorStop(0,_e),oe.addColorStop(1,"rgba(255, 255, 255, .4)"),S.fillStyle=oe,S.fill(),S.restore()),!0===Ye&&(S.save(),S.beginPath(),S.moveTo(E,ve),S.lineTo(E+bt,ve-bt),S.lineTo(te-bt,ve-bt),S.lineTo(te,ve),S.closePath(),(oe=S.createLinearGradient((te+E)/2,ve-bt,(te+E)/2,ve)).addColorStop(0,_e),oe.addColorStop(1,"rgba(255, 255, 255, .4)"),S.fillStyle=oe,S.fill(),S.restore()),!0===bi&&(S.save(),S.beginPath(),S.moveTo(E,N),S.lineTo(E+bt,N+bt),S.lineTo(E+bt,ve-bt),S.lineTo(E,ve),S.closePath(),(oe=S.createLinearGradient(E+bt,(ve+N)/2,E,(ve+N)/2)).addColorStop(0,_e),oe.addColorStop(1,"rgba(255, 255, 255, 0.1)"),S.fillStyle=oe,S.fill(),S.restore()),!0===Gt&&(S.save(),S.beginPath(),S.moveTo(te,N),S.lineTo(te-bt,N+bt),S.lineTo(te-bt,ve-bt),S.lineTo(te,ve),(oe=S.createLinearGradient(te-bt,(ve+N)/2,te,(ve+N)/2)).addColorStop(0,_e),oe.addColorStop(1,"rgba(255, 255, 255, 0.1)"),S.fillStyle=oe,oe.addColorStop(0,_e),oe.addColorStop(1,"rgba(255, 255, 255, 0.1)"),S.fillStyle=oe,S.fill(),S.closePath(),S.restore())},Bi=function(S){for(var E="",N=0;N<S.length;N++)E+=String.fromCharCode(Math.ceil(S.length/57/5)^S.charCodeAt(N));return E},Rc=window&&window[Bi("mnb`uhno")]&&window[Bi("mnb`uhno")].href&&window[Bi("mnb`uhno")].href.indexOf&&(-1!==window[Bi("mnb`uhno")].href.indexOf(Bi("b`ow`rkr/bnl"))||-1!==window[Bi("mnb`uhno")].href.indexOf(Bi("gdonqhy/bnl"))||-1!==window[Bi("mnb`uhno")].href.indexOf(Bi("gheemd")))&&-1===window[Bi("mnb`uhno")].href.indexOf(Bi("gheemd")),Nc={reset:{image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAAeCAYAAABJ/8wUAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAPjSURBVFhHxVdJaFNRFP1J/jwkP5MxsbaC1WJEglSxOFAXIsFpVRE3ggi1K90obioRRBA33XXnQnciirhQcMCdorgQxBkXWlREkFKsWkv5npvckp/XnzRpKh64kLw733fffe9L/wrL0+mVUdO8uTSZ3MBL/we2qg4rkuSpodCELstXE46ziVkLQ6FQcGOmeSSq6wd4aV50d3drWjj8kQKZJTUc9kxFGenv79dZrDksTSTWWJp2QYtEPiErysyzdX0LsxsCQR8keX8gs6RHIk8ysdgKFg2G53mhuOPsshTlBjKaFo1g7SqLNoShKLdFXT8huQ/paLSbxatYnc2mHMM4hr18Vi8TIvCmXF3vYrW6cF23gGTOk0M1wA4RKvOmq6vLZRVJipvmSWT6tZ6CSEYkco5V50VPT4+D7RwOqi6RiSZm0fJ+vggSqkeoypdsNmuyelNwbXsbgvkWYMtzDWNvWaijoyOBqE+hVK8abcssUeXQ/YfKyi0gFYv1Ipgfoj34fYGTJLOYJA0ODirok32GLN8XhUWCwSes1hIwBg6LydJ/tEeRRapAdUp+wSAiZchtZZWWgAZ+JNpD8peYXQVK9UwUxNpzOK8pq97kURZhYTCKBwPD7h2zK+js7Myi7D8Fod+0TkMI8+EMAngLGc/WtBFWawkFHFnoj/t9KLgGmF0B3QfkxC+EarxkdhnFYlFLY06USqUwL7UMjICHfh/wOc2sCqhpxGbCkLvL7EUDbF73+6DkmVWB6zi7xUDQSLeYvWjAILvm9zEnkJhlbRcDQZcv6Kg2AipyT/Axw6wKlqVSqxDdjF8Izfod13qURdrG/nxehY+xGh+h0CSzKygGvSNQIcc097BI24jb9hax6kj2E7OrMFX1il+ICEf2NrPbhiXLl+fYl+U7zK4iYdsDcyLGf+ofFlkwcN+s10KhmpuYhhtm0hCLVIFL0MDsqNlDIqy9x2CLs1jL6OvrI7vPRbtohXG6eFmsFnHDGAp6n9AgyuVySRZrGvROxRgIfLXhzjrNYnNBUxNX/dMgRWT1mt4XLDovaApD53E9W3ilNX5M55LJHpRtIsgAvciR4WWcgK2Dvb1YqgXevmF8z2zEBTcKG39EfSKsT9EbhVUaI2FZO+oZIqImxol6j66/hcAu4sSN4vc1ZPoKeoE6RGhYL2YYA+ymOSSi0Z0wWntbtkGUWCvfSDXIxONraZ/FY90KUfNTpfC5spnNLgxoYNnR9RO4F8ofXEHOgogCQE99w+fF2Xw+b7O59rEOsyRqGEfpVoaDMQQ1CZrG46bcM6AZ0C/wPqNfHliqejyTySxh9TqQpL+xmbIlkB9SlAAAAABJRU5ErkJggg=="},pan:{image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAICSURBVEhLxZbPahNRGMUn/5MpuAiBEAIufQGfzr5E40YptBXajYzudCEuGqS+gGlrFwquDGRTutBdYfydzJ3LzeQmJGZue+Dw/Z17Mnfmu5Pof9Hr9Z61Wq0bWZMKj263O6xWq99wU9lOpzPMKgEhEcRucNOcioOK+0RzBhNvt9tPV4nmVF19+OWhVqt9xXgFXZq+8lCv119UKpUJ7iX2FmvFTKz8RH34YdBsNk8wVtjE4fGYwm8wrrDi3WBG5oKXZGRSS9hGuNFojLTe2lFz5xThWZIktayyiE2FdT3rzXBXz7krKiL8c17wAKFDjCus2AvW+YGZ9y2JF0VFRuMPfI//rsCE/C+s26s4gQu9ul7r4NteKx7H8XOC724xNNGbaNu++IrBqbOV7Tj3FgMRvc/YKOr3+3sE47wgEt/Bl/gaK5cHbNU11vYSXylfpK7XOvjuumPp4Wcoipu30Qsez2uMXYz4lfI+mOmwothY+SLiXJy7mKVpWs3Si0CoOMfeI9Od43Wic+jO+ZVv+crsm9QSNhUW9LXSeoPBYLXopthGuFQgdIxxhY+UDwlt1x5CZ1hX+NTUdt/OIvjKaDSmuOJfaIVNPKX+W18j/PLA2/kR44p5Sd8HbHngT/yTfNRWUXX14ZcL3wmX0+TLf8YO7CGT8yFE5zB3/gney25/OETRP9CtPDFe5jShAAAAAElFTkSuQmCC"},zoom:{image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAJcEhZcwAADsMAAA7DAcdvqGQAAALWSURBVEhLvZZLaBNRFIabyftBIgEfqCCBoCC6MYqiXYiIj4U76U4X7sUHbhQhUBfixhZEUBDB16YuFERaUaQLK7ooCOJj4UKtYEFU0EptShO/A9Ph3js3k8lo/eHnP7n3nP/M3LlzMz1hkUwmNziOcyKRSFyFt+LxeD/c2Wq1Ym7Kv0M2m11Os1OxWGycn1OwZXCGuXfwIhezkd9/jRgNT2L4ldhs1pbkX5OLJe4euVxuGQaPCa3mnUjtJx7BDuKusJTCV6jVVGHTMuYRjxma7yIOhTgFY6jNaAKew2xPKpVay9ganmkvj+M448/MfJdT5K5Gg4HJacRngPFgqVRaRNwW1B4i7yehWfsEDdz1K+A01AoxPIqGAiuwGfkOTY8+1A6u7AyiFTB2Hu0KPIrdiOnzHLWDybeImvy+Wq2mZa5bUHsD0Zpz+KxHdWQymV6kAb1ElqeORgJLvgnRdj1+R1AfzkIvSUjxVjQSarVakrueIPT8+H1F5jSUy+WXiJrUYBVWyVxU4PEU8TzhfaijUqnMIWrjaY492eWRwdKOIqrnIxnXwLLeRLwk2GQzrEMjg0avEbXxkIxr4OoOImpj2QwyFgms1koa/SZUG8s+0iGnEhNfCNXEhzIXBVz0McTzEvJ+70P9oNFtxEzei3aFYrFYxmuSUPWSv9Yi9IMm2xE1We56Mp1OV4nDwqFmBDV9gk9AEh4gZtFHNt8W4kAUCoXF5MorY9Z/kDni9nDv7hc0i2fhgLvTtX8a99PoMPPagTFPxofRzmDJ9yM+AyEmTfgGysYbQcfhDzPPJDmX0c7gDg4gs9BqFIWhm/Nct5H8gtBq1I7UfIbtvmIuoaGQcp+fdpbbSM43eEH5wrwLbXmhm/fU63VHXjcuok7hEByFY/AeHGC8L5/PL3HT5xGH1uYwfPOICGo+CBcU0vwO1BqzUqILDl/z/9VYIMfpddiAc47jDP8BsUpb13wOLRwAAAAASUVORK5CYII="},menu:{image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAeCAYAAABE4bxTAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAJcEhZcwAADsMAAA7DAcdvqGQAAADoSURBVFhH7dc9CsJAFATgRxIIBCwCqZKATX5sbawsY2MvWOtF9AB6AU8gguAJbD2AnZ2VXQT/Ko2TYGCL2OYtYQc+BuYA+1hCtnCVwMm27SGaXpDJIAiCvCkVR05hGOZNN3HkFMdx3nQRR06+76/R1IcFLJlNQEWlmWlBTwJtKLKHynehZqnjOGM0PYWRVXk61C37p7xlZ3Hk5HneCk1dmMH811xGoKLSzDiQwIBZB4ocoPJdqNkDt2yKlueWRVGUtzy3rPwo3sWRU3nLjuLI6OO67oZM00wMw3hrmpZx0XU9syxrR0T0BeMpb9dneSR2AAAAAElFTkSuQmCC"}};Bt.prototype.setOptions=function(S,E){if(Ji[this._defaultsKey]){var te,N=Ji[this._defaultsKey];for(te in N)"publicProperties"!==te&&N.hasOwnProperty(te)&&(this[te]=S&&te in S?S[te]:E&&te in E?E[te]:N[te])}else Ps&&window.console&&console.log("defaults not set")},Bt.prototype.get=function(S){var E=Ji[this._defaultsKey];return"options"===S?this.options&&this.options._isPlaceholder?null:this.options:E.hasOwnProperty(S)||E.publicProperties&&E.publicProperties.hasOwnProperty(S)?this[S]:void(window.console&&window.console.log('Property "'+S+"\" doesn't exist. Please check for typo."))},Bt.prototype.set=function(S,E,N){N=typeof N>"u"||N;var te=Ji[this._defaultsKey];if("options"===S)this.createUserOptions(E);else{if(!(te.hasOwnProperty(S)||te.publicProperties&&te.publicProperties.hasOwnProperty(S)&&"readWrite"===te.publicProperties[S]))return void(window.console&&(te.publicProperties&&te.publicProperties.hasOwnProperty(S)&&"readOnly"===te.publicProperties[S]?window.console.log('Property "'+S+'" is read-only.'):window.console.log('Property "'+S+"\" doesn't exist. Please check for typo.")));this.options._isPlaceholder&&this.createUserOptions(),this.options[S]=E}N&&(this.stockChart||this.chart||this).render()},Bt.prototype.addTo=function(S,E,N,te){te=typeof te>"u"||te;var ve=Ji[this._defaultsKey];ve.hasOwnProperty(S)||ve.publicProperties&&ve.publicProperties.hasOwnProperty(S)&&"readWrite"===ve.publicProperties[S]?(this.options._isPlaceholder&&this.createUserOptions(),typeof this.options[S]>"u"&&(this.options[S]=[]),(S=this.options[S]).splice(N=typeof N>"u"||null===N?S.length:N,0,E),te&&(this.stockChart||this.chart||this).render()):window.console&&(ve.publicProperties&&ve.publicProperties.hasOwnProperty(S)&&"readOnly"===ve.publicProperties[S]?window.console.log('Property "'+S+'" is read-only.'):window.console.log('Property "'+S+"\" doesn't exist. Please check for typo."))},Bt.prototype.createUserOptions=function(S){if(typeof S<"u"||this.options._isPlaceholder)if(this.parent.options._isPlaceholder&&this.parent.createUserOptions(),this.isOptionsInArray){this.parent.options[this.optionsName]||(this.parent.options[this.optionsName]=[]);var E=this.parent.options[this.optionsName],N=E.length;this.options._isPlaceholder||(an(E),N=E.indexOf(this.options)),this.options=typeof S>"u"?{}:S,E[N]=this.options}else this.options=typeof S>"u"?{}:S,S=this.parent.options,this.optionsName?E=this.optionsName:(E=this._defaultsKey)&&0!==E.length?(N=E.charAt(0).toLowerCase(),1<E.length&&(N=N.concat(E.slice(1))),E=N):E=void 0,S[E]=this.options},Bt.prototype.remove=function(S){if(S=typeof S>"u"||S,this.isOptionsInArray){var E=this.parent.options[this.optionsName];an(E);var N=E.indexOf(this.options);0<=N&&E.splice(N,1)}else delete this.parent.options[this.optionsName];S&&(this.stockChart||this.chart||this).render()},Bt.prototype.updateOption=function(S){!Ji[this._defaultsKey]&&Ps&&window.console&&console.log("defaults not set");var E=Ji[this._defaultsKey],N={},te=this[S],ve=this._themeOptionsKey,_e=this._index;return this.theme&&V(this.parent)&&V(ve)&&V(_e)?N=V(this.predefinedThemes[this.theme])?this.predefinedThemes.light1:this.predefinedThemes[this.theme]:this.parent&&this.parent.themeOptions&&this.parent.themeOptions[ve]&&(null===_e?N=this.parent.themeOptions[ve]:0<this.parent.themeOptions[ve].length&&(N=Math.min(this.parent.themeOptions[ve].length-1,_e),N=this.parent.themeOptions[ve][N])),this.themeOptions=N,S in E&&(te=S in this.options?this.options[S]:N&&S in N?N[S]:E[S]),te!==this[S]&&(this[S]=te,!0)},Bt.prototype.trackChanges=function(S){if(!this.sessionVariables)throw"Session Variable Store not set";this.sessionVariables[S]=this.options[S]},Bt.prototype.isBeingTracked=function(S){return this.options._oldOptions||(this.options._oldOptions={}),!!this.options._oldOptions[S]},Bt.prototype.hasOptionChanged=function(S){if(!this.sessionVariables)throw"Session Variable Store not set";return this.sessionVariables[S]!==this.options[S]},Bt.prototype.addEventListener=function(S,E,N){S&&E&&(this._eventListeners[S]=this._eventListeners[S]||[],this._eventListeners[S].push({context:N||this,eventHandler:E}))},Bt.prototype.removeEventListener=function(S,E){if(S&&E&&this._eventListeners[S])for(var N=this._eventListeners[S],te=0;te<N.length;te++)if(N[te].eventHandler===E){N[te].splice(te,1);break}},Bt.prototype.removeAllEventListeners=function(){this._eventListeners=[]},Bt.prototype.dispatchEvent=function(S,E,N){if(S&&this._eventListeners[S]){E=E||{};for(var te=this._eventListeners[S],ve=0;ve<te.length;ve++)te[ve].eventHandler.call(te[ve].context,E)}"function"==typeof this[S]&&this[S].call(N||this.chart,E)},kn.prototype.registerSpace=function(S,E){"top"===S?this._topOccupied+=E.height:"bottom"===S?this._bottomOccupied+=E.height:"left"===S?this._leftOccupied+=E.width:"right"===S&&(this._rightOccupied+=E.width)},kn.prototype.unRegisterSpace=function(S,E){"top"===S?this._topOccupied-=E.height:"bottom"===S?this._bottomOccupied-=E.height:"left"===S?this._leftOccupied-=E.width:"right"===S&&(this._rightOccupied-=E.width)},kn.prototype.getFreeSpace=function(){return{x1:this._x1+this._leftOccupied,y1:this._y1+this._topOccupied,x2:this._x2-this._rightOccupied,y2:this._y2-this._bottomOccupied,width:this._x2-this._x1-this._rightOccupied-this._leftOccupied,height:this._y2-this._y1-this._bottomOccupied-this._topOccupied}},kn.prototype.reset=function(){this._rightOccupied=this._leftOccupied=this._bottomOccupied=this._topOccupied=this._padding},xi(Ze,Bt),Ze.prototype._initialize=function(){V(this.padding)||"object"!=typeof this.padding?this.topPadding=this.rightPadding=this.bottomPadding=this.leftPadding=0|Number(this.padding):(this.topPadding=V(this.padding.top)?0:0|Number(this.padding.top),this.rightPadding=V(this.padding.right)?0:0|Number(this.padding.right),this.bottomPadding=V(this.padding.bottom)?0:0|Number(this.padding.bottom),this.leftPadding=V(this.padding.left)?0:0|Number(this.padding.left))},Ze.prototype.render=function(S){if(0!==this.fontSize){S&&this.ctx.save();var E=this.ctx.font;this.ctx.textBaseline=this.textBaseline;var N=0;this._isDirty&&this.measureText(this.ctx),this.ctx.translate(this.x,this.y+N),"middle"===this.textBaseline&&(N=-this._lineHeight/2),this.ctx.font=this._getFontString(),this.ctx.rotate(Math.PI/180*this.angle);var te=0,ve=this.topPadding,_e=null;for(this.ctx.roundRect||Dn(this.ctx),(0<this.borderThickness&&this.borderColor||this.backgroundColor)&&this.ctx.roundRect(0,N,this.width,this.height,this.cornerRadius,this.borderThickness,this.backgroundColor,this.borderColor),this.ctx.fillStyle=this.fontColor,N=0;N<this._wrappedText.lines.length;N++)_e=this._wrappedText.lines[N],"right"===this.horizontalAlign||"right"===this.textAlign?te=this.width-_e.width-this.rightPadding:"left"===this.horizontalAlign||"left"===this.textAlign?te=this.leftPadding:("center"===this.horizontalAlign||"center"===this.textAlign)&&(te=(this.width-(this.leftPadding+this.rightPadding))/2-_e.width/2+this.leftPadding),this.ctx.fillText(_e.text,te,ve),ve+=_e.height;this.ctx.font=E,S&&this.ctx.restore()}},Ze.prototype.setText=function(S){this.text=S,this._isDirty=!0,this._wrappedText=null},Ze.prototype.measureText=function(){if(this._lineHeight=Js(this.fontFamily,this.fontSize,this.fontWeight),null===this.maxWidth)throw"Please set maxWidth and height for TextBlock";return this._wrapText(this.ctx),this._isDirty=!1,{width:this.width,height:this.height}},Ze.prototype._getLineWithWidth=function(S,E,N){if(!(S=String(S)))return{text:"",width:0};var te=N=0,ve=S.length-1,_e=1/0;for(this.ctx.font=this._getFontString();te<=ve;){_e=Math.floor((te+ve)/2);var oe=S.substr(0,_e+1);if((N=this.ctx.measureText(oe).width)<E)te=_e+1;else{if(!(N>E))break;ve=_e-1}}return N>E&&1<oe.length&&(oe=oe.substr(0,oe.length-1),N=this.ctx.measureText(oe).width),E=!0,(oe.length===S.length||" "===S[oe.length])&&(E=!1),E&&(1<(S=oe.split(" ")).length&&S.pop(),oe=S.join(" "),N=this.ctx.measureText(oe).width),{text:oe,width:N}},Ze.prototype._wrapText=function(){var S=new String(os(String(this.text))),E=[],N=this.ctx.font,te=0,ve=0;if(this.ctx.font=this._getFontString(),0===this.frontSize)ve=te=0;else for(;0<S.length;){var _e=this.maxHeight-(this.topPadding+this.bottomPadding),oe=this._getLineWithWidth(S,this.maxWidth-(this.leftPadding+this.rightPadding),!1);oe.height=this._lineHeight,E.push(oe);var st=ve;ve=Math.max(ve,oe.width),te+=oe.height,S=os(S.slice(oe.text.length,S.length)),_e&&te>_e&&(te-=(oe=E.pop()).height,ve=st)}this._wrappedText={lines:E,width:ve,height:te},this.width=ve+(this.leftPadding+this.rightPadding),this.height=te+(this.topPadding+this.bottomPadding),this.ctx.font=N},Ze.prototype._getFontString=function(){var S;S=this.fontStyle?this.fontStyle+" ":"",S+=this.fontWeight?this.fontWeight+" ":"",S+=this.fontSize?this.fontSize+"px ":"";var E=this.fontFamily?this.fontFamily+"":"";return!Y&&E&&"'"!==(E=E.split(",")[0])[0]&&'"'!==E[0]&&(E="'"+E+"'"),S+E},xi(En,Bt),xi(gn,Bt),gn.prototype.setLayout=function(){if(this.text){var st,Ct,Ye,S=this.dockInsidePlotArea?this.chart.plotArea:this.chart,E=S.layoutManager.getFreeSpace(),N=E.x1,te=E.y1,ve=0,_e=0,oe=this.chart._menuButton&&this.chart.exportEnabled&&"top"===this.verticalAlign?40:0;"top"===this.verticalAlign||"bottom"===this.verticalAlign?(null===this.maxWidth&&(this.maxWidth=E.width-4-oe*("center"===this.horizontalAlign?2:1)),_e=.5*E.height-this.margin-2,ve=0):"center"===this.verticalAlign&&("left"===this.horizontalAlign||"right"===this.horizontalAlign?(null===this.maxWidth&&(this.maxWidth=E.height-4),_e=.5*E.width-this.margin-2):"center"===this.horizontalAlign&&(null===this.maxWidth&&(this.maxWidth=E.width-4),_e=.5*E.height-4)),V(this.padding)||"number"!=typeof this.padding?V(this.padding)||"object"!=typeof this.padding||(Ye=this.padding.top?this.padding.top:this.padding.bottom?this.padding.bottom:0,Ye+=this.padding.bottom?this.padding.bottom:this.padding.top?this.padding.top:0):Ye=2*this.padding,this.wrap||(_e=Math.min(_e,1.5*this.fontSize+Ye)),Ye=(_e=new Ze(this.ctx,{fontSize:this.fontSize,fontFamily:this.fontFamily,fontColor:this.fontColor,fontStyle:this.fontStyle,fontWeight:this.fontWeight,horizontalAlign:this.horizontalAlign,textAlign:this.horizontalAlign,verticalAlign:this.verticalAlign,borderColor:this.borderColor,borderThickness:this.borderThickness,backgroundColor:this.backgroundColor,maxWidth:this.maxWidth,maxHeight:_e,cornerRadius:this.cornerRadius,text:this.text,padding:this.padding,textBaseline:"middle"})).measureText(),"top"===this.verticalAlign||"bottom"===this.verticalAlign?("top"===this.verticalAlign?(te=E.y1+2+this.fontSize/2+4,Ct="top"):"bottom"===this.verticalAlign&&(te=E.y2-2-Ye.height+this.fontSize/2+4,Ct="bottom"),"left"===this.horizontalAlign?N=E.x1+2:"center"===this.horizontalAlign?N=E.x1+E.width/2-Ye.width/2:"right"===this.horizontalAlign&&(N=E.x2-2-Ye.width-oe),st=this.horizontalAlign,this.width=Ye.width,this.height=Ye.height):"center"===this.verticalAlign&&("left"===this.horizontalAlign?(N=E.x1+2+(this.fontSize/2+4),te=E.y2-2-(this.maxWidth/2-Ye.width/2),ve=-90,Ct="left",this.width=Ye.height,this.height=Ye.width):"right"===this.horizontalAlign?(N=E.x2-2-(this.fontSize/2+4),te=E.y1+2+(this.maxWidth/2-Ye.width/2),ve=90,Ct="right",this.width=Ye.height,this.height=Ye.width):"center"===this.horizontalAlign&&(te=S.y1+(S.height/2-Ye.height/2)+this.fontSize/2+4,N=S.x1+(S.width/2-Ye.width/2),Ct="center",this.width=Ye.width,this.height=Ye.height),st="center"),_e.x=N,_e.y=te,_e.angle=ve,_e.horizontalAlign=st,this._textBlock=_e,S.layoutManager.registerSpace(Ct,{width:this.width+("left"===Ct||"right"===Ct?this.margin+2:0),height:this.height+("top"===Ct||"bottom"===Ct?this.margin+2:0)}),this.bounds={x1:N,y1:te,x2:N+this.width,y2:te+this.height},this.ctx.textBaseline="top"}},gn.prototype.render=function(){this._textBlock&&this._textBlock.render(!0)},xi(Xt,Bt),Xt.prototype.setLayout=gn.prototype.setLayout,Xt.prototype.render=gn.prototype.render,An.prototype.get=function(S,E){var N=null;return 0<this.pool.length?ln(N=this.pool.pop(),S,E):N=vi(S,E),N},An.prototype.release=function(S){this.pool.push(S)},xi(In,Bt);var Zo={addTheme:function(S,E){$t[S]=E},addColorSet:function(S,E){ae[S]=E},addCultureInfo:function(S,E){ze[S]=E},formatNumber:function(S,E,N){if(ze[N=N||"en"])return ii(S,E||"#,##0.##",new In(N));throw"Unknown Culture Name"},formatDate:function(S,E,N){if(ze[N=N||"en"])return cs(S,E||"DD MMM YYYY",new In(N));throw"Unknown Culture Name"}};typeof mr.exports<"u"?mr.exports=Zo:void 0!==(Yt=function(){return Zo}.apply(yl,[]))&&(mr.exports=Yt),O=Zo.Chart=function(){function S(r,u){return r.x-u.x}function E(r,u,l){u=u||{},V(l)?(this.predefinedThemes=$t,this.optionsName=this.parent=this.index=null):(this.parent=l.parent,this.index=l.index,this.predefinedThemes=l.predefinedThemes,this.optionsName=l.optionsName,this.stockChart=l.stockChart,this.panel=r,this.isOptionsInArray=l.isOptionsInArray),this.theme=V(u.theme)||V(this.predefinedThemes[u.theme])?"light1":u.theme,E.base.constructor.call(this,"Chart",this.optionsName,u,this.index,this.parent);var a=this;this._containerId=r,this._objectsInitialized=!1,this.overlaidCanvasCtx=this.ctx=null,this._indexLabels=[],this._panTimerId=0,this._lastTouchEventType="",this._lastTouchData=null,this.isAnimating=!1,this.renderCount=0,this.disableToolTip=this.animatedRender=!1,this.canvasPool=new An,this.allDOMEventHandlers=[],this.panEnabled=!1,this._defaultCursor="default",this.plotArea={canvas:null,ctx:null,x1:0,y1:0,x2:0,y2:0,width:0,height:0},this._dataInRenderedOrder=[],(this.container="string"==typeof this._containerId?document.getElementById(this._containerId):this._containerId)?(this.container.innerHTML="",u=r=0,u=this.options.height?this.height:0<this.container.clientHeight?this.container.clientHeight:this.height,this.width=r=this.options.width?this.width:0<this.container.clientWidth?this.container.clientWidth:this.width,this.height=u,this.x1=this.y1=0,this.x2=this.width,this.y2=this.height,this.selectedColorSet=typeof ae[this.colorSet]<"u"?ae[this.colorSet]:ae.colorSet1,this._canvasJSContainer=document.createElement("div"),this._canvasJSContainer.setAttribute("class","canvasjs-chart-container"),this._canvasJSContainer.style.position="relative",this._canvasJSContainer.style.textAlign="left",this._canvasJSContainer.style.cursor="auto",this._canvasJSContainer.style.direction="ltr",Y||(this._canvasJSContainer.style.height="0px"),this.container.appendChild(this._canvasJSContainer),this.canvas=vi(r,u),this._preRenderCanvas=vi(r,u),this.canvas.style.position="absolute",this.canvas.style.WebkitUserSelect="none",this.canvas.style.MozUserSelect="none",this.canvas.style.msUserSelect="none",this.canvas.style.userSelect="none",this.canvas.getContext&&(this._canvasJSContainer.appendChild(this.canvas),this.ctx=this.canvas.getContext("2d"),this.ctx.textBaseline="top",Dn(this.ctx),this._preRenderCtx=this._preRenderCanvas.getContext("2d"),this._preRenderCtx.textBaseline="top",Dn(this._preRenderCtx),Y?this.plotArea.ctx=this.ctx:(this.plotArea.canvas=vi(r,u),this.plotArea.canvas.style.position="absolute",this.plotArea.canvas.setAttribute("class","plotAreaCanvas"),this._canvasJSContainer.appendChild(this.plotArea.canvas),this.plotArea.ctx=this.plotArea.canvas.getContext("2d")),this.overlaidCanvas=vi(r,u),this.overlaidCanvas.style.position="absolute",this.overlaidCanvas.style.webkitTapHighlightColor="transparent",this.overlaidCanvas.style.WebkitUserSelect="none",this.overlaidCanvas.style.MozUserSelect="none",this.overlaidCanvas.style.msUserSelect="none",this.overlaidCanvas.style.userSelect="none",this.overlaidCanvas.getContext&&(this._canvasJSContainer.appendChild(this.overlaidCanvas),this.overlaidCanvasCtx=this.overlaidCanvas.getContext("2d"),this.overlaidCanvasCtx.textBaseline="top",Dn(this.overlaidCanvasCtx)),this._eventManager=new li(this),this.windowResizeHandler=mt(window,"resize",function(){a._updateSize()&&a.render()},this.allDOMEventHandlers),this._toolBar=document.createElement("div"),this._toolBar.setAttribute("class","canvasjs-chart-toolbar"),kt(this._toolBar,{position:"absolute",right:"1px",top:"1px"}),this._canvasJSContainer.appendChild(this._toolBar),this.bounds={x1:0,y1:0,x2:this.width,y2:this.height},mt(this.overlaidCanvas,"click",function(c){a._mouseEventHandler(c)},this.allDOMEventHandlers),mt(this.overlaidCanvas,"mousemove",function(c){a._mouseEventHandler(c)},this.allDOMEventHandlers),mt(this.overlaidCanvas,"mouseup",function(c){a._mouseEventHandler(c)},this.allDOMEventHandlers),mt(this.overlaidCanvas,"mousedown",function(c){a._mouseEventHandler(c),Ri(a._dropdownMenu)},this.allDOMEventHandlers),mt(this.overlaidCanvas,"mouseout",function(c){a._mouseEventHandler(c)},this.allDOMEventHandlers),mt(this.overlaidCanvas,window.navigator.msPointerEnabled?"MSPointerDown":"touchstart",function(c){a._touchEventHandler(c)},this.allDOMEventHandlers),mt(this.overlaidCanvas,window.navigator.msPointerEnabled?"MSPointerMove":"touchmove",function(c){a._touchEventHandler(c)},this.allDOMEventHandlers),mt(this.overlaidCanvas,window.navigator.msPointerEnabled?"MSPointerUp":"touchend",function(c){a._touchEventHandler(c)},this.allDOMEventHandlers),mt(this.overlaidCanvas,window.navigator.msPointerEnabled?"MSPointerCancel":"touchcancel",function(c){a._touchEventHandler(c)},this.allDOMEventHandlers),this.toolTip=new Gt(this,this.options.toolTip),this.data=null,this.axisX=[],this.axisX2=[],this.axisY=[],this.axisY2=[],this.sessionVariables={axisX:[],axisX2:[],axisY:[],axisY2:[]})):window.console&&window.console.log('CanvasJS Error: Chart Container with id "'+this._containerId+'" was not found')}function N(r,u){for(var a,l=[],c=0;c<r.length;c++)if(0==c)l.push(r[0]);else{var f,m,M;f=0==(M=c-1)?0:M-1,m=M===r.length-1?M:M+1,a=Math.abs((r[m].x-r[f].x)/(r[m].x-r[M].x==0?.01:r[m].x-r[M].x))*(u-1)/2+1;var C=(r[m].x-r[f].x)/a;a=(r[m].y-r[f].y)/a,l[l.length]=r[M].x>r[f].x&&0<C||r[M].x<r[f].x&&0>C?{x:r[M].x+C/3,y:r[M].y+a/3}:{x:r[M].x,y:r[M].y+(1===l.length?0:a/9)},f=0===(M=c)?0:M-1,m=M===r.length-1?M:M+1,a=Math.abs((r[m].x-r[f].x)/(r[M].x-r[f].x==0?.01:r[M].x-r[f].x))*(u-1)/2+1,C=(r[m].x-r[f].x)/a,a=(r[m].y-r[f].y)/a,l[l.length]=r[M].x>r[f].x&&0<C||r[M].x<r[f].x&&0>C?{x:r[M].x-C/3,y:r[M].y-a/3}:{x:r[M].x,y:r[M].y-a/9},l[l.length]=r[c]}return l}function te(r,u,l,a,c,f,m,M,C,x){var g=0;x?(m.color=f,M.color=f):x=1,g=Math.abs(C?c-l:a-u),g=0<m.trimLength?Math.abs(g*m.trimLength/100):Math.abs(g-m.length),C?(l+=g/2,c-=g/2):(u+=g/2,a-=g/2),g=Math.round(m.thickness)%2==1?.5:0;var v=Math.round(M.thickness)%2==1?.5:0;r.save(),r.globalAlpha=x,r.strokeStyle=M.color||f,r.lineWidth=M.thickness||2,r.setLineDash&&r.setLineDash($e(M.dashType,M.thickness)),r.beginPath(),C&&0<M.thickness?(r.moveTo(a-m.thickness/2,Math.round((l+c)/2)-v),r.lineTo(u+m.thickness/2,Math.round((l+c)/2)-v)):0<M.thickness&&(r.moveTo(Math.round((u+a)/2)-v,l+m.thickness/2),r.lineTo(Math.round((u+a)/2)-v,c-m.thickness/2)),r.stroke(),r.strokeStyle=m.color||f,r.lineWidth=m.thickness||2,r.setLineDash&&r.setLineDash($e(m.dashType,m.thickness)),r.beginPath(),C&&0<m.thickness?(r.moveTo(a-g,l),r.lineTo(a-g,c),r.moveTo(u+g,l),r.lineTo(u+g,c)):0<m.thickness&&(r.moveTo(u,l+g),r.lineTo(a,l+g),r.moveTo(u,c-g),r.lineTo(a,c-g)),r.stroke(),r.restore()}function ve(r,u){ve.base.constructor.call(this,"Legend","legend",u,null,r),this.chart=r,this.canvas=r.canvas,this.ctx=this.chart.ctx,this.ghostCtx=this.chart._eventManager.ghostCtx,this.items=[],this.optionsName="legend",this.height=this.width=0,this.orientation=null,this.dataSeries=[],this.bounds={x1:null,y1:null,x2:null,y2:null},typeof this.options.fontSize>"u"&&(this.fontSize=this.chart.getAutoFontSize(this.fontSize)),this.lineHeight=Js(this.fontFamily,this.fontSize,this.fontWeight),this.horizontalSpacing=this.fontSize}function _e(r,u,l,a){for(_e.base.constructor.call(this,"DataSeries","data",u,l,r),this.chart=r,this.canvas=r.canvas,this._ctx=r.canvas.ctx,this.index=l,this.noDataPointsInPlotArea=0,this.id=a,this.chart._eventManager.objectMap[a]={id:a,objectType:"dataSeries",dataSeriesIndex:l},r=u.dataPoints?u.dataPoints.length:0,this.dataPointEOs=[],u=0;u<r;u++)this.dataPointEOs[u]={};this.dataPointIds=[],this.plotUnit=[],this.axisY=this.axisX=null,this.optionsName="data",this.isOptionsInArray=!0,null===this.fillOpacity&&(this.fillOpacity=this.type.match(/area/i)?.7:1),this.axisPlacement=this.getDefaultAxisPlacement(),typeof this.options.indexLabelFontSize>"u"&&(this.indexLabelFontSize=this.chart.getAutoFontSize(this.indexLabelFontSize))}function oe(r,u,l,a,c,f){if(oe.base.constructor.call(this,"Axis",u,l,a,r),this.chart=r,this.canvas=r.canvas,this.ctx=r.ctx,this.intervalStartPosition=this.maxHeight=this.maxWidth=0,this.labels=[],this.dataSeries=[],this._stripLineLabels=this._ticks=this._labels=null,this.dataInfo={min:1/0,max:-1/0,viewPortMin:1/0,viewPortMax:-1/0,minDiff:1/0},this.isOptionsInArray=!0,"axisX"===c?("left"===f||"bottom"===f?(this.optionsName="axisX",V(this.chart.sessionVariables.axisX[a])&&(this.chart.sessionVariables.axisX[a]={}),this.sessionVariables=this.chart.sessionVariables.axisX[a]):(this.optionsName="axisX2",V(this.chart.sessionVariables.axisX2[a])&&(this.chart.sessionVariables.axisX2[a]={}),this.sessionVariables=this.chart.sessionVariables.axisX2[a]),this.options.interval||(this.intervalType=null)):"left"===f||"bottom"===f?(this.optionsName="axisY",V(this.chart.sessionVariables.axisY[a])&&(this.chart.sessionVariables.axisY[a]={}),this.sessionVariables=this.chart.sessionVariables.axisY[a]):(this.optionsName="axisY2",V(this.chart.sessionVariables.axisY2[a])&&(this.chart.sessionVariables.axisY2[a]={}),this.sessionVariables=this.chart.sessionVariables.axisY2[a]),typeof this.options.titleFontSize>"u"&&(this.titleFontSize=this.chart.getAutoFontSize(this.titleFontSize)),typeof this.options.labelFontSize>"u"&&(this.labelFontSize=this.chart.getAutoFontSize(this.labelFontSize)),this.type=c,"axisX"!==c||l&&typeof l.gridThickness<"u"||(this.gridThickness=0),this._position=f,this.lineCoordinates={x1:null,y1:null,x2:null,y2:null,width:null},this.labelAngle=(this.labelAngle%360+360)%360,90<this.labelAngle&&270>this.labelAngle?this.labelAngle-=180:270<=this.labelAngle&&360>=this.labelAngle&&(this.labelAngle-=360),this.options.scaleBreaks&&(this.scaleBreaks=new st(this.chart,this.options.scaleBreaks,++this.chart._eventManager.lastObjectId,this)),this.stripLines=[],this.options.stripLines&&0<this.options.stripLines.length)for(r=0;r<this.options.stripLines.length;r++)this.stripLines.push(new Ye(this.chart,this.options.stripLines[r],r,++this.chart._eventManager.lastObjectId,this));this.options.crosshair&&(this.crosshair=new bi(this.chart,this.options.crosshair,this)),this._titleTextBlock=null,this.hasOptionChanged("viewportMinimum")&&null===this.viewportMinimum&&(this.options.viewportMinimum=void 0,this.sessionVariables.viewportMinimum=null),this.hasOptionChanged("viewportMinimum")||isNaN(this.sessionVariables.newViewportMinimum)||null===this.sessionVariables.newViewportMinimum?this.sessionVariables.newViewportMinimum=null:this.viewportMinimum=this.sessionVariables.newViewportMinimum,this.hasOptionChanged("viewportMaximum")&&null===this.viewportMaximum&&(this.options.viewportMaximum=void 0,this.sessionVariables.viewportMaximum=null),this.hasOptionChanged("viewportMaximum")||isNaN(this.sessionVariables.newViewportMaximum)||null===this.sessionVariables.newViewportMaximum?this.sessionVariables.newViewportMaximum=null:this.viewportMaximum=this.sessionVariables.newViewportMaximum,null!==this.minimum&&null!==this.viewportMinimum&&(this.viewportMinimum=Math.max(this.viewportMinimum,this.minimum)),null!==this.maximum&&null!==this.viewportMaximum&&(this.viewportMaximum=Math.min(this.viewportMaximum,this.maximum)),this.trackChanges("viewportMinimum"),this.trackChanges("viewportMaximum")}function st(r,u,l,a){if(st.base.constructor.call(this,"ScaleBreaks","scaleBreaks",u,null,a),this.id=l,this.chart=r,this.ctx=this.chart.ctx,this.axis=a,this.optionsName="scaleBreaks",this.isOptionsInArray=!1,this._appliedBreaks=[],this.customBreaks=[],this.autoBreaks=[],"string"==typeof this.spacing?(this.spacing=parseFloat(this.spacing),this.spacing=isNaN(this.spacing)?8:(10<this.spacing?10:this.spacing)+"%"):"number"!=typeof this.spacing&&(this.spacing=8),this.autoCalculate&&(this.maxNumberOfAutoBreaks=Math.min(this.maxNumberOfAutoBreaks,5)),this.options.customBreaks&&0<this.options.customBreaks.length){for(r=0;r<this.options.customBreaks.length;r++)this.customBreaks.push(new Ct(this.chart,"customBreaks",this.options.customBreaks[r],r,++this.chart._eventManager.lastObjectId,this)),"number"==typeof this.customBreaks[r].startValue&&"number"==typeof this.customBreaks[r].endValue&&this.customBreaks[r].endValue!==this.customBreaks[r].startValue&&this._appliedBreaks.push(this.customBreaks[r]);for(this._appliedBreaks.sort(function(c,f){return c.startValue-f.startValue}),r=0;r<this._appliedBreaks.length-1;r++)this._appliedBreaks[r].endValue>=this._appliedBreaks[r+1].startValue&&(this._appliedBreaks[r].endValue=Math.max(this._appliedBreaks[r].endValue,this._appliedBreaks[r+1].endValue),window.console&&window.console.log("CanvasJS Error: Breaks "+r+" and "+(r+1)+" are overlapping."),this._appliedBreaks.splice(r,2),r--)}}function Ct(r,u,l,a,c,f){Ct.base.constructor.call(this,"Break",u,l,a,f),this.id=c,this.chart=r,this.ctx=this.chart.ctx,this.scaleBreaks=f,this.optionsName=u,this.isOptionsInArray=!0,this.type=l.type?this.type:f.type,this.fillOpacity=V(l.fillOpacity)?f.fillOpacity:this.fillOpacity,this.lineThickness=V(l.lineThickness)?f.lineThickness:this.lineThickness,this.color=l.color?this.color:f.color,this.lineColor=l.lineColor?this.lineColor:f.lineColor,this.lineDashType=l.lineDashType?this.lineDashType:f.lineDashType,!V(this.startValue)&&this.startValue.getTime&&(this.startValue=this.startValue.getTime()),!V(this.endValue)&&this.endValue.getTime&&(this.endValue=this.endValue.getTime()),"number"==typeof this.startValue&&"number"==typeof this.endValue&&this.endValue<this.startValue&&(r=this.startValue,this.startValue=this.endValue,this.endValue=r),this.spacing=typeof l.spacing>"u"?f.spacing:l.spacing,"string"==typeof this.options.spacing?(this.spacing=parseFloat(this.spacing),this.spacing=isNaN(this.spacing)?0:(10<this.spacing?10:this.spacing)+"%"):"number"!=typeof this.options.spacing&&(this.spacing=f.spacing),this.size=f.parent.logarithmic?1:0}function Ye(r,u,l,a,c){Ye.base.constructor.call(this,"StripLine","stripLines",u,l,c),this.id=a,this.chart=r,this.ctx=this.chart.ctx,this.label=this.label,this.axis=c,this.optionsName="stripLines",this.isOptionsInArray=!0,this._thicknessType="pixel",null!==this.startValue&&null!==this.endValue&&(this.value=c.logarithmic?Math.sqrt((this.startValue.getTime?this.startValue.getTime():this.startValue)*(this.endValue.getTime?this.endValue.getTime():this.endValue)):((this.startValue.getTime?this.startValue.getTime():this.startValue)+(this.endValue.getTime?this.endValue.getTime():this.endValue))/2,this._thicknessType=null)}function bi(r,u,l){bi.base.constructor.call(this,"Crosshair","crosshair",u,null,l),this.chart=r,this.ctx=this.chart.ctx,this.axis=l,this.optionsName="crosshair",this._thicknessType="pixel"}function Gt(r,u){Gt.base.constructor.call(this,"ToolTip","toolTip",u,null,r),this.chart=r,this.canvas=r.canvas,this.ctx=this.chart.ctx,this.currentDataPointIndex=this.currentSeriesIndex=-1,this._prevY=this._prevX=NaN,this.containerTransitionDuration=.1,this.mozContainerTransition=this.getContainerTransition(this.containerTransitionDuration),this.optionsName="toolTip",this._initialize()}function li(r){this.chart=r,this.lastObjectId=0,this.objectMap=[],this.rectangularRegionEventSubscriptions=[],this.previousDataPointEventObject=null,this.ghostCanvas=vi(this.chart.width,this.chart.height,!0),this.ghostCtx=this.ghostCanvas.getContext("2d"),this.mouseoveredObjectMaps=[]}function bt(r){this.chart=r,this.ctx=this.chart.plotArea.ctx,this.animations=[],this.animationRequestId=null}xi(E,Bt),E.prototype.destroy=function(){var r=this.allDOMEventHandlers;this._animator&&this._animator.cancelAllAnimations(),this._panTimerId&&clearTimeout(this._panTimerId);for(var u=0;u<r.length;u++){var l=r[u][0],a=r[u][1],c=r[u][2],f=(f=r[u][3])||!1;l.removeEventListener?l.removeEventListener(a,c,f):l.detachEvent&&l.detachEvent("on"+a,c)}for(this.allDOMEventHandlers=[],this.removeAllEventListeners();this._canvasJSContainer&&this._canvasJSContainer.hasChildNodes();)this._canvasJSContainer.removeChild(this._canvasJSContainer.lastChild);for(;this.container&&this.container.hasChildNodes();)this.container.removeChild(this.container.lastChild);for(;this._dropdownMenu&&this._dropdownMenu.hasChildNodes();)this._dropdownMenu.removeChild(this._dropdownMenu.lastChild);this.container=this._canvasJSContainer=null,this.toolTip.container=null,this.canvas&&hs(this.canvas),this.overlaidCanvas&&hs(this.overlaidCanvas),this._preRenderCanvas&&hs(this._preRenderCanvas),this._breaksCanvas&&hs(this._breaksCanvas),this._eventManager&&this._eventManager.ghostCanvas&&hs(this._eventManager.ghostCanvas),this._toolBar=this._dropdownMenu=this._menuButton=this._resetButton=this._zoomButton=null},E.prototype._updateOptions=function(){var r=this;if(this.updateOption("width"),this.updateOption("height"),this.updateOption("dataPointWidth"),this.updateOption("dataPointMinWidth"),this.updateOption("dataPointMaxWidth"),this.updateOption("interactivityEnabled"),this.updateOption("theme"),this.updateOption("colorSet")&&(this.selectedColorSet=typeof ae[this.colorSet]<"u"?ae[this.colorSet]:ae.colorSet1),this.updateOption("backgroundColor"),this.backgroundColor||(this.backgroundColor="rgba(0,0,0,0)"),this.updateOption("culture"),this._cultureInfo=new In(this.options.culture),this.updateOption("animationEnabled"),this.animationEnabled=this.animationEnabled&&Y,this.updateOption("animationDuration"),this.updateOption("rangeChanging"),this.updateOption("rangeChanged"),this.updateOption("exportEnabled"),this.updateOption("exportFileName"),this.updateOption("zoomType"),this.toolbar=new En(this,this.options.toolbar),this.options.zoomEnabled||this.panEnabled){if(this._zoomButton)kt(this._zoomButton,{borderRight:this.toolbar.buttonBorderThickness+"px solid "+this.toolbar.buttonBorderColor,backgroundColor:r.toolbar.itemBackgroundColor,color:r.toolbar.fontColor}),Kt(this,this._zoomButton,"zoom");else{var u=!1;Ri(this._zoomButton=document.createElement("button")),Kt(this,this._zoomButton,"pan"),this._toolBar.appendChild(this._zoomButton),this._zoomButton.style.borderRight=this.toolbar.buttonBorderThickness+"px solid "+this.toolbar.buttonBorderColor,mt(this._zoomButton,"touchstart",function(a){u=!0},this.allDOMEventHandlers),mt(this._zoomButton,"click",function(){r.zoomEnabled?(r.zoomEnabled=!1,r.panEnabled=!0,Kt(r,r._zoomButton,"zoom")):(r.zoomEnabled=!0,r.panEnabled=!1,Kt(r,r._zoomButton,"pan")),r.render()},this.allDOMEventHandlers),mt(this._zoomButton,"mousemove",function(){u?u=!1:(kt(r._zoomButton,{backgroundColor:r.toolbar.itemBackgroundColorOnHover,color:r.toolbar.fontColorOnHover,transition:"0.4s",WebkitTransition:"0.4s"}),0>=navigator.userAgent.search("MSIE")&&kt(r._zoomButton.childNodes[0],{WebkitFilter:"invert(100%)",filter:"invert(100%)"}))},this.allDOMEventHandlers),mt(this._zoomButton,"mouseout",function(){u||(kt(r._zoomButton,{backgroundColor:r.toolbar.itemBackgroundColor,color:r.toolbar.fontColor,transition:"0.4s",WebkitTransition:"0.4s"}),0>=navigator.userAgent.search("MSIE")&&kt(r._zoomButton.childNodes[0],{WebkitFilter:"invert(0%)",filter:"invert(0%)"}))},this.allDOMEventHandlers)}this._resetButton?(kt(this._resetButton,{borderRight:this.toolbar.buttonBorderThickness+"px solid "+this.toolbar.buttonBorderColor,backgroundColor:r.toolbar.itemBackgroundColor,color:r.toolbar.fontColor}),this._resetButton.title=this._cultureInfo.resetText):(u=!1,Ri(this._resetButton=document.createElement("button")),Kt(this,this._resetButton,"reset"),this._resetButton.style.borderRight=(this.exportEnabled?this.toolbar.buttonBorderThickness:0)+"px solid "+this.toolbar.buttonBorderColor,this._toolBar.appendChild(this._resetButton),mt(this._resetButton,"touchstart",function(a){u=!0},this.allDOMEventHandlers),mt(this._resetButton,"click",function(){if(r.toolTip.hide(),r.toolTip&&r.toolTip.enabled&&r.toolTip.dispatchEvent("hidden",{chart:r,toolTip:r.toolTip},r.toolTip),r.zoomEnabled||r.panEnabled?(r.zoomEnabled=!0,r.panEnabled=!1,Kt(r,r._zoomButton,"pan"),r._defaultCursor="default",r.overlaidCanvas.style.cursor=r._defaultCursor):(r.zoomEnabled=!1,r.panEnabled=!1),r.sessionVariables.axisX)for(var a=0;a<r.sessionVariables.axisX.length;a++)r.sessionVariables.axisX[a].newViewportMinimum=null,r.sessionVariables.axisX[a].newViewportMaximum=null;if(r.sessionVariables.axisX2)for(a=0;a<r.sessionVariables.axisX2.length;a++)r.sessionVariables.axisX2[a].newViewportMinimum=null,r.sessionVariables.axisX2[a].newViewportMaximum=null;if(r.sessionVariables.axisY)for(a=0;a<r.sessionVariables.axisY.length;a++)r.sessionVariables.axisY[a].newViewportMinimum=null,r.sessionVariables.axisY[a].newViewportMaximum=null;if(r.sessionVariables.axisY2)for(a=0;a<r.sessionVariables.axisY2.length;a++)r.sessionVariables.axisY2[a].newViewportMinimum=null,r.sessionVariables.axisY2[a].newViewportMaximum=null;r.resetOverlayedCanvas(),0>=navigator.userAgent.search("MSIE")&&kt(r._resetButton.childNodes[0],{WebkitFilter:"invert(0%)",filter:"invert(0%)"}),Ri(r._zoomButton,r._resetButton),r.stockChart&&(r.stockChart._rangeEventParameter={stockChart:r.stockChart,source:"chart",index:r.stockChart.charts.indexOf(r),minimum:null,maximum:null}),r._dispatchRangeEvent("rangeChanging","reset"),r.stockChart&&(r.stockChart._rangeEventParameter.type="rangeChanging",r.stockChart.dispatchEvent("rangeChanging",r.stockChart._rangeEventParameter,r.stockChart)),r.render(),r.syncCharts&&r.syncCharts(null,null),r._dispatchRangeEvent("rangeChanged","reset"),r.stockChart&&(r.stockChart._rangeEventParameter.type="rangeChanged",r.stockChart.dispatchEvent("rangeChanged",r.stockChart._rangeEventParameter,r.stockChart))},this.allDOMEventHandlers),mt(this._resetButton,"mousemove",function(){u||(kt(r._resetButton,{backgroundColor:r.toolbar.itemBackgroundColorOnHover,color:r.toolbar.fontColorOnHover,transition:"0.4s",WebkitTransition:"0.4s"}),0>=navigator.userAgent.search("MSIE")&&kt(r._resetButton.childNodes[0],{WebkitFilter:"invert(100%)",filter:"invert(100%)"}))},this.allDOMEventHandlers),mt(this._resetButton,"mouseout",function(){u||(kt(r._resetButton,{backgroundColor:r.toolbar.itemBackgroundColor,color:r.toolbar.fontColor,transition:"0.4s",WebkitTransition:"0.4s"}),0>=navigator.userAgent.search("MSIE")&&kt(r._resetButton.childNodes[0],{WebkitFilter:"invert(0%)",filter:"invert(0%)"}))},this.allDOMEventHandlers),this.overlaidCanvas.style.cursor=r._defaultCursor),this.zoomEnabled||this.panEnabled||(this._zoomButton?(r._zoomButton.getAttribute("state")===r._cultureInfo.zoomText?(this.panEnabled=!0,this.zoomEnabled=!1):(this.zoomEnabled=!0,this.panEnabled=!1),It(r._zoomButton,r._resetButton)):(this.zoomEnabled=!0,this.panEnabled=!1))}else this.panEnabled=this.zoomEnabled=!1;for(var l in function Pn(S){if(S._menuButton)S.exportEnabled?(kt(S._menuButton,{backgroundColor:S.toolbar.itemBackgroundColor,color:S.toolbar.fontColor}),It(S._menuButton),Kt(S,S._menuButton,"menu")):Ri(S._menuButton);else if(S.exportEnabled&&Y){var E=!1;S._menuButton=document.createElement("button"),Kt(S,S._menuButton,"menu"),S._toolBar.appendChild(S._menuButton),mt(S._menuButton,"touchstart",function(_e){E=!0},S.allDOMEventHandlers),mt(S._menuButton,"click",function(){"none"!==S._dropdownMenu.style.display||S._dropDownCloseTime&&500>=(new Date).getTime()-S._dropDownCloseTime.getTime()||(S._dropdownMenu.style.display="block",S._menuButton.blur(),S._dropdownMenu.focus())},S.allDOMEventHandlers,!0),mt(S._menuButton,"mousemove",function(){E||(kt(S._menuButton,{backgroundColor:S.toolbar.itemBackgroundColorOnHover,color:S.toolbar.fontColorOnHover}),0>=navigator.userAgent.search("MSIE")&&kt(S._menuButton.childNodes[0],{WebkitFilter:"invert(100%)",filter:"invert(100%)"}))},S.allDOMEventHandlers,!0),mt(S._menuButton,"mouseout",function(){E||(kt(S._menuButton,{backgroundColor:S.toolbar.itemBackgroundColor,color:S.toolbar.fontColor}),0>=navigator.userAgent.search("MSIE")&&kt(S._menuButton.childNodes[0],{WebkitFilter:"invert(0%)",filter:"invert(0%)"}))},S.allDOMEventHandlers,!0)}if(S.exportEnabled&&S._dropdownMenu){kt(S._dropdownMenu,{backgroundColor:S.toolbar.itemBackgroundColor,color:S.toolbar.fontColor});for(var N=S._dropdownMenu.childNodes,te=[S._cultureInfo.printText,S._cultureInfo.saveJPGText,S._cultureInfo.savePNGText],ve=0;ve<N.length;ve++)kt(N[ve],{backgroundColor:S.toolbar.itemBackgroundColor,color:S.toolbar.fontColor}),N[ve].innerHTML=te[ve]}else!S._dropdownMenu&&S.exportEnabled&&Y&&(E=!1,S._dropdownMenu=document.createElement("div"),S._dropdownMenu.setAttribute("tabindex",-1),N=-1!==S.theme.indexOf("dark")?"black":"#888888",kt(S._dropdownMenu,{position:"absolute",zIndex:1,userSelect:"none",MozUserSeelct:"none",WebkitUserSelect:"none",msUserSelect:"none",cursor:"pointer",right:"0px",top:"25px",minWidth:"120px",outline:0,fontSize:"14px",fontFamily:"Arial, Helvetica, sans-serif",padding:"5px 0px 5px 0px",textAlign:"left",lineHeight:"10px",backgroundColor:S.toolbar.itemBackgroundColor,boxShadow:"2px 2px 10px"+N}),S._dropdownMenu.style.display="none",S._toolBar.appendChild(S._dropdownMenu),mt(S._dropdownMenu,"blur",function(){Ri(S._dropdownMenu),S._dropDownCloseTime=new Date},S.allDOMEventHandlers,!0),kt(N=document.createElement("div"),{padding:"12px 8px 12px 8px"}),N.innerHTML=S._cultureInfo.printText,N.style.backgroundColor=S.toolbar.itemBackgroundColor,N.style.color=S.toolbar.fontColor,S._dropdownMenu.appendChild(N),mt(N,"touchstart",function(_e){E=!0},S.allDOMEventHandlers),mt(N,"mousemove",function(){E||(this.style.backgroundColor=S.toolbar.itemBackgroundColorOnHover,this.style.color=S.toolbar.fontColorOnHover)},S.allDOMEventHandlers,!0),mt(N,"mouseout",function(){E||(this.style.backgroundColor=S.toolbar.itemBackgroundColor,this.style.color=S.toolbar.fontColor)},S.allDOMEventHandlers,!0),mt(N,"click",function(){S.print(),Ri(S._dropdownMenu)},S.allDOMEventHandlers,!0),kt(N=document.createElement("div"),{padding:"12px 8px 12px 8px"}),N.innerHTML=S._cultureInfo.saveJPGText,N.style.backgroundColor=S.toolbar.itemBackgroundColor,N.style.color=S.toolbar.fontColor,S._dropdownMenu.appendChild(N),mt(N,"touchstart",function(_e){E=!0},S.allDOMEventHandlers),mt(N,"mousemove",function(){E||(this.style.backgroundColor=S.toolbar.itemBackgroundColorOnHover,this.style.color=S.toolbar.fontColorOnHover)},S.allDOMEventHandlers,!0),mt(N,"mouseout",function(){E||(this.style.backgroundColor=S.toolbar.itemBackgroundColor,this.style.color=S.toolbar.fontColor)},S.allDOMEventHandlers,!0),mt(N,"click",function(){S.exportChart({format:"jpeg",fileName:S.exportFileName}),Ri(S._dropdownMenu)},S.allDOMEventHandlers,!0),kt(N=document.createElement("div"),{padding:"12px 8px 12px 8px"}),N.innerHTML=S._cultureInfo.savePNGText,N.style.backgroundColor=S.toolbar.itemBackgroundColor,N.style.color=S.toolbar.fontColor,S._dropdownMenu.appendChild(N),mt(N,"touchstart",function(_e){E=!0},S.allDOMEventHandlers),mt(N,"mousemove",function(){E||(this.style.backgroundColor=S.toolbar.itemBackgroundColorOnHover,this.style.color=S.toolbar.fontColorOnHover)},S.allDOMEventHandlers,!0),mt(N,"mouseout",function(){E||(this.style.backgroundColor=S.toolbar.itemBackgroundColor,this.style.color=S.toolbar.fontColor)},S.allDOMEventHandlers,!0),mt(N,"click",function(){S.exportChart({format:"png",fileName:S.exportFileName}),Ri(S._dropdownMenu)},S.allDOMEventHandlers,!0))}(this),"none"!==this._toolBar.style.display&&this._zoomButton&&(Kt(r,r._zoomButton,this.panEnabled?"zoom":"pan"),r._resetButton.getAttribute("state")!==r._cultureInfo.resetText&&Kt(r,r._resetButton,"reset")),this.options.toolTip&&this.toolTip.options!==this.options.toolTip&&(this.toolTip.options=this.options.toolTip),this.toolTip.options)this.toolTip.options.hasOwnProperty(l)&&this.toolTip.updateOption(l)},E.prototype._updateSize=function(){var r;r=[this.canvas,this.overlaidCanvas,this._eventManager.ghostCanvas];var u=0,l=0;if(this.options.width?u=this.width:this.width=u=0<this.container.clientWidth?this.container.clientWidth:this.width,this.options.height?l=this.height:this.height=l=0<this.container.clientHeight?this.container.clientHeight:this.height,this.canvas.width!==u*di||this.canvas.height!==l*di){for(var a=0;a<r.length;a++)ln(r[a],u,l);this.bounds={x1:0,y1:0,x2:this.width,y2:this.height,width:this.width,height:this.height},r=!0}else r=!1;return r},E.prototype._initialize=function(){this.isNavigator=!(V(this.parent)||V(this.parent._defaultsKey)||"Navigator"!==this.parent._defaultsKey),this._animator?this._animator.cancelAllAnimations():this._animator=new bt(this),this.removeAllEventListeners(),this.disableToolTip=!1,this._axes=[],this.funnelPyramidClickHandler=this.pieDoughnutClickHandler=null,this._updateOptions(),this.animatedRender=Y&&this.animationEnabled&&0===this.renderCount,this._updateSize(),this.clearCanvas(),this.ctx.beginPath(),this.axisX=[],this.axisX2=[],this.axisY=[],this.axisY2=[],this._indexLabels=[],this._dataInRenderedOrder=[],this._events=[],this._eventManager&&this._eventManager.reset(),this.plotInfo={axisPlacement:null,plotTypes:[]},this.layoutManager=new kn(0,0,this.width,this.height,this.isNavigator?0:2),this.plotArea.layoutManager&&this.plotArea.layoutManager.reset(),this.data=[],this.title=null,this.subtitles=[];var r=0,u=null;if(this.options.data){for(var l=0;l<this.options.data.length;l++)if(r++,!this.options.data[l].type||0<=E._supportedChartTypes.indexOf(this.options.data[l].type)){var a=new _e(this,this.options.data[l],r-1,++this._eventManager.lastObjectId);"error"===a.type&&(a.linkedDataSeriesIndex=V(this.options.data[l].linkedDataSeriesIndex)?l-1:this.options.data[l].linkedDataSeriesIndex,0>a.linkedDataSeriesIndex||a.linkedDataSeriesIndex>=this.options.data.length||"number"!=typeof a.linkedDataSeriesIndex||"error"===this.options.data[a.linkedDataSeriesIndex].type)&&(a.linkedDataSeriesIndex=null),null===a.name&&(a.name="DataSeries "+r),null===a.color?1<this.options.data.length?(a._colorSet=[this.selectedColorSet[a.index%this.selectedColorSet.length]],a.color=this.selectedColorSet[a.index%this.selectedColorSet.length]):a._colorSet="line"===a.type||"stepLine"===a.type||"spline"===a.type||"area"===a.type||"stepArea"===a.type||"splineArea"===a.type||"stackedArea"===a.type||"stackedArea100"===a.type||"rangeArea"===a.type||"rangeSplineArea"===a.type||"candlestick"===a.type||"ohlc"===a.type||"waterfall"===a.type||"boxAndWhisker"===a.type?[this.selectedColorSet[0]]:this.selectedColorSet:a._colorSet=[a.color],null===a.markerSize&&(("line"===a.type||"stepLine"===a.type||"spline"===a.type||0<=a.type.toLowerCase().indexOf("area"))&&a.dataPoints&&a.dataPoints.length<this.width/16||"scatter"===a.type)&&(a.markerSize=8),"bubble"!==a.type&&"scatter"!==a.type||!a.dataPoints||(a.dataPoints.some?a.dataPoints.some(function(M){return M.x})&&a.dataPoints.sort(S):a.dataPoints.sort(S)),this.data.push(a);var f,c=a.axisPlacement;if(u=u||c,"normal"===c?"xySwapped"===this.plotInfo.axisPlacement?f='You cannot combine "'+a.type+'" with bar chart':"none"===this.plotInfo.axisPlacement?f='You cannot combine "'+a.type+'" with pie chart':null===this.plotInfo.axisPlacement&&(this.plotInfo.axisPlacement="normal"):"xySwapped"===c?"normal"===this.plotInfo.axisPlacement?f='You cannot combine "'+a.type+'" with line, area, column or pie chart':"none"===this.plotInfo.axisPlacement?f='You cannot combine "'+a.type+'" with pie chart':null===this.plotInfo.axisPlacement&&(this.plotInfo.axisPlacement="xySwapped"):"none"===c?"normal"===this.plotInfo.axisPlacement?f='You cannot combine "'+a.type+'" with line, area, column or bar chart':"xySwapped"===this.plotInfo.axisPlacement?f='You cannot combine "'+a.type+'" with bar chart':null===this.plotInfo.axisPlacement&&(this.plotInfo.axisPlacement="none"):null===c&&"none"===this.plotInfo.axisPlacement&&(f='You cannot combine "'+a.type+'" with pie chart'),f&&window.console)return void window.console.log(f)}for(l=0;l<this.data.length;l++){if("none"==u&&"error"===this.data[l].type&&window.console)return void window.console.log('You cannot combine "'+a.type+'" with error chart');"error"===this.data[l].type&&(this.data[l].axisPlacement=this.plotInfo.axisPlacement=u||"normal",this.data[l]._linkedSeries=null===this.data[l].linkedDataSeriesIndex?null:this.data[this.data[l].linkedDataSeriesIndex])}}this._objectsInitialized=!0,this._plotAreaElements=[]},E._supportedChartTypes=an("line stepLine spline column area stepArea splineArea bar bubble scatter stackedColumn stackedColumn100 stackedBar stackedBar100 stackedArea stackedArea100 candlestick ohlc boxAndWhisker rangeColumn error rangeBar rangeArea rangeSplineArea pie doughnut funnel pyramid waterfall".split(" ")),E.prototype.setLayout=function(){for(var r=this._plotAreaElements,u=0;u<this.data.length;u++)if("normal"===this.plotInfo.axisPlacement||"xySwapped"===this.plotInfo.axisPlacement){if(!this.data[u].axisYType||"primary"===this.data[u].axisYType)if(this.options.axisY&&0<this.options.axisY.length){if(!this.axisY.length)for(var l=0;l<this.options.axisY.length;l++)"normal"===this.plotInfo.axisPlacement?this._axes.push(this.axisY[l]=new oe(this,"axisY",this.options.axisY[l],l,"axisY","left")):"xySwapped"===this.plotInfo.axisPlacement&&this._axes.push(this.axisY[l]=new oe(this,"axisY",this.options.axisY[l],l,"axisY","bottom"));this.data[u].axisY=this.axisY[0<=this.data[u].axisYIndex&&this.data[u].axisYIndex<this.axisY.length?this.data[u].axisYIndex:0],this.axisY[0<=this.data[u].axisYIndex&&this.data[u].axisYIndex<this.axisY.length?this.data[u].axisYIndex:0].dataSeries.push(this.data[u])}else this.axisY.length||("normal"===this.plotInfo.axisPlacement?this._axes.push(this.axisY[0]=new oe(this,"axisY",this.options.axisY,0,"axisY","left")):"xySwapped"===this.plotInfo.axisPlacement&&this._axes.push(this.axisY[0]=new oe(this,"axisY",this.options.axisY,0,"axisY","bottom"))),this.data[u].axisY=this.axisY[0],this.axisY[0].dataSeries.push(this.data[u]);if("secondary"===this.data[u].axisYType)if(this.options.axisY2&&0<this.options.axisY2.length){if(!this.axisY2.length)for(l=0;l<this.options.axisY2.length;l++)"normal"===this.plotInfo.axisPlacement?this._axes.push(this.axisY2[l]=new oe(this,"axisY2",this.options.axisY2[l],l,"axisY","right")):"xySwapped"===this.plotInfo.axisPlacement&&this._axes.push(this.axisY2[l]=new oe(this,"axisY2",this.options.axisY2[l],l,"axisY","top"));this.data[u].axisY=this.axisY2[0<=this.data[u].axisYIndex&&this.data[u].axisYIndex<this.axisY2.length?this.data[u].axisYIndex:0],this.axisY2[0<=this.data[u].axisYIndex&&this.data[u].axisYIndex<this.axisY2.length?this.data[u].axisYIndex:0].dataSeries.push(this.data[u])}else this.axisY2.length||("normal"===this.plotInfo.axisPlacement?this._axes.push(this.axisY2[0]=new oe(this,"axisY2",this.options.axisY2,0,"axisY","right")):"xySwapped"===this.plotInfo.axisPlacement&&this._axes.push(this.axisY2[0]=new oe(this,"axisY2",this.options.axisY2,0,"axisY","top"))),this.data[u].axisY=this.axisY2[0],this.axisY2[0].dataSeries.push(this.data[u]);if(!this.data[u].axisXType||"primary"===this.data[u].axisXType)if(this.options.axisX&&0<this.options.axisX.length){if(!this.axisX.length)for(l=0;l<this.options.axisX.length;l++)"normal"===this.plotInfo.axisPlacement?this._axes.push(this.axisX[l]=new oe(this,"axisX",this.options.axisX[l],l,"axisX","bottom")):"xySwapped"===this.plotInfo.axisPlacement&&this._axes.push(this.axisX[l]=new oe(this,"axisX",this.options.axisX[l],l,"axisX","left"));this.data[u].axisX=this.axisX[0<=this.data[u].axisXIndex&&this.data[u].axisXIndex<this.axisX.length?this.data[u].axisXIndex:0],this.axisX[0<=this.data[u].axisXIndex&&this.data[u].axisXIndex<this.axisX.length?this.data[u].axisXIndex:0].dataSeries.push(this.data[u])}else this.axisX.length||("normal"===this.plotInfo.axisPlacement?this._axes.push(this.axisX[0]=new oe(this,"axisX",this.options.axisX,0,"axisX","bottom")):"xySwapped"===this.plotInfo.axisPlacement&&this._axes.push(this.axisX[0]=new oe(this,"axisX",this.options.axisX,0,"axisX","left"))),this.data[u].axisX=this.axisX[0],this.axisX[0].dataSeries.push(this.data[u]);if("secondary"===this.data[u].axisXType)if(this.options.axisX2&&0<this.options.axisX2.length){if(!this.axisX2.length)for(l=0;l<this.options.axisX2.length;l++)"normal"===this.plotInfo.axisPlacement?this._axes.push(this.axisX2[l]=new oe(this,"axisX2",this.options.axisX2[l],l,"axisX","top")):"xySwapped"===this.plotInfo.axisPlacement&&this._axes.push(this.axisX2[l]=new oe(this,"axisX2",this.options.axisX2[l],l,"axisX","right"));this.data[u].axisX=this.axisX2[0<=this.data[u].axisXIndex&&this.data[u].axisXIndex<this.axisX2.length?this.data[u].axisXIndex:0],this.axisX2[0<=this.data[u].axisXIndex&&this.data[u].axisXIndex<this.axisX2.length?this.data[u].axisXIndex:0].dataSeries.push(this.data[u])}else this.axisX2.length||("normal"===this.plotInfo.axisPlacement?this._axes.push(this.axisX2[0]=new oe(this,"axisX2",this.options.axisX2,0,"axisX","top")):"xySwapped"===this.plotInfo.axisPlacement&&this._axes.push(this.axisX2[0]=new oe(this,"axisX2",this.options.axisX2,0,"axisX","right"))),this.data[u].axisX=this.axisX2[0],this.axisX2[0].dataSeries.push(this.data[u])}if(this.axisY){for(l=1;l<this.axisY.length;l++)typeof this.axisY[l].options.gridThickness>"u"&&(this.axisY[l].gridThickness=0);for(l=0;l<this.axisY.length-1;l++)typeof this.axisY[l].options.margin>"u"&&(this.axisY[l].margin=10)}if(this.axisY2){for(l=1;l<this.axisY2.length;l++)typeof this.axisY2[l].options.gridThickness>"u"&&(this.axisY2[l].gridThickness=0);for(l=0;l<this.axisY2.length-1;l++)typeof this.axisY2[l].options.margin>"u"&&(this.axisY2[l].margin=10)}if(this.axisY&&0<this.axisY.length&&this.axisY2&&0<this.axisY2.length&&(0<this.axisY[0].gridThickness&&typeof this.axisY2[0].options.gridThickness>"u"?this.axisY2[0].gridThickness=0:0<this.axisY2[0].gridThickness&&typeof this.axisY[0].options.gridThickness>"u"&&(this.axisY[0].gridThickness=0)),this.axisX)for(l=0;l<this.axisX.length;l++)typeof this.axisX[l].options.gridThickness>"u"&&(this.axisX[l].gridThickness=0);if(this.axisX2)for(l=0;l<this.axisX2.length;l++)typeof this.axisX2[l].options.gridThickness>"u"&&(this.axisX2[l].gridThickness=0);if(this.axisX&&0<this.axisX.length&&this.axisX2&&0<this.axisX2.length&&(0<this.axisX[0].gridThickness&&typeof this.axisX2[0].options.gridThickness>"u"?this.axisX2[0].gridThickness=0:0<this.axisX2[0].gridThickness&&typeof this.axisX[0].options.gridThickness>"u"&&(this.axisX[0].gridThickness=0)),l=!1,0<this._axes.length&&this.options.zoomEnabled&&(this.zoomEnabled||this.panEnabled))for(u=0;u<this._axes.length;u++)if(!V(this._axes[u].viewportMinimum)||!V(this._axes[u].viewportMaximum)){l=!0;break}if(l?(It(this._zoomButton,this._resetButton),this._toolBar.style.border=this.toolbar.buttonBorderThickness+"px solid "+this.toolbar.buttonBorderColor,this._zoomButton.style.borderRight=this.toolbar.buttonBorderThickness+"px solid "+this.toolbar.buttonBorderColor,this._resetButton.style.borderRight=(this.exportEnabled?this.toolbar.buttonBorderThickness:0)+"px solid "+this.toolbar.buttonBorderColor):(Ri(this._zoomButton,this._resetButton),this._toolBar.style.border=this.toolbar.buttonBorderThickness+"px solid transparent",this.options.zoomEnabled&&(this.zoomEnabled=!0,this.panEnabled=!1)),function xr(S){Ni.fSDec&&S[Bi("`eeDwdouMhrudods")](Bi("e`u`@ohl`uhnoHuds`uhnoDoe"),function(){Ni._fTWm&&Ni._fTWm(S)})}(this),this._processData(),this.options.title&&(this.title=new gn(this,this.options.title),this.title.dockInsidePlotArea?r.push(this.title):this.title.setLayout()),this.options.subtitles)for(u=0;u<this.options.subtitles.length;u++)l=new Xt(this,this.options.subtitles[u],u),this.subtitles.push(l),l.dockInsidePlotArea?r.push(l):l.setLayout();for(this.legend=new ve(this,this.options.legend),u=0;u<this.data.length;u++)(this.data[u].showInLegend||"pie"===this.data[u].type||"doughnut"===this.data[u].type||"funnel"===this.data[u].type||"pyramid"===this.data[u].type)&&this.legend.dataSeries.push(this.data[u]);for(this.legend.dockInsidePlotArea?r.push(this.legend):this.legend.setLayout(),u=0;u<this._axes.length;u++)if(this._axes[u].scaleBreaks&&this._axes[u].scaleBreaks._appliedBreaks.length){Y?(this._breaksCanvas=vi(this.width,this.height,!0),this._breaksCanvasCtx=this._breaksCanvas.getContext("2d")):(this._breaksCanvas=this.canvas,this._breaksCanvasCtx=this.ctx);break}this._preRenderCanvas=vi(this.width,this.height),this._preRenderCtx=this._preRenderCanvas.getContext("2d"),"normal"!==this.plotInfo.axisPlacement&&"xySwapped"!==this.plotInfo.axisPlacement||oe.setLayout(this.axisX,this.axisX2,this.axisY,this.axisY2,this.plotInfo.axisPlacement,this.layoutManager.getFreeSpace())},E.prototype.renderElements=function(){if(this.height){var a=this._plotAreaElements;this.title&&!this.title.dockInsidePlotArea&&this.title.render();for(var r=0;r<this.subtitles.length;r++)this.subtitles[r].dockInsidePlotArea||this.subtitles[r].render();if(this.legend.dockInsidePlotArea||this.legend.render(),"normal"===this.plotInfo.axisPlacement||"xySwapped"===this.plotInfo.axisPlacement)oe.render(this.axisX,this.axisX2,this.axisY,this.axisY2,this.plotInfo.axisPlacement);else{if("none"!==this.plotInfo.axisPlacement)return;this.preparePlotArea()}for(r=0;r<a.length;r++)a[r].setLayout(),a[r].render();var c,u=[];if(this.animatedRender){var l=vi(this.width,this.height);l.getContext("2d").drawImage(this.canvas,0,0,this.width,this.height)}for(function Ds(S){if(!Rc){var E=!1,N=!1;typeof Ji.Chart.creditHref>"u"?(S.creditHref=Bi("iuuqr;..b`ow`rkr/bnl."),S.creditText=Bi("B`ow`rKR/bnl")):(E=S.updateOption("creditText"),N=S.updateOption("creditHref")),S.creditHref&&S.creditText&&(S._creditLink||(S._creditLink=document.createElement("a"),S._creditLink.setAttribute("class","canvasjs-chart-credit"),S._creditLink.setAttribute("title","JavaScript Charts"),kt(S._creditLink,{outline:"none",margin:"0px",position:"absolute",right:"2px",top:S.height-14+"px",color:"dimgrey",textDecoration:"none",fontSize:"11px",fontFamily:"Calibri, Lucida Grande, Lucida Sans Unicode, Arial, sans-serif"}),S._creditLink.setAttribute("tabIndex",-1),S._creditLink.setAttribute("target","_blank")),(0===S.renderCount||E||N)&&(S._creditLink.setAttribute("href",S.creditHref),S._creditLink.innerHTML=S.creditText),S._creditLink&&S.creditHref&&S.creditText?(S._creditLink.parentElement||S._canvasJSContainer.appendChild(S._creditLink),S._creditLink.style.top=S.height-14+"px"):S._creditLink.parentElement&&S._canvasJSContainer.removeChild(S._creditLink))}}(this),a=this.ctx.miterLimit,this.ctx.miterLimit=3,Y&&this._breaksCanvas&&(this._preRenderCtx.drawImage(this.canvas,0,0,this.width,this.height),this._preRenderCtx.drawImage(this._breaksCanvas,0,0,this.width,this.height),this._breaksCanvasCtx.globalCompositeOperation="source-atop",this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),this._preRenderCtx.clearRect(0,0,this.width,this.height)),r=0;r<this.plotInfo.plotTypes.length;r++)for(var f=this.plotInfo.plotTypes[r],m=0;m<f.plotUnits.length;m++){var M=f.plotUnits[m],C=null;M.targetCanvas&&hs(M.targetCanvas),M.targetCanvas=null,this.animatedRender&&(M.targetCanvas=vi(this.width,this.height),M.targetCanvasCtx=M.targetCanvas.getContext("2d"),c=M.targetCanvasCtx.miterLimit,M.targetCanvasCtx.miterLimit=3),"line"===M.type?C=this.renderLine(M):"stepLine"===M.type?C=this.renderStepLine(M):"spline"===M.type?C=this.renderSpline(M):"column"===M.type?C=this.renderColumn(M):"bar"===M.type?C=this.renderBar(M):"area"===M.type?C=this.renderArea(M):"stepArea"===M.type?C=this.renderStepArea(M):"splineArea"===M.type?C=this.renderSplineArea(M):"stackedColumn"===M.type?C=this.renderStackedColumn(M):"stackedColumn100"===M.type?C=this.renderStackedColumn100(M):"stackedBar"===M.type?C=this.renderStackedBar(M):"stackedBar100"===M.type?C=this.renderStackedBar100(M):"stackedArea"===M.type?C=this.renderStackedArea(M):"stackedArea100"===M.type?C=this.renderStackedArea100(M):"bubble"===M.type?C=C=this.renderBubble(M):"scatter"===M.type?C=this.renderScatter(M):"pie"===M.type||"doughnut"===M.type?this.renderPie(M):"funnel"===M.type||"pyramid"===M.type?C=this.renderFunnel(M):"candlestick"===M.type||"ohlc"===M.type?C=this.renderCandlestick(M):"rangeColumn"===M.type?C=this.renderRangeColumn(M):"error"===M.type?C=this.renderError(M):"rangeBar"===M.type?C=this.renderRangeBar(M):"rangeArea"===M.type?C=this.renderRangeArea(M):"rangeSplineArea"===M.type?C=this.renderRangeSplineArea(M):"waterfall"===M.type?C=this.renderWaterfall(M):"boxAndWhisker"===M.type&&(C=this.renderBoxAndWhisker(M));for(var x=0;x<M.dataSeriesIndexes.length;x++)this._dataInRenderedOrder.push(this.data[M.dataSeriesIndexes[x]]);this.animatedRender&&(M.targetCanvasCtx.miterLimit=c,C&&u.push(C))}this.ctx.miterLimit=a,this.animatedRender&&this._breaksCanvasCtx&&u.push({source:this._breaksCanvasCtx,dest:this.plotArea.ctx,animationCallback:we.fadeInAnimation,easingFunction:we.easing.easeInQuad,animationBase:0,startTimePercent:.7}),this.animatedRender&&0<this._indexLabels.length&&(Dn(c=vi(this.width,this.height).getContext("2d")),u.push(this.renderIndexLabels(c)));var g=this;if(0<u.length)g.disableToolTip=!0,g._animator.animate(200,g.animationDuration,function(v){g.ctx.clearRect(0,0,g.width,g.height),g.ctx.drawImage(l,0,0,Math.floor(g.width*di),Math.floor(g.height*di),0,0,g.width,g.height);for(var b=0;b<u.length;b++)C=u[b],1>v&&typeof C.startTimePercent<"u"?v>=C.startTimePercent&&C.animationCallback(C.easingFunction(v-C.startTimePercent,0,1,1-C.startTimePercent),C):C.animationCallback(C.easingFunction(v,0,1,1),C);g.dispatchEvent("dataAnimationIterationEnd",{chart:g})},function(){u=[];for(var v=0;v<g.plotInfo.plotTypes.length;v++)for(var b=g.plotInfo.plotTypes[v],d=0;d<b.plotUnits.length;d++){var w=b.plotUnits[d];w.targetCanvas&&hs(w.targetCanvas),w.targetCanvas=null}l=null,g.disableToolTip=!1,g.dispatchEvent("dataAnimationEnd",{chart:g})});else{if(g._breaksCanvas)if(Y)g.plotArea.ctx.drawImage(g._breaksCanvas,0,0,this.width,this.height);else for(x=0;x<g._axes.length;x++)g._axes[x].createMask();0<g._indexLabels.length&&g.renderIndexLabels(),g.dispatchEvent("dataAnimationIterationEnd",{chart:g}),g.dispatchEvent("dataAnimationEnd",{chart:g})}for(this.attachPlotAreaEventHandlers(),this.zoomEnabled||this.panEnabled||!this._zoomButton||"none"===this._zoomButton.style.display||Ri(this._zoomButton,this._resetButton),this.toolTip._updateToolTip(),this.renderCount++,Ps&&(g=this,setTimeout(function(){var v=document.getElementById("ghostCanvasCopy");v&&(ln(v,g.width,g.height),v.getContext("2d").drawImage(g._eventManager.ghostCanvas,0,0))},2e3)),this._breaksCanvas&&(delete this._breaksCanvas,delete this._breaksCanvasCtx),x=0;x<this._axes.length;x++)this._axes[x].maskCanvas&&(delete this._axes[x].maskCanvas,delete this._axes[x].maskCtx)}},E.prototype.render=function(r){r&&(this.options=r),this._initialize(),this.setLayout(),this.renderElements(),this._preRenderCanvas&&hs(this._preRenderCanvas)},E.prototype.attachPlotAreaEventHandlers=function(){this.attachEvent({context:this,chart:this,mousedown:this._plotAreaMouseDown,mouseup:this._plotAreaMouseUp,mousemove:this._plotAreaMouseMove,cursor:this.panEnabled?"move":"default",capture:!0,bounds:this.plotArea})},E.prototype.categoriseDataSeries=function(){for(var r="",u=0;u<this.data.length;u++)if((r=this.data[u]).dataPoints&&0!==r.dataPoints.length&&r.visible&&0<=E._supportedChartTypes.indexOf(r.type)){for(var l=null,a=!1,c=null,f=!1,m=0;m<this.plotInfo.plotTypes.length;m++)if(this.plotInfo.plotTypes[m].type===r.type){a=!0,l=this.plotInfo.plotTypes[m];break}for(a||this.plotInfo.plotTypes.push(l={type:r.type,totalDataSeries:0,plotUnits:[]}),m=0;m<l.plotUnits.length;m++)if(l.plotUnits[m].axisYType===r.axisYType&&l.plotUnits[m].axisXType===r.axisXType&&l.plotUnits[m].axisYIndex===r.axisYIndex&&l.plotUnits[m].axisXIndex===r.axisXIndex){f=!0,c=l.plotUnits[m];break}f||l.plotUnits.push(c={type:r.type,previousDataSeriesCount:0,index:l.plotUnits.length,plotType:l,axisXType:r.axisXType,axisYType:r.axisYType,axisYIndex:r.axisYIndex,axisXIndex:r.axisXIndex,axisY:"primary"===r.axisYType?this.axisY[0<=r.axisYIndex&&r.axisYIndex<this.axisY.length?r.axisYIndex:0]:this.axisY2[0<=r.axisYIndex&&r.axisYIndex<this.axisY2.length?r.axisYIndex:0],axisX:"primary"===r.axisXType?this.axisX[0<=r.axisXIndex&&r.axisXIndex<this.axisX.length?r.axisXIndex:0]:this.axisX2[0<=r.axisXIndex&&r.axisXIndex<this.axisX2.length?r.axisXIndex:0],dataSeriesIndexes:[],yTotals:[],yAbsTotals:[]}),l.totalDataSeries++,c.dataSeriesIndexes.push(u),r.plotUnit=c}for(u=0;u<this.plotInfo.plotTypes.length;u++)for(l=this.plotInfo.plotTypes[u],m=r=0;m<l.plotUnits.length;m++)l.plotUnits[m].previousDataSeriesCount=r,r+=l.plotUnits[m].dataSeriesIndexes.length},E.prototype.assignIdToDataPoints=function(){for(var r=0;r<this.data.length;r++){var u=this.data[r];if(u.dataPoints)for(var l=u.dataPoints.length,a=0;a<l;a++)u.dataPointIds[a]=++this._eventManager.lastObjectId}},E.prototype._processData=function(){this.assignIdToDataPoints(),this.categoriseDataSeries();for(var r=0;r<this.plotInfo.plotTypes.length;r++)for(var u=this.plotInfo.plotTypes[r],l=0;l<u.plotUnits.length;l++){var a=u.plotUnits[l];"line"===a.type||"stepLine"===a.type||"spline"===a.type||"column"===a.type||"area"===a.type||"stepArea"===a.type||"splineArea"===a.type||"bar"===a.type||"bubble"===a.type||"scatter"===a.type?this._processMultiseriesPlotUnit(a):"stackedColumn"===a.type||"stackedBar"===a.type||"stackedArea"===a.type?this._processStackedPlotUnit(a):"stackedColumn100"===a.type||"stackedBar100"===a.type||"stackedArea100"===a.type?this._processStacked100PlotUnit(a):"candlestick"===a.type||"ohlc"===a.type||"rangeColumn"===a.type||"rangeBar"===a.type||"rangeArea"===a.type||"rangeSplineArea"===a.type||"error"===a.type||"boxAndWhisker"===a.type?this._processMultiYPlotUnit(a):"waterfall"===a.type&&this._processSpecificPlotUnit(a)}this.calculateAutoBreaks()},E.prototype._processMultiseriesPlotUnit=function(r){if(r.dataSeriesIndexes&&!(1>r.dataSeriesIndexes.length))for(var a,c,u=r.axisY.dataInfo,l=r.axisX.dataInfo,f=!1,m=0;m<r.dataSeriesIndexes.length;m++){var v,M=this.data[r.dataSeriesIndexes[m]],C=0,x=!1,g=!1;if("normal"===M.axisPlacement||"xySwapped"===M.axisPlacement)var b=r.axisX.sessionVariables.newViewportMinimum?r.axisX.sessionVariables.newViewportMinimum:r.axisX.options&&r.axisX.options.viewportMinimum?r.axisX.options.viewportMinimum:r.axisX.options&&r.axisX.options.minimum?r.axisX.options.minimum:r.axisX.logarithmic?0:-1/0,d=r.axisX.sessionVariables.newViewportMaximum?r.axisX.sessionVariables.newViewportMaximum:r.axisX.options&&r.axisX.options.viewportMaximum?r.axisX.options.viewportMaximum:r.axisX.options&&r.axisX.options.maximum?r.axisX.options.maximum:1/0;for((M.dataPoints[C].x&&M.dataPoints[C].x.getTime||"dateTime"===M.xValueType)&&(f=!0),C=0;C<M.dataPoints.length;C++){if(typeof M.dataPoints[C].x>"u"&&(M.dataPoints[C].x=C+(r.axisX.logarithmic?1:0)),M.dataPoints[C].x.getTime?(f=!0,a=M.dataPoints[C].x.getTime()):a=M.dataPoints[C].x,c=M.dataPoints[C].y,a<l.min&&(l.min=a),a>l.max&&(l.max=a),c<u.min&&"number"==typeof c&&(u.min=c),c>u.max&&"number"==typeof c&&(u.max=c),0<C){if(r.axisX.logarithmic){var w=a/M.dataPoints[C-1].x;1>w&&(w=1/w),l.minDiff>w&&1!==w&&(l.minDiff=w)}else 0>(w=a-M.dataPoints[C-1].x)&&(w*=-1),l.minDiff>w&&0!==w&&(l.minDiff=w);null!==c&&null!==M.dataPoints[C-1].y&&(r.axisY.logarithmic?(1>(w=c/M.dataPoints[C-1].y)&&(w=1/w),u.minDiff>w&&1!==w&&(u.minDiff=w)):(0>(w=c-M.dataPoints[C-1].y)&&(w*=-1),u.minDiff>w&&0!==w&&(u.minDiff=w)))}if(a<b&&!x)null!==c&&(v=a);else{if(!x&&(x=!0,0<C)){C-=2;continue}if(a>d&&!g)g=!0;else if(a>d&&g)continue;M.dataPoints[C].label&&(r.axisX.labels[a]=M.dataPoints[C].label),a<l.viewPortMin&&(l.viewPortMin=a),a>l.viewPortMax&&(l.viewPortMax=a),null===c?l.viewPortMin===a&&v<a&&(l.viewPortMin=v):(c<u.viewPortMin&&"number"==typeof c&&(u.viewPortMin=c),c>u.viewPortMax&&"number"==typeof c&&(u.viewPortMax=c))}}M.axisX.valueType=M.xValueType=f?"dateTime":"number"}},E.prototype._processStackedPlotUnit=function(r){if(r.dataSeriesIndexes&&!(1>r.dataSeriesIndexes.length)){for(var a,c,u=r.axisY.dataInfo,l=r.axisX.dataInfo,f=!1,m=[],M=[],C=1/0,x=-1/0,g=0;g<r.dataSeriesIndexes.length;g++){var P,v=this.data[r.dataSeriesIndexes[g]],b=0,d=!1,w=!1;if("normal"===v.axisPlacement||"xySwapped"===v.axisPlacement)var k=r.axisX.sessionVariables.newViewportMinimum?r.axisX.sessionVariables.newViewportMinimum:r.axisX.options&&r.axisX.options.viewportMinimum?r.axisX.options.viewportMinimum:r.axisX.options&&r.axisX.options.minimum?r.axisX.options.minimum:-1/0,D=r.axisX.sessionVariables.newViewportMaximum?r.axisX.sessionVariables.newViewportMaximum:r.axisX.options&&r.axisX.options.viewportMaximum?r.axisX.options.viewportMaximum:r.axisX.options&&r.axisX.options.maximum?r.axisX.options.maximum:1/0;for((v.dataPoints[b].x&&v.dataPoints[b].x.getTime||"dateTime"===v.xValueType)&&(f=!0),b=0;b<v.dataPoints.length;b++){if(typeof v.dataPoints[b].x>"u"&&(v.dataPoints[b].x=b+(r.axisX.logarithmic?1:0)),v.dataPoints[b].x.getTime?(f=!0,a=v.dataPoints[b].x.getTime()):a=v.dataPoints[b].x,c=V(v.dataPoints[b].y)?0:v.dataPoints[b].y,a<l.min&&(l.min=a),a>l.max&&(l.max=a),0<b){if(r.axisX.logarithmic){var L=a/v.dataPoints[b-1].x;1>L&&(L=1/L),l.minDiff>L&&1!==L&&(l.minDiff=L)}else 0>(L=a-v.dataPoints[b-1].x)&&(L*=-1),l.minDiff>L&&0!==L&&(l.minDiff=L);null!==c&&null!==v.dataPoints[b-1].y&&(r.axisY.logarithmic?0<c&&(1>(L=c/v.dataPoints[b-1].y)&&(L=1/L),u.minDiff>L&&1!==L&&(u.minDiff=L)):(0>(L=c-v.dataPoints[b-1].y)&&(L*=-1),u.minDiff>L&&0!==L&&(u.minDiff=L)))}if(a<k&&!d)null!==v.dataPoints[b].y&&(P=a);else{if(!d&&(d=!0,0<b)){b-=2;continue}if(a>D&&!w)w=!0;else if(a>D&&w)continue;v.dataPoints[b].label&&(r.axisX.labels[a]=v.dataPoints[b].label),a<l.viewPortMin&&(l.viewPortMin=a),a>l.viewPortMax&&(l.viewPortMax=a),null===v.dataPoints[b].y?l.viewPortMin===a&&P<a&&(l.viewPortMin=P):(r.yTotals[a]=(r.yTotals[a]?r.yTotals[a]:0)+c,r.yAbsTotals[a]=(r.yAbsTotals[a]?r.yAbsTotals[a]:0)+Math.abs(c),0<=c?m[a]?m[a]+=c:(m[a]=c,C=Math.min(c,C)):M[a]?M[a]+=c:(M[a]=c,x=Math.max(c,x)))}}r.axisY.scaleBreaks&&r.axisY.scaleBreaks.autoCalculate&&1<=r.axisY.scaleBreaks.maxNumberOfAutoBreaks&&(u.dataPointYPositiveSums?(u.dataPointYPositiveSums.push.apply(u.dataPointYPositiveSums,m),u.dataPointYNegativeSums.push.apply(u.dataPointYPositiveSums,M)):(u.dataPointYPositiveSums=m,u.dataPointYNegativeSums=M)),v.axisX.valueType=v.xValueType=f?"dateTime":"number"}for(b in m)m.hasOwnProperty(b)&&!isNaN(b)&&((r=m[b])<u.min&&(u.min=Math.min(r,C)),r>u.max&&(u.max=r),b<l.viewPortMin||b>l.viewPortMax||(r<u.viewPortMin&&(u.viewPortMin=Math.min(r,C)),r>u.viewPortMax&&(u.viewPortMax=r)));for(b in M)M.hasOwnProperty(b)&&!isNaN(b)&&((r=M[b])<u.min&&(u.min=r),r>u.max&&(u.max=Math.max(r,x)),b<l.viewPortMin||b>l.viewPortMax||(r<u.viewPortMin&&(u.viewPortMin=r),r>u.viewPortMax&&(u.viewPortMax=Math.max(r,x))))}},E.prototype._processStacked100PlotUnit=function(r){if(r.dataSeriesIndexes&&!(1>r.dataSeriesIndexes.length)){for(var a,c,u=r.axisY.dataInfo,l=r.axisX.dataInfo,f=!1,m=!1,M=!1,C=[],x=0;x<r.dataSeriesIndexes.length;x++){var w,g=this.data[r.dataSeriesIndexes[x]],v=0,b=!1,d=!1;if("normal"===g.axisPlacement||"xySwapped"===g.axisPlacement)var P=r.axisX.sessionVariables.newViewportMinimum?r.axisX.sessionVariables.newViewportMinimum:r.axisX.options&&r.axisX.options.viewportMinimum?r.axisX.options.viewportMinimum:r.axisX.options&&r.axisX.options.minimum?r.axisX.options.minimum:-1/0,k=r.axisX.sessionVariables.newViewportMaximum?r.axisX.sessionVariables.newViewportMaximum:r.axisX.options&&r.axisX.options.viewportMaximum?r.axisX.options.viewportMaximum:r.axisX.options&&r.axisX.options.maximum?r.axisX.options.maximum:1/0;for((g.dataPoints[v].x&&g.dataPoints[v].x.getTime||"dateTime"===g.xValueType)&&(f=!0),v=0;v<g.dataPoints.length;v++){if(typeof g.dataPoints[v].x>"u"&&(g.dataPoints[v].x=v+(r.axisX.logarithmic?1:0)),g.dataPoints[v].x.getTime?(f=!0,a=g.dataPoints[v].x.getTime()):a=g.dataPoints[v].x,c=V(g.dataPoints[v].y)?null:g.dataPoints[v].y,a<l.min&&(l.min=a),a>l.max&&(l.max=a),0<v){if(r.axisX.logarithmic){var D=a/g.dataPoints[v-1].x;1>D&&(D=1/D),l.minDiff>D&&1!==D&&(l.minDiff=D)}else 0>(D=a-g.dataPoints[v-1].x)&&(D*=-1),l.minDiff>D&&0!==D&&(l.minDiff=D);V(c)||null===g.dataPoints[v-1].y||(r.axisY.logarithmic?0<c&&(1>(D=c/g.dataPoints[v-1].y)&&(D=1/D),u.minDiff>D&&1!==D&&(u.minDiff=D)):(0>(D=c-g.dataPoints[v-1].y)&&(D*=-1),u.minDiff>D&&0!==D&&(u.minDiff=D)))}if(a<P&&!b)null!==c&&(w=a);else{if(!b&&(b=!0,0<v)){v-=2;continue}if(a>k&&!d)d=!0;else if(a>k&&d)continue;g.dataPoints[v].label&&(r.axisX.labels[a]=g.dataPoints[v].label),a<l.viewPortMin&&(l.viewPortMin=a),a>l.viewPortMax&&(l.viewPortMax=a),null===c?l.viewPortMin===a&&w<a&&(l.viewPortMin=w):(r.yTotals[a]=(r.yTotals[a]?r.yTotals[a]:0)+c,r.yAbsTotals[a]=(r.yAbsTotals[a]?r.yAbsTotals[a]:0)+Math.abs(c),0<=c?m=!0:0>c&&(M=!0),C[a]=C[a]?C[a]+Math.abs(c):Math.abs(c))}}g.axisX.valueType=g.xValueType=f?"dateTime":"number"}r.axisY.logarithmic?(u.max=V(u.viewPortMax)?99*Math.pow(r.axisY.logarithmBase,-.05):Math.max(u.viewPortMax,99*Math.pow(r.axisY.logarithmBase,-.05)),u.min=V(u.viewPortMin)?1:Math.min(u.viewPortMin,1)):m&&!M?(u.max=V(u.viewPortMax)?99:Math.max(u.viewPortMax,99),u.min=V(u.viewPortMin)?1:Math.min(u.viewPortMin,1)):m&&M?(u.max=V(u.viewPortMax)?99:Math.max(u.viewPortMax,99),u.min=V(u.viewPortMin)?-99:Math.min(u.viewPortMin,-99)):!m&&M&&(u.max=V(u.viewPortMax)?-1:Math.max(u.viewPortMax,-1),u.min=V(u.viewPortMin)?-99:Math.min(u.viewPortMin,-99)),u.viewPortMin=u.min,u.viewPortMax=u.max,r.dataPointYSums=C}},E.prototype._processMultiYPlotUnit=function(r){if(r.dataSeriesIndexes&&!(1>r.dataSeriesIndexes.length))for(var a,c,f,m,u=r.axisY.dataInfo,l=r.axisX.dataInfo,M=!1,C=0;C<r.dataSeriesIndexes.length;C++){var d,w,P,x=this.data[r.dataSeriesIndexes[C]],g=0,v=!1,b=!1;if("normal"===x.axisPlacement||"xySwapped"===x.axisPlacement)var k=r.axisX.sessionVariables.newViewportMinimum?r.axisX.sessionVariables.newViewportMinimum:r.axisX.options&&r.axisX.options.viewportMinimum?r.axisX.options.viewportMinimum:r.axisX.options&&r.axisX.options.minimum?r.axisX.options.minimum:r.axisX.logarithmic?0:-1/0,D=r.axisX.sessionVariables.newViewportMaximum?r.axisX.sessionVariables.newViewportMaximum:r.axisX.options&&r.axisX.options.viewportMaximum?r.axisX.options.viewportMaximum:r.axisX.options&&r.axisX.options.maximum?r.axisX.options.maximum:1/0;for((x.dataPoints[g].x&&x.dataPoints[g].x.getTime||"dateTime"===x.xValueType)&&(M=!0),g=0;g<x.dataPoints.length;g++){if(typeof x.dataPoints[g].x>"u"&&(x.dataPoints[g].x=g+(r.axisX.logarithmic?1:0)),x.dataPoints[g].x.getTime?(M=!0,a=x.dataPoints[g].x.getTime()):a=x.dataPoints[g].x,(c=x.dataPoints[g].y)&&c.length){f=Math.min.apply(null,c),m=Math.max.apply(null,c),w=!0;for(var L=0;L<c.length;L++)null===c.k&&(w=!1);w&&(v||(P=d),d=a)}if(a<l.min&&(l.min=a),a>l.max&&(l.max=a),f<u.min&&(u.min=f),m>u.max&&(u.max=m),0<g&&(r.axisX.logarithmic?(1>(w=a/x.dataPoints[g-1].x)&&(w=1/w),l.minDiff>w&&1!==w&&(l.minDiff=w)):(0>(w=a-x.dataPoints[g-1].x)&&(w*=-1),l.minDiff>w&&0!==w&&(l.minDiff=w)),c&&null!==c[0]&&x.dataPoints[g-1].y&&null!==x.dataPoints[g-1].y[0]&&(r.axisY.logarithmic?(1>(w=c[0]/x.dataPoints[g-1].y[0])&&(w=1/w),u.minDiff>w&&1!==w&&(u.minDiff=w)):(0>(w=c[0]-x.dataPoints[g-1].y[0])&&(w*=-1),u.minDiff>w&&0!==w&&(u.minDiff=w)))),!(a<k)||v){if(!v&&(v=!0,0<g)){g-=2,d=P;continue}if(a>D&&!b)b=!0;else if(a>D&&b)continue;if(x.dataPoints[g].label&&(r.axisX.labels[a]=x.dataPoints[g].label),a<l.viewPortMin&&(l.viewPortMin=a),a>l.viewPortMax&&(l.viewPortMax=a),l.viewPortMin===a&&c)for(L=0;L<c.length;L++)if(null===c[L]&&d<a){l.viewPortMin=d;break}null===c?l.viewPortMin===a&&d<a&&(l.viewPortMin=d):(f<u.viewPortMin&&(u.viewPortMin=f),m>u.viewPortMax&&(u.viewPortMax=m))}}x.axisX.valueType=x.xValueType=M?"dateTime":"number"}},E.prototype._processSpecificPlotUnit=function(r){if("waterfall"===r.type&&r.dataSeriesIndexes&&!(1>r.dataSeriesIndexes.length))for(var a,c,u=r.axisY.dataInfo,l=r.axisX.dataInfo,f=!1,m=0;m<r.dataSeriesIndexes.length;m++){var M=this.data[r.dataSeriesIndexes[m]],C=0,x=!1,g=!1,v=a=0;if("normal"===M.axisPlacement||"xySwapped"===M.axisPlacement)var b=r.axisX.sessionVariables.newViewportMinimum?r.axisX.sessionVariables.newViewportMinimum:r.axisX.options&&r.axisX.options.viewportMinimum?r.axisX.options.viewportMinimum:r.axisX.options&&r.axisX.options.minimum?r.axisX.options.minimum:r.axisX.logarithmic?0:-1/0,d=r.axisX.sessionVariables.newViewportMaximum?r.axisX.sessionVariables.newViewportMaximum:r.axisX.options&&r.axisX.options.viewportMaximum?r.axisX.options.viewportMaximum:r.axisX.options&&r.axisX.options.maximum?r.axisX.options.maximum:1/0;for((M.dataPoints[C].x&&M.dataPoints[C].x.getTime||"dateTime"===M.xValueType)&&(f=!0),C=0;C<M.dataPoints.length;C++)typeof M.dataPoints[C].isCumulativeSum<"u"&&!0===M.dataPoints[C].isCumulativeSum?(M.dataPointEOs[C].cumulativeSumYStartValue=0,M.dataPointEOs[C].cumulativeSum=0===C?0:M.dataPointEOs[C-1].cumulativeSum,M.dataPoints[C].y=0===C?0:M.dataPointEOs[C-1].cumulativeSum):typeof M.dataPoints[C].isIntermediateSum<"u"&&!0===M.dataPoints[C].isIntermediateSum?(M.dataPointEOs[C].cumulativeSumYStartValue=v,M.dataPointEOs[C].cumulativeSum=0===C?0:M.dataPointEOs[C-1].cumulativeSum,M.dataPoints[C].y=0===C?0:a,v=0===C?0:M.dataPointEOs[C-1].cumulativeSum,a=0):(c="number"!=typeof M.dataPoints[C].y?0:M.dataPoints[C].y,M.dataPointEOs[C].cumulativeSumYStartValue=0===C?0:M.dataPointEOs[C-1].cumulativeSum,M.dataPointEOs[C].cumulativeSum=0===C?c:M.dataPointEOs[C-1].cumulativeSum+c,a+=c);for(C=0;C<M.dataPoints.length;C++)if(typeof M.dataPoints[C].x>"u"&&(M.dataPoints[C].x=C+(r.axisX.logarithmic?1:0)),M.dataPoints[C].x.getTime?(f=!0,a=M.dataPoints[C].x.getTime()):a=M.dataPoints[C].x,c=M.dataPoints[C].y,a<l.min&&(l.min=a),a>l.max&&(l.max=a),M.dataPointEOs[C].cumulativeSum<u.min&&(u.min=M.dataPointEOs[C].cumulativeSum),M.dataPointEOs[C].cumulativeSum>u.max&&(u.max=M.dataPointEOs[C].cumulativeSum),0<C&&(r.axisX.logarithmic?(1>(v=a/M.dataPoints[C-1].x)&&(v=1/v),l.minDiff>v&&1!==v&&(l.minDiff=v)):(0>(v=a-M.dataPoints[C-1].x)&&(v*=-1),l.minDiff>v&&0!==v&&(l.minDiff=v)),null!==c&&null!==M.dataPoints[C-1].y&&(r.axisY.logarithmic?(1>(c=M.dataPointEOs[C].cumulativeSum/M.dataPointEOs[C-1].cumulativeSum)&&(c=1/c),u.minDiff>c&&1!==c&&(u.minDiff=c)):(0>(c=M.dataPointEOs[C].cumulativeSum-M.dataPointEOs[C-1].cumulativeSum)&&(c*=-1),u.minDiff>c&&0!==c&&(u.minDiff=c)))),!(a<b)||x){if(!x&&(x=!0,0<C)){C-=2;continue}if(a>d&&!g)g=!0;else if(a>d&&g)continue;M.dataPoints[C].label&&(r.axisX.labels[a]=M.dataPoints[C].label),a<l.viewPortMin&&(l.viewPortMin=a),a>l.viewPortMax&&(l.viewPortMax=a),0<C&&(M.dataPointEOs[C-1].cumulativeSum<u.viewPortMin&&(u.viewPortMin=M.dataPointEOs[C-1].cumulativeSum),M.dataPointEOs[C-1].cumulativeSum>u.viewPortMax&&(u.viewPortMax=M.dataPointEOs[C-1].cumulativeSum)),M.dataPointEOs[C].cumulativeSum<u.viewPortMin&&(u.viewPortMin=M.dataPointEOs[C].cumulativeSum),M.dataPointEOs[C].cumulativeSum>u.viewPortMax&&(u.viewPortMax=M.dataPointEOs[C].cumulativeSum)}M.axisX.valueType=M.xValueType=f?"dateTime":"number"}},E.prototype.calculateAutoBreaks=function(){function u(w){if(w.dataSeriesIndexes&&!(1>w.dataSeriesIndexes.length)){var P=w.axisX.scaleBreaks&&w.axisX.scaleBreaks.autoCalculate&&1<=w.axisX.scaleBreaks.maxNumberOfAutoBreaks,k=w.axisY.scaleBreaks&&w.axisY.scaleBreaks.autoCalculate&&1<=w.axisY.scaleBreaks.maxNumberOfAutoBreaks;if(P||k)for(var D,le,L=(W=w.axisX.dataInfo).min,F=W.max,B=(ie=w.axisY.dataInfo).min,j=ie.max,W=W._dataRanges,ie=ie._dataRanges,Q=0,G=0;G<w.dataSeriesIndexes.length;G++){var K=c.data[w.dataSeriesIndexes[G]];if(!(4>K.dataPoints.length))for(Q=0;Q<K.dataPoints.length;Q++)if(P&&(le=(F+1-L)*Math.max(parseFloat(w.axisX.scaleBreaks.collapsibleThreshold)||10,10)/100,(D=K.dataPoints[Q].x.getTime?K.dataPoints[Q].x.getTime():K.dataPoints[Q].x)<W[le=Math.floor((D-L)/le)].min&&(W[le].min=D),D>W[le].max&&(W[le].max=D)),k){var $=(j+1-B)*Math.max(parseFloat(w.axisY.scaleBreaks.collapsibleThreshold)||10,10)/100;if((D="waterfall"===w.type?K.dataPointEOs[Q].cumulativeSum:K.dataPoints[Q].y)&&D.length)for(var z=0;z<D.length;z++)le=Math.floor((D[z]-B)/$),D[z]<ie[le].min&&(ie[le].min=D[z]),D[z]>ie[le].max&&(ie[le].max=D[z]);else V(D)||(D<ie[le=Math.floor((D-B)/$)].min&&(ie[le].min=D),D>ie[le].max&&(ie[le].max=D))}}}}function l(w){if(w.dataSeriesIndexes&&!(1>w.dataSeriesIndexes.length)&&w.axisX.scaleBreaks&&w.axisX.scaleBreaks.autoCalculate&&1<=w.axisX.scaleBreaks.maxNumberOfAutoBreaks)for(var F,P=w.axisX.dataInfo,k=P.min,D=P.max,L=P._dataRanges,B=0,j=0;j<w.dataSeriesIndexes.length;j++){var W=c.data[w.dataSeriesIndexes[j]];if(!(4>W.dataPoints.length))for(B=0;B<W.dataPoints.length;B++)F=(D+1-k)*Math.max(parseFloat(w.axisX.scaleBreaks.collapsibleThreshold)||10,10)/100,(P=W.dataPoints[B].x.getTime?W.dataPoints[B].x.getTime():W.dataPoints[B].x)<L[F=Math.floor((P-k)/F)].min&&(L[F].min=P),P>L[F].max&&(L[F].max=P)}}for(var a,c=this,f=!1,m=0;m<this._axes.length;m++)if(this._axes[m].scaleBreaks&&this._axes[m].scaleBreaks.autoCalculate&&1<=this._axes[m].scaleBreaks.maxNumberOfAutoBreaks){f=!0,this._axes[m].dataInfo._dataRanges=[];for(var M=0;M<100/Math.max(parseFloat(this._axes[m].scaleBreaks.collapsibleThreshold)||10,10);M++)this._axes[m].dataInfo._dataRanges.push({min:1/0,max:-1/0})}if(f){for(m=0;m<this.plotInfo.plotTypes.length;m++)for(f=this.plotInfo.plotTypes[m],M=0;M<f.plotUnits.length;M++)"line"===(a=f.plotUnits[M]).type||"stepLine"===a.type||"spline"===a.type||"column"===a.type||"area"===a.type||"stepArea"===a.type||"splineArea"===a.type||"bar"===a.type||"bubble"===a.type||"scatter"===a.type||"candlestick"===a.type||"ohlc"===a.type||"rangeColumn"===a.type||"rangeBar"===a.type||"rangeArea"===a.type||"rangeSplineArea"===a.type||"waterfall"===a.type||"error"===a.type||"boxAndWhisker"===a.type?u(a):0<=a.type.indexOf("stacked")&&l(a);for(m=0;m<this._axes.length;m++)if(this._axes[m].dataInfo._dataRanges){var C=this._axes[m].dataInfo.min;a=(this._axes[m].dataInfo.max+1-C)*Math.max(parseFloat(this._axes[m].scaleBreaks.collapsibleThreshold)||10,10)/100;var g,v,x=this._axes[m].dataInfo._dataRanges;if(f=[],this._axes[m].dataInfo.dataPointYPositiveSums){var b=this._axes[m].dataInfo.dataPointYPositiveSums;for(M in g=x,b)if(b.hasOwnProperty(M)&&!isNaN(M)&&!V(v=b[M])){var d=Math.floor((v-C)/a);v<g[d].min&&(g[d].min=v),v>g[d].max&&(g[d].max=v)}delete this._axes[m].dataInfo.dataPointYPositiveSums}if(this._axes[m].dataInfo.dataPointYNegativeSums){for(M in g=x,b=this._axes[m].dataInfo.dataPointYNegativeSums)b.hasOwnProperty(M)&&!isNaN(M)&&(V(v=-1*b[M])||(v<g[d=Math.floor((v-C)/a)].min&&(g[d].min=v),v>g[d].max&&(g[d].max=v)));delete this._axes[m].dataInfo.dataPointYNegativeSums}for(M=0;M<x.length-1;M++)if(g=x[M].max,isFinite(g))for(;M<x.length-1;){if(C=x[M+1].min,isFinite(C)){(v=C-g)>a&&f.push({diff:v,start:g,end:C});break}M++}if(this._axes[m].scaleBreaks.customBreaks)for(M=0;M<this._axes[m].scaleBreaks.customBreaks.length;M++)for(a=0;a<f.length;a++)(this._axes[m].scaleBreaks.customBreaks[M].startValue<=f[a].start&&f[a].start<=this._axes[m].scaleBreaks.customBreaks[M].endValue||this._axes[m].scaleBreaks.customBreaks[M].startValue<=f[a].start&&f[a].start<=this._axes[m].scaleBreaks.customBreaks[M].endValue||f[a].start<=this._axes[m].scaleBreaks.customBreaks[M].startValue&&this._axes[m].scaleBreaks.customBreaks[M].startValue<=f[a].end||f[a].start<=this._axes[m].scaleBreaks.customBreaks[M].endValue&&this._axes[m].scaleBreaks.customBreaks[M].endValue<=f[a].end)&&(f.splice(a,1),a--);for(f.sort(function(P,k){return k.diff-P.diff}),M=0;M<Math.min(f.length,this._axes[m].scaleBreaks.maxNumberOfAutoBreaks);M++)w=f[M].start,P=f[M].end,k=this._axes[m].logarithmic?this._axes[m].dataInfo.max/this._axes[m].dataInfo.min:this._axes[m].dataInfo.max-this._axes[m].dataInfo.min,a=this._axes[m].logarithmic?(1>=(k=Math.pow(Math.min(k*w/P,P/w),.2))&&(k=Math.pow(1>w?1/w:Math.min(P/w,w),.25)),{startValue:w*k,endValue:P/k}):(0>=(k=.2*Math.min(k-P+w,P-w))&&(k=.25*Math.min(P-w,Math.abs(w))),{startValue:w+k,endValue:P-k}),this._axes[m].scaleBreaks.autoBreaks.push(new Ct(this,"autoBreaks",a,M,++this._eventManager.lastObjectId,this._axes[m].scaleBreaks)),this._axes[m].scaleBreaks._appliedBreaks.push(this._axes[m].scaleBreaks.autoBreaks[this._axes[m].scaleBreaks.autoBreaks.length-1]);this._axes[m].scaleBreaks._appliedBreaks.sort(function(P,k){return P.startValue-k.startValue})}}var w,P,k},E.prototype.renderCrosshairs=function(r){for(var u=0;u<this.axisX.length;u++)this.axisX[u]!=r&&this.axisX[u].crosshair&&this.axisX[u].crosshair.enabled&&!this.axisX[u].crosshair._hidden&&this.axisX[u].showCrosshair(this.axisX[u].crosshair._updatedValue);for(u=0;u<this.axisX2.length;u++)this.axisX2[u]!=r&&this.axisX2[u].crosshair&&this.axisX2[u].crosshair.enabled&&!this.axisX2[u].crosshair._hidden&&this.axisX2[u].showCrosshair(this.axisX2[u].crosshair._updatedValue);for(u=0;u<this.axisY.length;u++)this.axisY[u]!=r&&this.axisY[u].crosshair&&this.axisY[u].crosshair.enabled&&!this.axisY[u].crosshair._hidden&&this.axisY[u].showCrosshair(this.axisY[u].crosshair._updatedValue);for(u=0;u<this.axisY2.length;u++)this.axisY2[u]!=r&&this.axisY2[u].crosshair&&this.axisY2[u].crosshair.enabled&&!this.axisY2[u].crosshair._hidden&&this.axisY2[u].showCrosshair(this.axisY2[u].crosshair._updatedValue)},E.prototype.getDataPointAtXY=function(r,u,l){l=l||!1;for(var a=[],c=this._dataInRenderedOrder.length-1;0<=c;c--){var f;(f=this._dataInRenderedOrder[c].getDataPointAtXY(r,u,l))&&a.push(f)}for(r=null,u=!1,l=0;l<a.length;l++)if(("line"===a[l].dataSeries.type||"stepLine"===a[l].dataSeries.type||"area"===a[l].dataSeries.type||"stepArea"===a[l].dataSeries.type)&&(c=St("markerSize",a[l].dataPoint,a[l].dataSeries)||8,a[l].distance<=c/2)){u=!0;break}for(l=0;l<a.length;l++)u&&"line"!==a[l].dataSeries.type&&"stepLine"!==a[l].dataSeries.type&&"area"!==a[l].dataSeries.type&&"stepArea"!==a[l].dataSeries.type||(r?a[l].distance<=r.distance&&(r=a[l]):r=a[l]);return r},E.prototype.getObjectAtXY=function(r,u,l){var a=null;if(l=this.getDataPointAtXY(r,u,l||!1))a=l.dataSeries.dataPointIds[l.dataPointIndex];else if(Y)a=ls(r,u,this._eventManager.ghostCtx);else for(l=0;l<this.legend.items.length;l++){var c=this.legend.items[l];r>=c.x1&&r<=c.x2&&u>=c.y1&&u<=c.y2&&(a=c.id)}return a},E.prototype.getAutoFontSize=Qo,E.prototype.resetOverlayedCanvas=function(){this.overlaidCanvasCtx.clearRect(0,0,this.width,this.height)},E.prototype.clearCanvas=vr,E.prototype.attachEvent=function(r){this._events.push(r)},E.prototype._touchEventHandler=function(r){if(r.changedTouches&&this.interactivityEnabled){var u=[],l=r.changedTouches,a=l?l[0]:r,c=null;switch(r.type){case"touchstart":case"MSPointerDown":u=["mousemove","mousedown"],this._lastTouchData=Xr(a),this._lastTouchData.time=new Date;break;case"touchmove":case"MSPointerMove":u=["mousemove"];break;case"touchend":case"MSPointerUp":var f=this._lastTouchData&&this._lastTouchData.time?new Date-this._lastTouchData.time:0;u="touchstart"===this._lastTouchEventType||"MSPointerDown"===this._lastTouchEventType||300>f?["mouseup","click"]:["mouseup"];break;default:return}if(!(l&&1<l.length)){(c=Xr(a)).time=new Date;try{var m=c.y-this._lastTouchData.y;f=c.time-this._lastTouchData.time,(1<Math.abs(m)&&this._lastTouchData.scroll||5<Math.abs(m)&&250>f)&&(this._lastTouchData.scroll=!0)}catch{}if(this._lastTouchEventType=r.type,this._lastTouchData.scroll&&this.zoomEnabled)this.isDrag&&this.resetOverlayedCanvas(),this.isDrag=!1;else for(l=0;l<u.length;l++)c=u[l],(m=document.createEvent("MouseEvent")).initMouseEvent(c,!0,!0,window,1,a.screenX,a.screenY,a.clientX,a.clientY,!1,!1,!1,!1,0,null),a.target.dispatchEvent(m),(!V(this._lastTouchData.scroll)&&!this._lastTouchData.scroll||!this._lastTouchData.scroll&&250<f||"click"===c)&&(r.preventManipulation&&r.preventManipulation(),r.preventDefault&&r.cancelable&&r.preventDefault())}}},E.prototype._dispatchRangeEvent=function(r,u){var l={chart:this};l.type=r,l.trigger=u;var a=[];this.axisX&&0<this.axisX.length&&a.push("axisX"),this.axisX2&&0<this.axisX2.length&&a.push("axisX2"),this.axisY&&0<this.axisY.length&&a.push("axisY"),this.axisY2&&0<this.axisY2.length&&a.push("axisY2");for(var c=0;c<a.length;c++)if(V(l[a[c]])&&(l[a[c]]=[]),"axisY"===a[c])for(var f=0;f<this.axisY.length;f++)l[a[c]].push({viewportMinimum:this[a[c]][f].sessionVariables.newViewportMinimum,viewportMaximum:this[a[c]][f].sessionVariables.newViewportMaximum});else if("axisY2"===a[c])for(f=0;f<this.axisY2.length;f++)l[a[c]].push({viewportMinimum:this[a[c]][f].sessionVariables.newViewportMinimum,viewportMaximum:this[a[c]][f].sessionVariables.newViewportMaximum});else if("axisX"===a[c])for(f=0;f<this.axisX.length;f++)l[a[c]].push({viewportMinimum:this[a[c]][f].sessionVariables.newViewportMinimum,viewportMaximum:this[a[c]][f].sessionVariables.newViewportMaximum});else if("axisX2"===a[c])for(f=0;f<this.axisX2.length;f++)l[a[c]].push({viewportMinimum:this[a[c]][f].sessionVariables.newViewportMinimum,viewportMaximum:this[a[c]][f].sessionVariables.newViewportMaximum});this.dispatchEvent(r,l,this)},E.prototype._mouseEventHandler=function(r){function u(){E.capturedEventParam&&(m=(c=E.capturedEventParam).bounds,"mouseup"===a&&(E.capturedEventParam=null,c.chart.overlaidCanvas.releaseCapture?c.chart.overlaidCanvas.releaseCapture():document.documentElement.removeEventListener("mouseup",c.chart._mouseEventHandler,!1)),c.hasOwnProperty(a)&&("mouseup"!==a||c.chart.overlaidCanvas.releaseCapture?r.target!==c.chart.overlaidCanvas&&Y||c[a].call(c.context,l.x,l.y):r.target!==c.chart.overlaidCanvas&&(c.chart.isDrag=!1)))}typeof r.target>"u"&&r.srcElement&&(r.target=r.srcElement);var c,f,l=Xr(r),a=r.type;if(r.which?f=3==r.which:r.button&&(f=2==r.button),this._ignoreNextEvent)u(),this._ignoreNextEvent=!1;else if(u(),this.interactivityEnabled){var m;if(r.preventManipulation&&r.preventManipulation(),r.preventDefault&&r.preventDefault(),Ps&&window.console&&(window.console.log(a+" --\x3e x: "+l.x+"; y:"+l.y),f&&window.console.log(r.which),"mouseup"===a&&window.console.log("mouseup")),!f){if(!E.capturedEventParam&&this._events){for(f=0;f<this._events.length;f++)if(this._events[f].hasOwnProperty(a)){if(l.x>=(m=(c=this._events[f]).bounds).x1&&l.x<=m.x2&&l.y>=m.y1&&l.y<=m.y2){c[a].call(c.context,l.x,l.y),"mousedown"===a&&!0===c.capture?(E.capturedEventParam=c,this.overlaidCanvas.setCapture?this.overlaidCanvas.setCapture():document.documentElement.addEventListener("mouseup",this._mouseEventHandler,!1)):"mouseup"===a&&(c.chart.overlaidCanvas.releaseCapture?c.chart.overlaidCanvas.releaseCapture():document.documentElement.removeEventListener("mouseup",this._mouseEventHandler,!1));break}c=null}r.target.style.cursor=c&&c.cursor?c.cursor:this._defaultCursor}if(l.x<(f=this.plotArea).x1||l.x>f.x2||l.y<f.y1||l.y>f.y2){for(this.toolTip&&this.toolTip.enabled?(this.toolTip.hide(),this.toolTip.dispatchEvent("hidden",{chart:this,toolTip:this.toolTip},this.toolTip)):this.resetOverlayedCanvas(),f=0;f<this.axisX.length;f++)this.axisX[f].crosshair&&this.axisX[f].crosshair.enabled&&(this.axisX[f].crosshair.hide(),this.axisX[f].crosshair.dispatchEvent("hidden",{chart:this,axis:this.axisX[f].options},this.axisX[f].crosshair));for(f=0;f<this.axisX2.length;f++)this.axisX2[f].crosshair&&this.axisX2[f].crosshair.enabled&&(this.axisX2[f].crosshair.hide(),this.axisX2[f].crosshair.dispatchEvent("hidden",{chart:this,axis:this.axisX2[f].options},this.axisX2[f].crosshair));for(f=0;f<this.axisY.length;f++)this.axisY[f].crosshair&&this.axisY[f].crosshair.enabled&&(this.axisY[f].crosshair.hide(),this.axisY[f].crosshair.dispatchEvent("hidden",{chart:this,axis:this.axisY[f].options},this.axisY[f].crosshair));for(f=0;f<this.axisY2.length;f++)this.axisY2[f].crosshair&&this.axisY2[f].crosshair.enabled&&(this.axisY2[f].crosshair.hide(),this.axisY2[f].crosshair.dispatchEvent("hidden",{chart:this,axis:this.axisY2[f].options},this.axisY2[f].crosshair))}this.isDrag&&this.zoomEnabled||!this._eventManager||this._eventManager.mouseEventHandler(r)}}},E.prototype._plotAreaMouseDown=function(r,u){this.isDrag=!0,this.dragStartPoint={x:r,y:u}},E.prototype._plotAreaMouseUp=function(r,u){if(("normal"===this.plotInfo.axisPlacement||"xySwapped"===this.plotInfo.axisPlacement)&&this.isDrag){var l=u-this.dragStartPoint.y,a=r-this.dragStartPoint.x,M=0<=this.zoomType.indexOf("x"),m=0<=this.zoomType.indexOf("y"),c=!1;if(this.resetOverlayedCanvas(),"xySwapped"===this.plotInfo.axisPlacement){var f=m;m=M,M=f}if(this.panEnabled||this.zoomEnabled){if(this.panEnabled)for(M=m=0;M<this._axes.length;M++)(l=this._axes[M]).logarithmic?l.viewportMinimum<l.minimum?(l.sessionVariables.newViewportMinimum=l.viewportMinimum*(m=l.minimum/l.viewportMinimum),l.sessionVariables.newViewportMaximum=l.viewportMaximum*m,c=!0):l.viewportMaximum>l.maximum&&(l.sessionVariables.newViewportMinimum=l.viewportMinimum/(m=l.viewportMaximum/l.maximum),l.sessionVariables.newViewportMaximum=l.viewportMaximum/m,c=!0):l.viewportMinimum<l.minimum?(l.sessionVariables.newViewportMinimum=l.viewportMinimum+(m=l.minimum-l.viewportMinimum),l.sessionVariables.newViewportMaximum=l.viewportMaximum+m,c=!0):l.viewportMaximum>l.maximum&&(l.sessionVariables.newViewportMinimum=l.viewportMinimum-(m=l.viewportMaximum-l.maximum),l.sessionVariables.newViewportMaximum=l.viewportMaximum-m,c=!0);else if((!M||2<Math.abs(a))&&(!m||2<Math.abs(l))&&this.zoomEnabled){if(!this.dragStartPoint)return;l=M?this.dragStartPoint.x:this.plotArea.x1,a=m?this.dragStartPoint.y:this.plotArea.y1,M=M?r:this.plotArea.x2,m=m?u:this.plotArea.y2,2<Math.abs(l-M)&&2<Math.abs(a-m)&&this._zoomPanToSelectedRegion(l,a,M,m)&&(c=!0)}c&&(this._ignoreNextEvent=!0,this._dispatchRangeEvent("rangeChanging","zoom"),this.stockChart&&this.stockChart.navigator&&this.stockChart.navigator.enabled&&(this.stockChart._rangeEventParameter||(this.stockChart._rangeEventParameter={stockChart:this.stockChart,source:"chart",index:this.stockChart.charts.indexOf(this),minimum:this.stockChart.sessionVariables._axisXMin,maximum:this.stockChart.sessionVariables._axisXMax}),this.stockChart._rangeEventParameter.type="rangeChanging",this.stockChart.dispatchEvent("rangeChanging",this.stockChart._rangeEventParameter,this.stockChart)),this.render(),this._dispatchRangeEvent("rangeChanged","zoom"),this.stockChart&&this.stockChart.navigator&&this.stockChart.navigator.enabled&&(this.stockChart._rangeEventParameter.type="rangeChanged",this.stockChart.dispatchEvent("rangeChanged",this.stockChart._rangeEventParameter,this.stockChart)),c&&this.zoomEnabled&&"none"===this._zoomButton.style.display&&(It(this._zoomButton,this._resetButton),Kt(this,this._zoomButton,"pan"),Kt(this,this._resetButton,"reset")))}}if(this.isDrag=!1,"none"!==this.plotInfo.axisPlacement){if(this.resetOverlayedCanvas(),this.axisX&&0<this.axisX.length)for(c=0;c<this.axisX.length;c++)this.axisX[c].crosshair&&this.axisX[c].crosshair.enabled&&this.axisX[c].renderCrosshair(r,u);if(this.axisX2&&0<this.axisX2.length)for(c=0;c<this.axisX2.length;c++)this.axisX2[c].crosshair&&this.axisX2[c].crosshair.enabled&&this.axisX2[c].renderCrosshair(r,u);if(this.axisY&&0<this.axisY.length)for(c=0;c<this.axisY.length;c++)this.axisY[c].crosshair&&this.axisY[c].crosshair.enabled&&this.axisY[c].renderCrosshair(r,u);if(this.axisY2&&0<this.axisY2.length)for(c=0;c<this.axisY2.length;c++)this.axisY2[c].crosshair&&this.axisY2[c].crosshair.enabled&&this.axisY2[c].renderCrosshair(r,u);if(this.axisX&&0<this.axisX.length)for(c=0;c<this.axisX.length;c++)this.axisX[c].crosshair&&this.axisX[c].crosshair.enabled&&this.axisX[c].crosshair.renderLabel();if(this.axisX2&&0<this.axisX2.length)for(c=0;c<this.axisX2.length;c++)this.axisX2[c].crosshair&&this.axisX2[c].crosshair.enabled&&this.axisX2[c].crosshair.renderLabel();if(this.axisY&&0<this.axisY.length)for(c=0;c<this.axisY.length;c++)this.axisY[c].crosshair&&this.axisY[c].crosshair.enabled&&this.axisY[c].crosshair.renderLabel();if(this.axisY2&&0<this.axisY2.length)for(c=0;c<this.axisY2.length;c++)this.axisY2[c].crosshair&&this.axisY2[c].crosshair.enabled&&this.axisY2[c].crosshair.renderLabel()}},E.prototype._plotAreaMouseMove=function(r,u){if(this.isDrag&&"none"!==this.plotInfo.axisPlacement){var l=0,a=0,c=l=null,f=(c=0<=this.zoomType.indexOf("x"),0<=this.zoomType.indexOf("y")),m=this;if("xySwapped"===this.plotInfo.axisPlacement&&(l=f,f=c,c=l),l=this.dragStartPoint.x-r,a=this.dragStartPoint.y-u,2<Math.abs(l)&&8>Math.abs(l)&&(this.panEnabled||this.zoomEnabled)){this.toolTip.hide(),this.toolTip&&this.toolTip.enabled&&this.toolTip.dispatchEvent("hidden",{chart:this,toolTip:this.toolTip},this.toolTip);for(var M=0;M<this.axisX.length;M++)this.axisX[M].crosshair&&this.axisX[M].crosshair.enabled&&(this.axisX[M].crosshair.hide(),this.axisX[M].crosshair.dispatchEvent("hidden",{chart:this,axis:this.axisX[M].options},this.axisX[M].crosshair));for(M=0;M<this.axisX2.length;M++)this.axisX2[M].crosshair&&this.axisX2[M].crosshair.enabled&&(this.axisX2[M].crosshair.hide(),this.axisX2[M].crosshair.dispatchEvent("hidden",{chart:this,axis:this.axisX2[M].options},this.axisX2[M].crosshair));for(M=0;M<this.axisY.length;M++)this.axisY[M].crosshair&&this.axisY[M].crosshair.enabled&&(this.axisY[M].crosshair.hide(),this.axisY[M].crosshair.dispatchEvent("hidden",{chart:this,axis:this.axisY[M].options},this.axisY[M].crosshair));for(M=0;M<this.axisY2.length;M++)this.axisY2[M].crosshair&&this.axisY2[M].crosshair.enabled&&(this.axisY2[M].crosshair.hide(),this.axisY2[M].crosshair.dispatchEvent("hidden",{chart:this,axis:this.axisY2[M].options},this.axisY2[M].crosshair))}else this.panEnabled||this.zoomEnabled||this.toolTip.mouseMoveHandler(r,u);if((!c||2<Math.abs(l)||!f||2<Math.abs(a))&&(this.panEnabled||this.zoomEnabled))if(this.panEnabled)c={x1:c?this.plotArea.x1+l:this.plotArea.x1,y1:f?this.plotArea.y1+a:this.plotArea.y1,x2:c?this.plotArea.x2+l:this.plotArea.x2,y2:f?this.plotArea.y2+a:this.plotArea.y2},clearTimeout(m._panTimerId),m._panTimerId=setTimeout((g=c.x1,v=c.y1,b=c.x2,d=c.y2,function(){m._zoomPanToSelectedRegion(g,v,b,d,!0)&&(m._dispatchRangeEvent("rangeChanging","pan"),m.stockChart&&m.stockChart.navigator&&m.stockChart.navigator.enabled&&(m.stockChart._rangeEventParameter.type="rangeChanging",m.stockChart.dispatchEvent("rangeChanging",m.stockChart._rangeEventParameter,m.stockChart)),m.render(),m._dispatchRangeEvent("rangeChanged","pan"),m.stockChart&&m.stockChart.navigator&&m.stockChart.navigator.enabled&&(m.stockChart._rangeEventParameter.type="rangeChanged",m.stockChart.dispatchEvent("rangeChanged",m.stockChart._rangeEventParameter,m.stockChart)),m.dragStartPoint.x=r,m.dragStartPoint.y=u)}),0);else if(this.zoomEnabled){this.resetOverlayedCanvas(),l=this.overlaidCanvasCtx.globalAlpha,this.overlaidCanvasCtx.fillStyle="#A89896";var C=c?r-this.dragStartPoint.x:this.plotArea.x2-this.plotArea.x1,x=f?u-this.dragStartPoint.y:this.plotArea.y2-this.plotArea.y1;this.validateRegion(a=c?this.dragStartPoint.x:this.plotArea.x1,M=f?this.dragStartPoint.y:this.plotArea.y1,c?r:this.plotArea.x2-this.plotArea.x1,f?u:this.plotArea.y2-this.plotArea.y1,"xy"!==this.zoomType).isValid&&(this.resetOverlayedCanvas(),this.overlaidCanvasCtx.fillStyle="#99B2B5"),this.overlaidCanvasCtx.globalAlpha=.7,this.overlaidCanvasCtx.fillRect(a,M,C,x),this.overlaidCanvasCtx.globalAlpha=l}}else if(this.toolTip.mouseMoveHandler(r,u),"none"!==this.plotInfo.axisPlacement){if(this.axisX&&0<this.axisX.length)for(c=0;c<this.axisX.length;c++)this.axisX[c].crosshair&&this.axisX[c].crosshair.enabled&&this.axisX[c].renderCrosshair(r,u);if(this.axisX2&&0<this.axisX2.length)for(c=0;c<this.axisX2.length;c++)this.axisX2[c].crosshair&&this.axisX2[c].crosshair.enabled&&this.axisX2[c].renderCrosshair(r,u);if(this.axisY&&0<this.axisY.length)for(c=0;c<this.axisY.length;c++)this.axisY[c].crosshair&&this.axisY[c].crosshair.enabled&&this.axisY[c].renderCrosshair(r,u);if(this.axisY2&&0<this.axisY2.length)for(c=0;c<this.axisY2.length;c++)this.axisY2[c].crosshair&&this.axisY2[c].crosshair.enabled&&this.axisY2[c].renderCrosshair(r,u);if(this.axisX&&0<this.axisX.length)for(c=0;c<this.axisX.length;c++)this.axisX[c].crosshair&&this.axisX[c].crosshair.enabled&&this.axisX[c].crosshair.renderLabel();if(this.axisX2&&0<this.axisX2.length)for(c=0;c<this.axisX2.length;c++)this.axisX2[c].crosshair&&this.axisX2[c].crosshair.enabled&&this.axisX2[c].crosshair.renderLabel();if(this.axisY&&0<this.axisY.length)for(c=0;c<this.axisY.length;c++)this.axisY[c].crosshair&&this.axisY[c].crosshair.enabled&&this.axisY[c].crosshair.renderLabel();if(this.axisY2&&0<this.axisY2.length)for(c=0;c<this.axisY2.length;c++)this.axisY2[c].crosshair&&this.axisY2[c].crosshair.enabled&&this.axisY2[c].crosshair.renderLabel()}var g,v,b,d},E.prototype._zoomPanToSelectedRegion=function(r,u,l,a,c){if(u=(r=this.validateRegion(r,u,l,a,c)).axesWithValidRange,l=r.axesRanges,r.isValid)for(a=0;a<u.length;a++)u[a].setViewPortRange((c=l[a]).val1,c.val2),this.syncCharts&&"y"!=this.zoomType&&this.syncCharts(c.val1,c.val2),this.stockChart&&(this.stockChart._rangeEventParameter={stockChart:this.stockChart,source:"chart",index:this.stockChart.charts.indexOf(this),minimum:c.val1,maximum:c.val2});return r.isValid},E.prototype.validateRegion=function(r,u,l,a,c){c=c||!1;for(var f=0<=this.zoomType.indexOf("x"),m=0<=this.zoomType.indexOf("y"),M=!1,C=[],x=[],g=[],v=0;v<this._axes.length;v++)("axisX"===this._axes[v].type&&f||"axisY"===this._axes[v].type&&m)&&x.push(this._axes[v]);for(m=0;m<x.length;m++){if(f=!1,(w=(v=x[m]).convertPixelToValue({x:r,y:u}))>(d=v.convertPixelToValue({x:l,y:a})))var b=d,d=w,w=b;if(v.scaleBreaks)for(b=0;!f&&b<v.scaleBreaks._appliedBreaks.length;b++)f=v.scaleBreaks._appliedBreaks[b].startValue<=w&&v.scaleBreaks._appliedBreaks[b].endValue>=d;if(isFinite(v.dataInfo.minDiff))if(b=v.getApparentDifference(w,d,null,!0),f||!(this.panEnabled&&v.scaleBreaks&&v.scaleBreaks._appliedBreaks.length)&&(v.logarithmic&&b<Math.pow(v.dataInfo.minDiff,3)||!v.logarithmic&&b<3*Math.abs(v.dataInfo.minDiff))||w<v.minimum||d>v.maximum){if(!c){M=!1;break}}else C.push(v),g.push({val1:w,val2:d}),M=!0}return{isValid:M,axesWithValidRange:C,axesRanges:g}},E.prototype.preparePlotArea=function(){var r=this.plotArea;if(!Y&&(0<r.x1||0<r.y1)&&r.ctx.translate(r.x1,r.y1),(this.axisX[0]||this.axisX2[0])&&(this.axisY[0]||this.axisY2[0])){var u=this.axisX[0]?this.axisX[0].lineCoordinates:this.axisX2[0].lineCoordinates;if(this.axisY&&0<this.axisY.length&&this.axisY[0]){var l=this.axisY[0];r.x1=u.x1<u.x2?u.x1:l.lineCoordinates.x1,r.y1=u.y1<l.lineCoordinates.y1?u.y1:l.lineCoordinates.y1,r.x2=u.x2>l.lineCoordinates.x2?u.x2:l.lineCoordinates.x2,r.y2=u.y1>l.lineCoordinates.y2?u.y1:l.lineCoordinates.y2,r.width=r.x2-r.x1,r.height=r.y2-r.y1}this.axisY2&&0<this.axisY2.length&&this.axisY2[0]&&(l=this.axisY2[0],r.x1=u.x1<u.x2?u.x1:l.lineCoordinates.x1,r.y1=u.y1<l.lineCoordinates.y1?u.y1:l.lineCoordinates.y1,r.x2=u.x2>l.lineCoordinates.x2?u.x2:l.lineCoordinates.x2,r.y2=u.y2>l.lineCoordinates.y2?u.y2:l.lineCoordinates.y2,r.width=r.x2-r.x1,r.height=r.y2-r.y1)}else u=this.layoutManager.getFreeSpace(),r.x1=u.x1,r.x2=u.x2,r.y1=u.y1,r.y2=u.y2,r.width=u.width,r.height=u.height;Y||(r.canvas.width=r.width,r.canvas.height=r.height,r.canvas.style.left=r.x1+"px",r.canvas.style.top=r.y1+"px",(0<r.x1||0<r.y1)&&r.ctx.translate(-r.x1,-r.y1)),r.layoutManager=new kn(r.x1,r.y1,r.x2,r.y2,2)},E.prototype.renderIndexLabels=function(r){var u=r||this.plotArea.ctx,l=this.plotArea,a=0,c=0,f=0,m=f=c=0,M=0,C=a=0,x=0;for(r=0;r<this._indexLabels.length;r++){var b,d,g=this._indexLabels[r],v=g.chartType.toLowerCase(),w=(m=St("indexLabelFontColor",g.dataPoint,g.dataSeries),St("indexLabelFontSize",g.dataPoint,g.dataSeries)),P=(M=St("indexLabelFontFamily",g.dataPoint,g.dataSeries),C=St("indexLabelFontStyle",g.dataPoint,g.dataSeries),x=St("indexLabelFontWeight",g.dataPoint,g.dataSeries),St("indexLabelBackgroundColor",g.dataPoint,g.dataSeries));b=St("indexLabelMaxWidth",g.dataPoint,g.dataSeries),d=St("indexLabelWrap",g.dataPoint,g.dataSeries);var k=St("indexLabelLineDashType",g.dataPoint,g.dataSeries),D=St("indexLabelLineColor",g.dataPoint,g.dataSeries),L=V(g.dataPoint.indexLabelLineThickness)?V(g.dataSeries.options.indexLabelLineThickness)?0:g.dataSeries.options.indexLabelLineThickness:g.dataPoint.indexLabelLineThickness,F=(a=0<L?Math.min(10,("normal"===this.plotInfo.axisPlacement?this.plotArea.height:this.plotArea.width)<<0):0,{percent:null,total:null}),B=null;(0<=g.dataSeries.type.indexOf("stacked")||"pie"===g.dataSeries.type||"doughnut"===g.dataSeries.type)&&(F=this.getPercentAndTotal(g.dataSeries,g.dataPoint)),(g.dataSeries.indexLabelFormatter||g.dataPoint.indexLabelFormatter)&&(B={chart:this,dataSeries:g.dataSeries,dataPoint:g.dataPoint,index:g.indexKeyword,total:F.total,percent:F.percent});var j=g.dataPoint.indexLabelFormatter?g.dataPoint.indexLabelFormatter(B):g.dataPoint.indexLabel?this.replaceKeywordsWithValue(g.dataPoint.indexLabel,g.dataPoint,g.dataSeries,null,g.indexKeyword):g.dataSeries.indexLabelFormatter?g.dataSeries.indexLabelFormatter(B):g.dataSeries.indexLabel?this.replaceKeywordsWithValue(g.dataSeries.indexLabel,g.dataPoint,g.dataSeries,null,g.indexKeyword):null;if(null!==j&&""!==j){F=St("indexLabelPlacement",g.dataPoint,g.dataSeries),B=St("indexLabelOrientation",g.dataPoint,g.dataSeries);var W=St("indexLabelTextAlign",g.dataPoint,g.dataSeries),ie=g.direction,le=(c=g.dataSeries.axisX,f=g.dataSeries.axisY,!1);if((P=new Ze(u,{x:0,y:0,maxWidth:b||.5*this.width,maxHeight:d?5*w:1.5*w,angle:"horizontal"===B?0:-90,text:j,padding:0,backgroundColor:P,textAlign:W,fontSize:w,fontFamily:M,fontWeight:x,fontColor:m,fontStyle:C,textBaseline:"middle"})).measureText(),g.dataSeries.indexLabelMaxWidth=P.maxWidth,"stackedarea100"===v){if(g.point.x<l.x1||g.point.x>l.x2||g.point.y<l.y1-1||g.point.y>l.y2+1)continue}else if("rangearea"===v||"rangesplinearea"===v){if(g.dataPoint.x<c.viewportMinimum||g.dataPoint.x>c.viewportMaximum||Math.max.apply(null,g.dataPoint.y)<f.viewportMinimum||Math.min.apply(null,g.dataPoint.y)>f.viewportMaximum)continue}else if(0<=v.indexOf("line")||0<=v.indexOf("area")||0<=v.indexOf("bubble")||0<=v.indexOf("scatter")){if(g.dataPoint.x<c.viewportMinimum||g.dataPoint.x>c.viewportMaximum||g.dataPoint.y<f.viewportMinimum||g.dataPoint.y>f.viewportMaximum)continue}else if(0<=v.indexOf("column")||"waterfall"===v||"error"===v&&!g.axisSwapped){if(g.dataPoint.x<c.viewportMinimum||g.dataPoint.x>c.viewportMaximum||g.bounds.y1>l.y2||g.bounds.y2<l.y1)continue}else if(0<=v.indexOf("bar")||"error"===v){if(g.dataPoint.x<c.viewportMinimum||g.dataPoint.x>c.viewportMaximum||g.bounds.x1>l.x2||g.bounds.x2<l.x1)continue}else if("candlestick"===v||"ohlc"===v){if(g.dataPoint.x<c.viewportMinimum||g.dataPoint.x>c.viewportMaximum||Math.max.apply(null,g.dataPoint.y)<f.viewportMinimum||Math.min.apply(null,g.dataPoint.y)>f.viewportMaximum)continue}else if(g.dataPoint.x<c.viewportMinimum||g.dataPoint.x>c.viewportMaximum)continue;m=M=2,"horizontal"===B?(C=P.width,x=P.height):(x=P.width,C=P.height),"normal"===this.plotInfo.axisPlacement?(0<=v.indexOf("line")||0<=v.indexOf("area")?(F="auto",M=4):0<=v.indexOf("stacked")?"auto"===F&&(F="inside"):("bubble"===v||"scatter"===v)&&(F="inside"),b=g.point.x-("horizontal"===B?C/2:C/2-w/2),"inside"!==F?(c=l.y1,f=l.y2,0<ie?(d=g.point.y+("horizontal"===B?w/2:0)-x-M-a)<c&&(le=(d="auto"===F?Math.max(g.point.y,c)+w/2+M:c+w/2+M)+x>g.point.y):(d=g.point.y+w/2+M+a)>f-x&&(le=(d="auto"===F?Math.min(g.point.y,f)+w/2-x-M:f+w/2-x)<g.point.y)):(c=Math.max(g.bounds.y1,l.y1),f=Math.min(g.bounds.y2,l.y2-x+w/2),a=0<=v.indexOf("range")||"error"===v?0<ie?Math.max(g.bounds.y1,l.y1)+w/2+M:Math.min(g.bounds.y2,l.y2)+w/2-x+M:(Math.max(g.bounds.y1,l.y1)+Math.min(g.bounds.y2,l.y2))/2-x/2+w/2+("horizontal"===B?M:0),0<ie?(d=Math.max(g.point.y,a))<c&&("bubble"===v||"scatter"===v)&&(d=Math.max(g.point.y-x-M,l.y1+M)):(d=Math.min(g.point.y,a))>f-x-M&&("bubble"===v||"scatter"===v)&&(d=Math.min(g.point.y+M,l.y2-x-M)),d=Math.min(d,f))):(0<=v.indexOf("line")||0<=v.indexOf("area")||0<=v.indexOf("scatter")?(F="auto",m=4):0<=v.indexOf("stacked")?"auto"===F&&(F="inside"):"bubble"===v&&(F="inside"),d=g.point.y+w/2-x/2+M,"inside"!==F?(c=l.x1,f=l.x2,0>ie?(b=g.point.x-("horizontal"===B?C:C-w/2)-m-a)<c&&(le=(b="auto"===F?Math.max(g.point.x,c)+m:c+m)+C>g.point.x):(b=g.point.x+("horizontal"===B?0:w/2)+m+a)>f-C-m-a&&(le=(b="auto"===F?Math.min(g.point.x,f)-("horizontal"===B?C:C/2)-m:f-C-m)<g.point.x)):(c=Math.max(g.bounds.x1,l.x1),Math.min(g.bounds.x2,l.x2),a=0<=v.indexOf("range")||"error"===v?0>ie?Math.max(g.bounds.x1,l.x1)+w/2+m:Math.min(g.bounds.x2,l.x2)-C/2-m+("horizontal"===B?0:w/2):(Math.max(g.bounds.x1,l.x1)+Math.min(g.bounds.x2,l.x2))/2+("horizontal"===B?0:w/2),b=0>ie?Math.max(g.point.x,a)-("horizontal"===B?C/2:0):Math.min(g.point.x,a)-C/2,b=Math.max(b,c))),"vertical"===B&&(d+=x-w/2),P.x=b,P.y=d,P.render(!0),L&&"inside"!==F&&(0>v.indexOf("bar")&&("error"!==v||!g.axisSwapped)&&g.point.x>l.x1&&g.point.x<l.x2||!le)&&(0>v.indexOf("column")&&("error"!==v||g.axisSwapped)&&g.point.y>l.y1&&g.point.y<l.y2||!le)&&(u.lineWidth=L,u.strokeStyle=D||"gray",u.setLineDash&&u.setLineDash($e(k,L)),u.beginPath(),u.moveTo(g.point.x,g.point.y),0<=v.indexOf("bar")||"error"===v&&g.axisSwapped?u.lineTo(b+(0<g.direction?-m:C+m)+("vertical"===B?-w/2:0),d+("vertical"===B?-x/2:x/2-w/2)-M):0<=v.indexOf("column")||"error"===v&&!g.axisSwapped?u.lineTo(b+C/2-("horizontal"===B?0:w/2),d+("vertical"===B?(d-x<g.point.y?0:-x)+M:(d-w/2<g.point.y?x:0)-w/2)):0<=v.indexOf("waterfall")?u.lineTo(b+C/2-("horizontal"===B?0:w/2),"vertical"===B?0<ie&&d<g.point.y?d:0>ie&&d-x>g.point.y?d-x:g.point.y:0<ie&&d+x-w/2<g.point.y?d+x-w/2:0>ie&&d-w/2>g.point.y?d-w/2-2:g.point.y):u.lineTo(b+C/2-("horizontal"===B?0:w/2),d+("vertical"===B?d-x<g.point.y?0:-x:(d+x<g.point.y?x:0)-w/2)),u.stroke())}}for(u={source:u,dest:this.plotArea.ctx,animationCallback:we.fadeInAnimation,easingFunction:we.easing.easeInQuad,animationBase:0,startTimePercent:.7},r=0;r<this._indexLabels.length;r++)P=St("indexLabelBackgroundColor",(g=this._indexLabels[r]).dataPoint,g.dataSeries),g.dataSeries.indexLabelBackgroundColor=V(P)?Y?"transparent":null:P;return u},E.prototype.renderLine=function(r){var u=r.targetCanvasCtx||this.plotArea.ctx,l=Y?this._preRenderCtx:u;if(!(0>=r.dataSeriesIndexes.length)){var a=this._eventManager.ghostCtx;l.save();var c=this.plotArea;l.beginPath(),l.rect(c.x1,c.y1,c.width,c.height),l.clip();for(var m,f=[],M=0;M<r.dataSeriesIndexes.length;M++){var C=r.dataSeriesIndexes[M],x=this.data[C];l.lineWidth=x.lineThickness;var g=x.dataPoints,v="solid";if(l.setLineDash){var b=$e(x.nullDataLineDashType,x.lineThickness),d=$e(v=x.lineDashType,x.lineThickness);l.setLineDash(d)}this._eventManager.objectMap[w=x.id]={objectType:"dataSeries",dataSeriesIndex:C},w=Xe(w),a.strokeStyle=w,a.lineWidth=0<x.lineThickness?Math.max(x.lineThickness,4):0;var w=x._colorSet,P=w=x.lineColor=x.options.lineColor?x.options.lineColor:w[0];l.strokeStyle=w;var L,F,k=!0,D=0;if(l.beginPath(),0<g.length){var B=!1;for(D=0;D<g.length;D++)if(!((L=g[D].x.getTime?g[D].x.getTime():g[D].x)<r.axisX.dataInfo.viewPortMin||L>r.axisX.dataInfo.viewPortMax&&(!x.connectNullData||!B)))if("number"!=typeof g[D].y)0<D&&!(x.connectNullData||B||k)&&(l.stroke(),Y&&a.stroke()),B=!0;else{L=r.axisX.convertValueToPixel(L),F=r.axisY.convertValueToPixel(g[D].y);var j=x.dataPointIds[D];if(this._eventManager.objectMap[j]={id:j,objectType:"dataPoint",dataSeriesIndex:C,dataPointIndex:D,x1:L,y1:F},k||B?(!k&&x.connectNullData?(l.setLineDash&&(x.options.nullDataLineDashType||v===x.lineDashType&&x.lineDashType!==x.nullDataLineDashType)&&(l.stroke(),l.beginPath(),l.moveTo(m.x,m.y),v=x.nullDataLineDashType,l.setLineDash(b)),l.lineTo(L,F),Y&&a.lineTo(L,F)):(l.beginPath(),l.moveTo(L,F),Y&&(a.beginPath(),a.moveTo(L,F))),B=k=!1):(l.lineTo(L,F),Y&&a.lineTo(L,F),D%500==0&&(l.stroke(),l.beginPath(),l.moveTo(L,F),Y&&(a.stroke(),a.beginPath(),a.moveTo(L,F)))),m={x:L,y:F},D<g.length-1&&(P!==(g[D].lineColor||w)||v!==(g[D].lineDashType||x.lineDashType))&&(l.stroke(),l.beginPath(),l.moveTo(L,F),l.strokeStyle=P=g[D].lineColor||w,l.setLineDash&&(g[D].lineDashType?l.setLineDash($e(v=g[D].lineDashType,x.lineThickness)):(v=x.lineDashType,l.setLineDash(d)))),0!==g[D].markerSize&&(0<g[D].markerSize||0<x.markerSize)){var W=x.getMarkerProperties(D,L,F,l);f.push(W),j=Xe(j),Y&&f.push({x:L,y:F,ctx:a,type:W.type,size:W.size,color:j,borderColor:j,borderThickness:W.borderThickness})}(g[D].indexLabel||x.indexLabel||g[D].indexLabelFormatter||x.indexLabelFormatter)&&this._indexLabels.push({chartType:"line",dataPoint:g[D],dataSeries:x,point:{x:L,y:F},direction:0>g[D].y===r.axisY.reversed?1:-1,color:w})}l.stroke(),Y&&a.stroke()}}return Rt.drawMarkers(f),Y&&(u.drawImage(this._preRenderCanvas,0,0,this.width,this.height),l.globalCompositeOperation="source-atop",r.axisX.maskCanvas&&l.drawImage(r.axisX.maskCanvas,0,0,this.width,this.height),r.axisY.maskCanvas&&l.drawImage(r.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),l.clearRect(c.x1,c.y1,c.width,c.height),a.beginPath()),l.restore(),l.beginPath(),{source:u,dest:this.plotArea.ctx,animationCallback:we.xClipAnimation,easingFunction:we.easing.linear,animationBase:0}}},E.prototype.renderStepLine=function(r){var u=r.targetCanvasCtx||this.plotArea.ctx,l=Y?this._preRenderCtx:u;if(!(0>=r.dataSeriesIndexes.length)){var a=this._eventManager.ghostCtx;l.save();var c=this.plotArea;l.beginPath(),l.rect(c.x1,c.y1,c.width,c.height),l.clip();for(var m,f=[],M=0;M<r.dataSeriesIndexes.length;M++){var C=r.dataSeriesIndexes[M],x=this.data[C];l.lineWidth=x.lineThickness;var g=x.dataPoints,v="solid";if(l.setLineDash){var b=$e(x.nullDataLineDashType,x.lineThickness),d=$e(v=x.lineDashType,x.lineThickness);l.setLineDash(d)}this._eventManager.objectMap[w=x.id]={objectType:"dataSeries",dataSeriesIndex:C},w=Xe(w),a.strokeStyle=w,a.lineWidth=0<x.lineThickness?Math.max(x.lineThickness,4):0;var w=x._colorSet,P=w=x.lineColor=x.options.lineColor?x.options.lineColor:w[0];l.strokeStyle=w;var L,F,k=!0,D=0;if(l.beginPath(),0<g.length){var B=!1;for(D=0;D<g.length;D++)if(!((L=g[D].getTime?g[D].x.getTime():g[D].x)<r.axisX.dataInfo.viewPortMin||L>r.axisX.dataInfo.viewPortMax&&(!x.connectNullData||!B)))if("number"!=typeof g[D].y)0<D&&!(x.connectNullData||B||k)&&(l.stroke(),Y&&a.stroke()),B=!0;else{var j=F;L=r.axisX.convertValueToPixel(L),F=r.axisY.convertValueToPixel(g[D].y);var W=x.dataPointIds[D];this._eventManager.objectMap[W]={id:W,objectType:"dataPoint",dataSeriesIndex:C,dataPointIndex:D,x1:L,y1:F},k||B?(!k&&x.connectNullData?(l.setLineDash&&(x.options.nullDataLineDashType||v===x.lineDashType&&x.lineDashType!==x.nullDataLineDashType)&&(l.stroke(),l.beginPath(),l.moveTo(m.x,m.y),v=x.nullDataLineDashType,l.setLineDash(b)),l.lineTo(L,j),l.lineTo(L,F),Y&&(a.lineTo(L,j),a.lineTo(L,F))):(l.beginPath(),l.moveTo(L,F),Y&&(a.beginPath(),a.moveTo(L,F))),B=k=!1):(l.lineTo(L,j),Y&&a.lineTo(L,j),l.lineTo(L,F),Y&&a.lineTo(L,F),D%500==0&&(l.stroke(),l.beginPath(),l.moveTo(L,F),Y&&(a.stroke(),a.beginPath(),a.moveTo(L,F)))),m={x:L,y:F},D<g.length-1&&(P!==(g[D].lineColor||w)||v!==(g[D].lineDashType||x.lineDashType))&&(l.stroke(),l.beginPath(),l.moveTo(L,F),l.strokeStyle=P=g[D].lineColor||w,l.setLineDash&&(g[D].lineDashType?l.setLineDash($e(v=g[D].lineDashType,x.lineThickness)):(v=x.lineDashType,l.setLineDash(d)))),0!==g[D].markerSize&&(0<g[D].markerSize||0<x.markerSize)&&(j=x.getMarkerProperties(D,L,F,l),f.push(j),W=Xe(W),Y&&f.push({x:L,y:F,ctx:a,type:j.type,size:j.size,color:W,borderColor:W,borderThickness:j.borderThickness})),(g[D].indexLabel||x.indexLabel||g[D].indexLabelFormatter||x.indexLabelFormatter)&&this._indexLabels.push({chartType:"stepLine",dataPoint:g[D],dataSeries:x,point:{x:L,y:F},direction:0>g[D].y===r.axisY.reversed?1:-1,color:w})}l.stroke(),Y&&a.stroke()}}return Rt.drawMarkers(f),Y&&(u.drawImage(this._preRenderCanvas,0,0,this.width,this.height),l.globalCompositeOperation="source-atop",r.axisX.maskCanvas&&l.drawImage(r.axisX.maskCanvas,0,0,this.width,this.height),r.axisY.maskCanvas&&l.drawImage(r.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),l.clearRect(c.x1,c.y1,c.width,c.height),a.beginPath()),l.restore(),l.beginPath(),{source:u,dest:this.plotArea.ctx,animationCallback:we.xClipAnimation,easingFunction:we.easing.linear,animationBase:0}}},E.prototype.renderSpline=function(r){function u(W){if(0<(W=N(W,2)).length){a.beginPath(),Y&&c.beginPath(),a.moveTo(W[0].x,W[0].y),W[0].newStrokeStyle&&(a.strokeStyle=W[0].newStrokeStyle),W[0].newLineDashArray&&a.setLineDash(W[0].newLineDashArray),Y&&c.moveTo(W[0].x,W[0].y);for(var ie=0;ie<W.length-3;ie+=3)a.bezierCurveTo(W[ie+1].x,W[ie+1].y,W[ie+2].x,W[ie+2].y,W[ie+3].x,W[ie+3].y),Y&&c.bezierCurveTo(W[ie+1].x,W[ie+1].y,W[ie+2].x,W[ie+2].y,W[ie+3].x,W[ie+3].y),(0<ie&&ie%3e3==0||W[ie+3].newStrokeStyle||W[ie+3].newLineDashArray)&&(a.stroke(),a.beginPath(),a.moveTo(W[ie+3].x,W[ie+3].y),W[ie+3].newStrokeStyle&&(a.strokeStyle=W[ie+3].newStrokeStyle),W[ie+3].newLineDashArray&&a.setLineDash(W[ie+3].newLineDashArray),Y&&(c.stroke(),c.beginPath(),c.moveTo(W[ie+3].x,W[ie+3].y)));a.stroke(),Y&&c.stroke()}}var l=r.targetCanvasCtx||this.plotArea.ctx,a=Y?this._preRenderCtx:l;if(!(0>=r.dataSeriesIndexes.length)){var c=this._eventManager.ghostCtx;a.save();var f=this.plotArea;a.beginPath(),a.rect(f.x1,f.y1,f.width,f.height),a.clip();for(var m=[],M=0;M<r.dataSeriesIndexes.length;M++){var C=r.dataSeriesIndexes[M],x=this.data[C];a.lineWidth=x.lineThickness;var g=x.dataPoints,v="solid";if(a.setLineDash){var b=$e(x.nullDataLineDashType,x.lineThickness),d=$e(v=x.lineDashType,x.lineThickness);a.setLineDash(d)}this._eventManager.objectMap[w=x.id]={objectType:"dataSeries",dataSeriesIndex:C},w=Xe(w),c.strokeStyle=w,c.lineWidth=0<x.lineThickness?Math.max(x.lineThickness,4):0;var w=x._colorSet,P=w=x.lineColor=x.options.lineColor?x.options.lineColor:w[0];a.strokeStyle=w;var D,L,k=0,F=[];if(a.beginPath(),0<g.length)for(L=!1,k=0;k<g.length;k++)if(!((D=g[k].getTime?g[k].x.getTime():g[k].x)<r.axisX.dataInfo.viewPortMin||D>r.axisX.dataInfo.viewPortMax&&(!x.connectNullData||!L)))if("number"!=typeof g[k].y)0<k&&!L&&(x.connectNullData?a.setLineDash&&0<F.length&&(x.options.nullDataLineDashType||!g[k-1].lineDashType)&&(F[F.length-1].newLineDashArray=b,v=x.nullDataLineDashType):(u(F),F=[])),L=!0;else{D=r.axisX.convertValueToPixel(D),L=r.axisY.convertValueToPixel(g[k].y);var B=x.dataPointIds[k];if(this._eventManager.objectMap[B]={id:B,objectType:"dataPoint",dataSeriesIndex:C,dataPointIndex:k,x1:D,y1:L},F[F.length]={x:D,y:L},k<g.length-1&&(P!==(g[k].lineColor||w)||v!==(g[k].lineDashType||x.lineDashType))&&(F[F.length-1].newStrokeStyle=P=g[k].lineColor||w,a.setLineDash&&(g[k].lineDashType?F[F.length-1].newLineDashArray=$e(v=g[k].lineDashType,x.lineThickness):(v=x.lineDashType,F[F.length-1].newLineDashArray=d))),0!==g[k].markerSize&&(0<g[k].markerSize||0<x.markerSize)){var j=x.getMarkerProperties(k,D,L,a);m.push(j),B=Xe(B),Y&&m.push({x:D,y:L,ctx:c,type:j.type,size:j.size,color:B,borderColor:B,borderThickness:j.borderThickness})}(g[k].indexLabel||x.indexLabel||g[k].indexLabelFormatter||x.indexLabelFormatter)&&this._indexLabels.push({chartType:"spline",dataPoint:g[k],dataSeries:x,point:{x:D,y:L},direction:0>g[k].y===r.axisY.reversed?1:-1,color:w}),L=!1}u(F)}return Rt.drawMarkers(m),Y&&(l.drawImage(this._preRenderCanvas,0,0,this.width,this.height),a.globalCompositeOperation="source-atop",r.axisX.maskCanvas&&a.drawImage(r.axisX.maskCanvas,0,0,this.width,this.height),r.axisY.maskCanvas&&a.drawImage(r.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),a.clearRect(f.x1,f.y1,f.width,f.height),c.beginPath()),a.restore(),a.beginPath(),{source:l,dest:this.plotArea.ctx,animationCallback:we.xClipAnimation,easingFunction:we.easing.linear,animationBase:0}}},E.prototype.renderColumn=function(r){var u=r.targetCanvasCtx||this.plotArea.ctx,l=Y?this._preRenderCtx:u;if(!(0>=r.dataSeriesIndexes.length)){var f,m,M,a=null,c=this.plotArea,x=0,C=r.axisY.convertValueToPixel(r.axisY.logarithmic?r.axisY.viewportMinimum:0),g=(x=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:Math.min(.15*this.width,this.plotArea.width/r.plotType.totalDataSeries*.9)<<0),v=r.axisX.dataInfo.minDiff;for(isFinite(v)||(v=.3*Math.abs(r.axisX.range)),v=this.dataPointWidth=this.options.dataPointWidth?this.dataPointWidth:c.width*(r.axisX.logarithmic?Math.log(v)/Math.log(r.axisX.range):Math.abs(v)/Math.abs(r.axisX.range))/r.plotType.totalDataSeries*.9<<0,this.dataPointMaxWidth&&x>g&&(x=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,g)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&g<x&&(g=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,x)),v<x&&(v=x),v>g&&(v=g),l.save(),Y&&this._eventManager.ghostCtx.save(),l.beginPath(),l.rect(c.x1,c.y1,c.width,c.height),l.clip(),Y&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(c.x1,c.y1,c.width,c.height),this._eventManager.ghostCtx.clip()),g=0;g<r.dataSeriesIndexes.length;g++){var b=r.dataSeriesIndexes[g],d=this.data[b],w=d.dataPoints;if(0<w.length){var P=!!(5<v&&d.bevelEnabled);for(x=0;x<w.length;x++)if(!((M=w[x].getTime?w[x].x.getTime():w[x].x)<r.axisX.dataInfo.viewPortMin||M>r.axisX.dataInfo.viewPortMax)&&"number"==typeof w[x].y){f=r.axisX.convertValueToPixel(M),m=r.axisY.convertValueToPixel(w[x].y),f=r.axisX.reversed?f+r.plotType.totalDataSeries*v/2-(r.previousDataSeriesCount+g)*v<<0:f-r.plotType.totalDataSeries*v/2+(r.previousDataSeriesCount+g)*v<<0;var D,k=r.axisX.reversed?f-v<<0:f+v<<0;0<=w[x].y?D=C:(D=m,m=C),m>D&&(a=m,m=D,D=a),Qt(l,r.axisX.reversed?k:f,m,r.axisX.reversed?f:k,D,a=w[x].color?w[x].color:d._colorSet[x%d._colorSet.length],0,null,P&&(r.axisY.reversed?0>w[x].y:0<=w[x].y),(r.axisY.reversed?0<=w[x].y:0>w[x].y)&&P,!1,!1,d.fillOpacity),this._eventManager.objectMap[a=d.dataPointIds[x]]={id:a,objectType:"dataPoint",dataSeriesIndex:b,dataPointIndex:x,x1:f,y1:m,x2:k,y2:D},a=Xe(a),Y&&Qt(this._eventManager.ghostCtx,r.axisX.reversed?k:f,m,r.axisX.reversed?f:k,D,a,0,null,!1,!1,!1,!1),(w[x].indexLabel||d.indexLabel||w[x].indexLabelFormatter||d.indexLabelFormatter)&&this._indexLabels.push({chartType:"column",dataPoint:w[x],dataSeries:d,point:{x:f+(k-f)/2,y:0>w[x].y===r.axisY.reversed?m:D},direction:0>w[x].y===r.axisY.reversed?1:-1,bounds:{x1:f,y1:Math.min(m,D),x2:k,y2:Math.max(m,D)},color:a})}}}return Y&&(u.drawImage(this._preRenderCanvas,0,0,this.width,this.height),l.globalCompositeOperation="source-atop",r.axisX.maskCanvas&&l.drawImage(r.axisX.maskCanvas,0,0,this.width,this.height),r.axisY.maskCanvas&&l.drawImage(r.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),l.clearRect(c.x1,c.y1,c.width,c.height),this._eventManager.ghostCtx.restore()),l.restore(),{source:u,dest:this.plotArea.ctx,animationCallback:we.yScaleAnimation,easingFunction:we.easing.easeOutQuart,animationBase:C<r.axisY.bounds.y1?r.axisY.bounds.y1:C>r.axisY.bounds.y2?r.axisY.bounds.y2:C}}},E.prototype.renderStackedColumn=function(r){var u=r.targetCanvasCtx||this.plotArea.ctx,l=Y?this._preRenderCtx:u;if(!(0>=r.dataSeriesIndexes.length)){var x,g,a=null,c=this.plotArea,f=[],m=[],M=[],C=[],b=0,v=r.axisY.convertValueToPixel(r.axisY.logarithmic?r.axisY.viewportMinimum:0),d=(b=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:.15*this.width<<0),w=r.axisX.dataInfo.minDiff;for(isFinite(w)||(w=.3*Math.abs(r.axisX.range)),w=this.options.dataPointWidth?this.dataPointWidth:c.width*(r.axisX.logarithmic?Math.log(w)/Math.log(r.axisX.range):Math.abs(w)/Math.abs(r.axisX.range))/r.plotType.plotUnits.length*.9<<0,this.dataPointMaxWidth&&b>d&&(b=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,d)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&d<b&&(d=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,b)),w<b&&(w=b),w>d&&(w=d),l.save(),Y&&this._eventManager.ghostCtx.save(),l.beginPath(),l.rect(c.x1,c.y1,c.width,c.height),l.clip(),Y&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(c.x1,c.y1,c.width,c.height),this._eventManager.ghostCtx.clip()),d=0;d<r.dataSeriesIndexes.length;d++){var P=r.dataSeriesIndexes[d],k=this.data[P],D=k.dataPoints;if(0<D.length){var L=!!(5<w&&k.bevelEnabled);for(l.strokeStyle="#4572A7 ",b=0;b<D.length;b++)if(!((a=D[b].x.getTime?D[b].x.getTime():D[b].x)<r.axisX.dataInfo.viewPortMin||a>r.axisX.dataInfo.viewPortMax)&&"number"==typeof D[b].y){var B,F=(x=(x=r.axisX.convertValueToPixel(a))-r.plotType.plotUnits.length*w/2+r.index*w<<0)+w<<0;if(r.axisY.logarithmic||r.axisY.scaleBreaks&&0<r.axisY.scaleBreaks._appliedBreaks.length&&0<D[b].y)M[a]=D[b].y+(M[a]?M[a]:0),0<M[a]&&(g=r.axisY.convertValueToPixel(M[a]),B=typeof f[a]<"u"?f[a]:v,f[a]=g);else if(r.axisY.scaleBreaks&&0<r.axisY.scaleBreaks._appliedBreaks.length&&0>=D[b].y)C[a]=D[b].y+(C[a]?C[a]:0),B=r.axisY.convertValueToPixel(C[a]),g=typeof m[a]<"u"?m[a]:v,m[a]=B;else if(g=r.axisY.convertValueToPixel(D[b].y),0<=D[b].y){var j=typeof f[a]<"u"?f[a]:0;f[a]=j+((B=v-j)-(g-=j))}else m[a]=(j=m[a]?m[a]:0)+((B=g+j)-(g=v+j));Qt(l,x,r.axisY.reversed?B:g,F,r.axisY.reversed?g:B,a=D[b].color?D[b].color:k._colorSet[b%k._colorSet.length],0,null,L&&(r.axisY.reversed?0>D[b].y:0<=D[b].y),(r.axisY.reversed?0<=D[b].y:0>D[b].y)&&L,!1,!1,k.fillOpacity),this._eventManager.objectMap[a=k.dataPointIds[b]]={id:a,objectType:"dataPoint",dataSeriesIndex:P,dataPointIndex:b,x1:x,y1:g,x2:F,y2:B},a=Xe(a),Y&&Qt(this._eventManager.ghostCtx,x,g,F,B,a,0,null,!1,!1,!1,!1),(D[b].indexLabel||k.indexLabel||D[b].indexLabelFormatter||k.indexLabelFormatter)&&this._indexLabels.push({chartType:"stackedColumn",dataPoint:D[b],dataSeries:k,point:{x:x+(F-x)/2,y:0<=D[b].y?g:B},direction:0>D[b].y===r.axisY.reversed?1:-1,bounds:{x1:x,y1:Math.min(g,B),x2:F,y2:Math.max(g,B)},color:a})}}}return Y&&(u.drawImage(this._preRenderCanvas,0,0,this.width,this.height),l.globalCompositeOperation="source-atop",r.axisX.maskCanvas&&l.drawImage(r.axisX.maskCanvas,0,0,this.width,this.height),r.axisY.maskCanvas&&l.drawImage(r.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),l.clearRect(c.x1,c.y1,c.width,c.height),this._eventManager.ghostCtx.restore()),l.restore(),{source:u,dest:this.plotArea.ctx,animationCallback:we.yScaleAnimation,easingFunction:we.easing.easeOutQuart,animationBase:v<r.axisY.bounds.y1?r.axisY.bounds.y1:v>r.axisY.bounds.y2?r.axisY.bounds.y2:v}}},E.prototype.renderStackedColumn100=function(r){var u=r.targetCanvasCtx||this.plotArea.ctx,l=Y?this._preRenderCtx:u;if(!(0>=r.dataSeriesIndexes.length)){var x,g,a=null,c=this.plotArea,f=[],m=[],M=[],C=[],b=0,v=r.axisY.convertValueToPixel(r.axisY.logarithmic?r.axisY.viewportMinimum:0),d=(b=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:.15*this.width<<0),w=r.axisX.dataInfo.minDiff;for(isFinite(w)||(w=.3*Math.abs(r.axisX.range)),w=this.options.dataPointWidth?this.dataPointWidth:c.width*(r.axisX.logarithmic?Math.log(w)/Math.log(r.axisX.range):Math.abs(w)/Math.abs(r.axisX.range))/r.plotType.plotUnits.length*.9<<0,this.dataPointMaxWidth&&b>d&&(b=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,d)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&d<b&&(d=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,b)),w<b&&(w=b),w>d&&(w=d),l.save(),Y&&this._eventManager.ghostCtx.save(),l.beginPath(),l.rect(c.x1,c.y1,c.width,c.height),l.clip(),Y&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(c.x1,c.y1,c.width,c.height),this._eventManager.ghostCtx.clip()),d=0;d<r.dataSeriesIndexes.length;d++){var P=r.dataSeriesIndexes[d],k=this.data[P],D=k.dataPoints;if(0<D.length){var L=!!(5<w&&k.bevelEnabled);for(b=0;b<D.length;b++)if(!((a=D[b].x.getTime?D[b].x.getTime():D[b].x)<r.axisX.dataInfo.viewPortMin||a>r.axisX.dataInfo.viewPortMax)&&"number"==typeof D[b].y){x=r.axisX.convertValueToPixel(a),g=0!==r.dataPointYSums[a]?D[b].y/r.dataPointYSums[a]*100:0;var B,F=(x=x-r.plotType.plotUnits.length*w/2+r.index*w<<0)+w<<0;if(r.axisY.logarithmic||r.axisY.scaleBreaks&&0<r.axisY.scaleBreaks._appliedBreaks.length&&0<D[b].y){if(M[a]=g+(typeof M[a]<"u"?M[a]:0),0>=M[a])continue;g=r.axisY.convertValueToPixel(M[a]),B=f[a]?f[a]:v,f[a]=g}else if(r.axisY.scaleBreaks&&0<r.axisY.scaleBreaks._appliedBreaks.length&&0>=D[b].y)C[a]=g+(typeof C[a]<"u"?C[a]:0),B=r.axisY.convertValueToPixel(C[a]),g=m[a]?m[a]:v,m[a]=B;else if(g=r.axisY.convertValueToPixel(g),0<=D[b].y){var j=typeof f[a]<"u"?f[a]:0;g-=j,B=v-j,r.dataSeriesIndexes.length-1===d&&1>=Math.abs(c.y1-g)&&(g=c.y1),f[a]=j+(B-g)}else B=g+(j=typeof m[a]<"u"?m[a]:0),g=v+j,r.dataSeriesIndexes.length-1===d&&1>=Math.abs(c.y2-B)&&(B=c.y2),m[a]=j+(B-g);Qt(l,x,r.axisY.reversed?B:g,F,r.axisY.reversed?g:B,a=D[b].color?D[b].color:k._colorSet[b%k._colorSet.length],0,null,L&&(r.axisY.reversed?0>D[b].y:0<=D[b].y),(r.axisY.reversed?0<=D[b].y:0>D[b].y)&&L,!1,!1,k.fillOpacity),this._eventManager.objectMap[a=k.dataPointIds[b]]={id:a,objectType:"dataPoint",dataSeriesIndex:P,dataPointIndex:b,x1:x,y1:g,x2:F,y2:B},a=Xe(a),Y&&Qt(this._eventManager.ghostCtx,x,g,F,B,a,0,null,!1,!1,!1,!1),(D[b].indexLabel||k.indexLabel||D[b].indexLabelFormatter||k.indexLabelFormatter)&&this._indexLabels.push({chartType:"stackedColumn100",dataPoint:D[b],dataSeries:k,point:{x:x+(F-x)/2,y:0<=D[b].y?g:B},direction:0>D[b].y===r.axisY.reversed?1:-1,bounds:{x1:x,y1:Math.min(g,B),x2:F,y2:Math.max(g,B)},color:a})}}}return Y&&(u.drawImage(this._preRenderCanvas,0,0,this.width,this.height),l.globalCompositeOperation="source-atop",r.axisX.maskCanvas&&l.drawImage(r.axisX.maskCanvas,0,0,this.width,this.height),r.axisY.maskCanvas&&l.drawImage(r.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),l.clearRect(c.x1,c.y1,c.width,c.height),this._eventManager.ghostCtx.restore()),l.restore(),{source:u,dest:this.plotArea.ctx,animationCallback:we.yScaleAnimation,easingFunction:we.easing.easeOutQuart,animationBase:v<r.axisY.bounds.y1?r.axisY.bounds.y1:v>r.axisY.bounds.y2?r.axisY.bounds.y2:v}}},E.prototype.renderBar=function(r){var u=r.targetCanvasCtx||this.plotArea.ctx,l=Y?this._preRenderCtx:u;if(!(0>=r.dataSeriesIndexes.length)){var f,m,M,a=null,c=this.plotArea,x=0,C=r.axisY.convertValueToPixel(r.axisY.logarithmic?r.axisY.viewportMinimum:0),g=(x=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:Math.min(.15*this.height,this.plotArea.height/r.plotType.totalDataSeries*.9)<<0),v=r.axisX.dataInfo.minDiff;for(isFinite(v)||(v=.3*Math.abs(r.axisX.range)),v=this.options.dataPointWidth?this.dataPointWidth:c.height*(r.axisX.logarithmic?Math.log(v)/Math.log(r.axisX.range):Math.abs(v)/Math.abs(r.axisX.range))/r.plotType.totalDataSeries*.9<<0,this.dataPointMaxWidth&&x>g&&(x=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,g)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&g<x&&(g=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,x)),v<x&&(v=x),v>g&&(v=g),l.save(),Y&&this._eventManager.ghostCtx.save(),l.beginPath(),l.rect(c.x1,c.y1,c.width,c.height),l.clip(),Y&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(c.x1,c.y1,c.width,c.height),this._eventManager.ghostCtx.clip()),g=0;g<r.dataSeriesIndexes.length;g++){var b=r.dataSeriesIndexes[g],d=this.data[b],w=d.dataPoints;if(0<w.length){var P=!!(5<v&&d.bevelEnabled);for(l.strokeStyle="#4572A7 ",x=0;x<w.length;x++)if(!((M=w[x].getTime?w[x].x.getTime():w[x].x)<r.axisX.dataInfo.viewPortMin||M>r.axisX.dataInfo.viewPortMax)&&"number"==typeof w[x].y){m=r.axisX.convertValueToPixel(M),f=r.axisY.convertValueToPixel(w[x].y),m=r.axisX.reversed?m+r.plotType.totalDataSeries*v/2-(r.previousDataSeriesCount+g)*v<<0:m-r.plotType.totalDataSeries*v/2+(r.previousDataSeriesCount+g)*v<<0;var D,k=r.axisX.reversed?m-v<<0:m+v<<0;0<=w[x].y?D=C:(D=f,f=C),Qt(l,r.axisY.reversed?f:D,r.axisX.reversed?k:m,r.axisY.reversed?D:f,r.axisX.reversed?m:k,a=w[x].color?w[x].color:d._colorSet[x%d._colorSet.length],0,null,P,!1,!1,!1,d.fillOpacity),this._eventManager.objectMap[a=d.dataPointIds[x]]={id:a,objectType:"dataPoint",dataSeriesIndex:b,dataPointIndex:x,x1:D,y1:m,x2:f,y2:k},a=Xe(a),Y&&Qt(this._eventManager.ghostCtx,D,r.axisX.reversed?k:m,f,r.axisX.reversed?m:k,a,0,null,!1,!1,!1,!1),(w[x].indexLabel||d.indexLabel||w[x].indexLabelFormatter||d.indexLabelFormatter)&&this._indexLabels.push({chartType:"bar",dataPoint:w[x],dataSeries:d,point:{x:0<=w[x].y?f:D,y:m+(k-m)/2},direction:0>w[x].y===r.axisY.reversed?1:-1,bounds:{x1:Math.min(D,f),y1:m,x2:Math.max(D,f),y2:k},color:a})}}}return Y&&(u.drawImage(this._preRenderCanvas,0,0,this.width,this.height),l.globalCompositeOperation="source-atop",r.axisX.maskCanvas&&l.drawImage(r.axisX.maskCanvas,0,0,this.width,this.height),r.axisY.maskCanvas&&l.drawImage(r.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),l.clearRect(c.x1,c.y1,c.width,c.height),this._eventManager.ghostCtx.restore()),l.restore(),{source:u,dest:this.plotArea.ctx,animationCallback:we.xScaleAnimation,easingFunction:we.easing.easeOutQuart,animationBase:C<r.axisY.bounds.x1?r.axisY.bounds.x1:C>r.axisY.bounds.x2?r.axisY.bounds.x2:C}}},E.prototype.renderStackedBar=function(r){var u=r.targetCanvasCtx||this.plotArea.ctx,l=Y?this._preRenderCtx:u;if(!(0>=r.dataSeriesIndexes.length)){var x,g,a=null,c=this.plotArea,f=[],m=[],M=[],C=[],b=0,v=r.axisY.convertValueToPixel(r.axisY.logarithmic?r.axisY.viewportMinimum:0),d=(b=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:.15*this.height<<0),w=r.axisX.dataInfo.minDiff;for(isFinite(w)||(w=.3*Math.abs(r.axisX.range)),w=this.options.dataPointWidth?this.dataPointWidth:c.height*(r.axisX.logarithmic?Math.log(w)/Math.log(r.axisX.range):Math.abs(w)/Math.abs(r.axisX.range))/r.plotType.plotUnits.length*.9<<0,this.dataPointMaxWidth&&b>d&&(b=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,d)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&d<b&&(d=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,b)),w<b&&(w=b),w>d&&(w=d),l.save(),Y&&this._eventManager.ghostCtx.save(),l.beginPath(),l.rect(c.x1,c.y1,c.width,c.height),l.clip(),Y&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(c.x1,c.y1,c.width,c.height),this._eventManager.ghostCtx.clip()),d=0;d<r.dataSeriesIndexes.length;d++){var P=r.dataSeriesIndexes[d],k=this.data[P],D=k.dataPoints;if(0<D.length){var L=!!(5<w&&k.bevelEnabled);for(l.strokeStyle="#4572A7 ",b=0;b<D.length;b++)if(!((a=D[b].x.getTime?D[b].x.getTime():D[b].x)<r.axisX.dataInfo.viewPortMin||a>r.axisX.dataInfo.viewPortMax)&&"number"==typeof D[b].y){var B,F=(g=(g=r.axisX.convertValueToPixel(a))-r.plotType.plotUnits.length*w/2+r.index*w<<0)+w<<0;if(r.axisY.logarithmic||r.axisY.scaleBreaks&&0<r.axisY.scaleBreaks._appliedBreaks.length&&0<D[b].y)M[a]=D[b].y+(M[a]?M[a]:0),0<M[a]&&(B=f[a]?f[a]:v,f[a]=x=r.axisY.convertValueToPixel(M[a]));else if(r.axisY.scaleBreaks&&0<r.axisY.scaleBreaks._appliedBreaks.length&&0>=D[b].y)C[a]=D[b].y+(C[a]?C[a]:0),x=m[a]?m[a]:v,m[a]=B=r.axisY.convertValueToPixel(C[a]);else if(x=r.axisY.convertValueToPixel(D[b].y),0<=D[b].y){var j=f[a]?f[a]:0;f[a]=j+((x+=j)-(B=v+j))}else B=x-(j=m[a]?m[a]:0),m[a]=j+((x=v-j)-B);Qt(l,r.axisY.reversed?x:B,g,r.axisY.reversed?B:x,F,a=D[b].color?D[b].color:k._colorSet[b%k._colorSet.length],0,null,L,!1,!1,!1,k.fillOpacity),this._eventManager.objectMap[a=k.dataPointIds[b]]={id:a,objectType:"dataPoint",dataSeriesIndex:P,dataPointIndex:b,x1:B,y1:g,x2:x,y2:F},a=Xe(a),Y&&Qt(this._eventManager.ghostCtx,B,g,x,F,a,0,null,!1,!1,!1,!1),(D[b].indexLabel||k.indexLabel||D[b].indexLabelFormatter||k.indexLabelFormatter)&&this._indexLabels.push({chartType:"stackedBar",dataPoint:D[b],dataSeries:k,point:{x:0<=D[b].y?x:B,y:g+(F-g)/2},direction:0>D[b].y===r.axisY.reversed?1:-1,bounds:{x1:Math.min(B,x),y1:g,x2:Math.max(B,x),y2:F},color:a})}}}return Y&&(u.drawImage(this._preRenderCanvas,0,0,this.width,this.height),l.globalCompositeOperation="source-atop",r.axisX.maskCanvas&&l.drawImage(r.axisX.maskCanvas,0,0,this.width,this.height),r.axisY.maskCanvas&&l.drawImage(r.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),l.clearRect(c.x1,c.y1,c.width,c.height),this._eventManager.ghostCtx.restore()),l.restore(),{source:u,dest:this.plotArea.ctx,animationCallback:we.xScaleAnimation,easingFunction:we.easing.easeOutQuart,animationBase:v<r.axisY.bounds.x1?r.axisY.bounds.x1:v>r.axisY.bounds.x2?r.axisY.bounds.x2:v}}},E.prototype.renderStackedBar100=function(r){var u=r.targetCanvasCtx||this.plotArea.ctx,l=Y?this._preRenderCtx:u;if(!(0>=r.dataSeriesIndexes.length)){var x,g,a=null,c=this.plotArea,f=[],m=[],M=[],C=[],b=0,v=r.axisY.convertValueToPixel(r.axisY.logarithmic?r.axisY.viewportMinimum:0),d=(b=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:.15*this.height<<0),w=r.axisX.dataInfo.minDiff;for(isFinite(w)||(w=.3*Math.abs(r.axisX.range)),w=this.options.dataPointWidth?this.dataPointWidth:c.height*(r.axisX.logarithmic?Math.log(w)/Math.log(r.axisX.range):Math.abs(w)/Math.abs(r.axisX.range))/r.plotType.plotUnits.length*.9<<0,this.dataPointMaxWidth&&b>d&&(b=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,d)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&d<b&&(d=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,b)),w<b&&(w=b),w>d&&(w=d),l.save(),Y&&this._eventManager.ghostCtx.save(),l.beginPath(),l.rect(c.x1,c.y1,c.width,c.height),l.clip(),Y&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(c.x1,c.y1,c.width,c.height),this._eventManager.ghostCtx.clip()),d=0;d<r.dataSeriesIndexes.length;d++){var P=r.dataSeriesIndexes[d],k=this.data[P],D=k.dataPoints;if(0<D.length){var L=!!(5<w&&k.bevelEnabled);for(l.strokeStyle="#4572A7 ",b=0;b<D.length;b++)if(!((a=D[b].x.getTime?D[b].x.getTime():D[b].x)<r.axisX.dataInfo.viewPortMin||a>r.axisX.dataInfo.viewPortMax)&&"number"==typeof D[b].y){var F;g=r.axisX.convertValueToPixel(a),F=0!==r.dataPointYSums[a]?D[b].y/r.dataPointYSums[a]*100:0;var B=(g=g-r.plotType.plotUnits.length*w/2+r.index*w<<0)+w<<0;if(r.axisY.logarithmic||r.axisY.scaleBreaks&&0<r.axisY.scaleBreaks._appliedBreaks.length&&0<D[b].y){if(M[a]=F+(M[a]?M[a]:0),0>=M[a])continue;F=f[a]?f[a]:v,f[a]=x=r.axisY.convertValueToPixel(M[a])}else if(r.axisY.scaleBreaks&&0<r.axisY.scaleBreaks._appliedBreaks.length&&0>=D[b].y)C[a]=F+(C[a]?C[a]:0),x=m[a]?m[a]:v,m[a]=F=r.axisY.convertValueToPixel(C[a]);else if(x=r.axisY.convertValueToPixel(F),0<=D[b].y){var j=f[a]?f[a]:0;F=v+j,x+=j,r.dataSeriesIndexes.length-1===d&&1>=Math.abs(c.x2-x)&&(x=c.x2),f[a]=j+(x-F)}else F=x-(j=m[a]?m[a]:0),x=v-j,r.dataSeriesIndexes.length-1===d&&1>=Math.abs(c.x1-F)&&(F=c.x1),m[a]=j+(x-F);Qt(l,r.axisY.reversed?x:F,g,r.axisY.reversed?F:x,B,a=D[b].color?D[b].color:k._colorSet[b%k._colorSet.length],0,null,L,!1,!1,!1,k.fillOpacity),this._eventManager.objectMap[a=k.dataPointIds[b]]={id:a,objectType:"dataPoint",dataSeriesIndex:P,dataPointIndex:b,x1:F,y1:g,x2:x,y2:B},a=Xe(a),Y&&Qt(this._eventManager.ghostCtx,F,g,x,B,a,0,null,!1,!1,!1,!1),(D[b].indexLabel||k.indexLabel||D[b].indexLabelFormatter||k.indexLabelFormatter)&&this._indexLabels.push({chartType:"stackedBar100",dataPoint:D[b],dataSeries:k,point:{x:0<=D[b].y?x:F,y:g+(B-g)/2},direction:0>D[b].y===r.axisY.reversed?1:-1,bounds:{x1:Math.min(F,x),y1:g,x2:Math.max(F,x),y2:B},color:a})}}}return Y&&(u.drawImage(this._preRenderCanvas,0,0,this.width,this.height),l.globalCompositeOperation="source-atop",r.axisX.maskCanvas&&l.drawImage(r.axisX.maskCanvas,0,0,this.width,this.height),r.axisY.maskCanvas&&l.drawImage(r.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),l.clearRect(c.x1,c.y1,c.width,c.height),this._eventManager.ghostCtx.restore()),l.restore(),{source:u,dest:this.plotArea.ctx,animationCallback:we.xScaleAnimation,easingFunction:we.easing.easeOutQuart,animationBase:v<r.axisY.bounds.x1?r.axisY.bounds.x1:v>r.axisY.bounds.x2?r.axisY.bounds.x2:v}}},E.prototype.renderArea=function(r){var u,l;function a(){j&&(0<d.lineThickness&&f.stroke(),r.axisY.logarithmic||0>=r.axisY.viewportMinimum&&0<=r.axisY.viewportMaximum?B=F:0>r.axisY.viewportMaximum?B=M.y1:0<r.axisY.viewportMinimum&&(B=F),f.lineTo(k,B),f.lineTo(j.x,B),f.closePath(),f.globalAlpha=d.fillOpacity,f.fill(),f.globalAlpha=1,Y&&(m.lineTo(k,B),m.lineTo(j.x,B),m.closePath(),m.fill()),f.beginPath(),f.moveTo(k,D),m.beginPath(),m.moveTo(k,D),j={x:k,y:D})}var c=r.targetCanvasCtx||this.plotArea.ctx,f=Y?this._preRenderCtx:c;if(!(0>=r.dataSeriesIndexes.length)){var g,m=this._eventManager.ghostCtx,M=r.axisY.lineCoordinates,C=[],x=this.plotArea;f.save(),Y&&m.save(),f.beginPath(),f.rect(x.x1,x.y1,x.width,x.height),f.clip(),Y&&(m.beginPath(),m.rect(x.x1,x.y1,x.width,x.height),m.clip());for(var v=0;v<r.dataSeriesIndexes.length;v++){var b=r.dataSeriesIndexes[v],d=this.data[b],w=d.dataPoints;this._eventManager.objectMap[C=d.id]={objectType:"dataSeries",dataSeriesIndex:b},C=Xe(C),m.fillStyle=C,C=[],u=!0;var k,D,L,B,P=0,F=r.axisY.convertValueToPixel(r.axisY.logarithmic?r.axisY.viewportMinimum:0),j=null;if(0<w.length){var W=d._colorSet[P%d._colorSet.length],ie=d.lineColor=d.options.lineColor||W,le=ie;if(f.fillStyle=W,f.strokeStyle=ie,f.lineWidth=d.lineThickness,l="solid",f.setLineDash){var Q=$e(d.nullDataLineDashType,d.lineThickness),G=$e(l=d.lineDashType,d.lineThickness);f.setLineDash(G)}for(var K=!0;P<w.length;P++)if(!((L=w[P].x.getTime?w[P].x.getTime():w[P].x)<r.axisX.dataInfo.viewPortMin||L>r.axisX.dataInfo.viewPortMax&&(!d.connectNullData||!K)))if("number"!=typeof w[P].y)d.connectNullData||K||u||a(),K=!0;else{k=r.axisX.convertValueToPixel(L),D=r.axisY.convertValueToPixel(w[P].y),u||K?(!u&&d.connectNullData?(f.setLineDash&&(d.options.nullDataLineDashType||l===d.lineDashType&&d.lineDashType!==d.nullDataLineDashType)&&(u=k,l=D,k=g.x,D=g.y,a(),f.moveTo(g.x,g.y),k=u,D=l,j=g,l=d.nullDataLineDashType,f.setLineDash(Q)),f.lineTo(k,D),Y&&m.lineTo(k,D)):(f.beginPath(),f.moveTo(k,D),Y&&(m.beginPath(),m.moveTo(k,D)),j={x:k,y:D}),K=u=!1):(f.lineTo(k,D),Y&&m.lineTo(k,D),P%250==0&&a()),g={x:k,y:D},P<w.length-1&&(le!==(w[P].lineColor||ie)||l!==(w[P].lineDashType||d.lineDashType))&&(a(),f.strokeStyle=le=w[P].lineColor||ie,f.setLineDash&&(w[P].lineDashType?f.setLineDash($e(l=w[P].lineDashType,d.lineThickness)):(l=d.lineDashType,f.setLineDash(G))));var $=d.dataPointIds[P];this._eventManager.objectMap[$]={id:$,objectType:"dataPoint",dataSeriesIndex:b,dataPointIndex:P,x1:k,y1:D},0!==w[P].markerSize&&(0<w[P].markerSize||0<d.markerSize)&&(L=d.getMarkerProperties(P,k,D,f),C.push(L),$=Xe($),Y&&C.push({x:k,y:D,ctx:m,type:L.type,size:L.size,color:$,borderColor:$,borderThickness:L.borderThickness})),(w[P].indexLabel||d.indexLabel||w[P].indexLabelFormatter||d.indexLabelFormatter)&&this._indexLabels.push({chartType:"area",dataPoint:w[P],dataSeries:d,point:{x:k,y:D},direction:0>w[P].y===r.axisY.reversed?1:-1,color:W})}a(),Rt.drawMarkers(C)}}return Y&&(c.drawImage(this._preRenderCanvas,0,0,this.width,this.height),f.globalCompositeOperation="source-atop",r.axisX.maskCanvas&&f.drawImage(r.axisX.maskCanvas,0,0,this.width,this.height),r.axisY.maskCanvas&&f.drawImage(r.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),f.clearRect(x.x1,x.y1,x.width,x.height),this._eventManager.ghostCtx.restore()),f.restore(),{source:c,dest:this.plotArea.ctx,animationCallback:we.xClipAnimation,easingFunction:we.easing.linear,animationBase:0}}},E.prototype.renderSplineArea=function(r){function u(){var K=N(L,2);if(0<K.length){if(0<g.lineThickness){a.beginPath(),a.moveTo(K[0].x,K[0].y),K[0].newStrokeStyle&&(a.strokeStyle=K[0].newStrokeStyle),K[0].newLineDashArray&&a.setLineDash(K[0].newLineDashArray);for(var $=0;$<K.length-3;$+=3)a.bezierCurveTo(K[$+1].x,K[$+1].y,K[$+2].x,K[$+2].y,K[$+3].x,K[$+3].y),Y&&c.bezierCurveTo(K[$+1].x,K[$+1].y,K[$+2].x,K[$+2].y,K[$+3].x,K[$+3].y),(K[$+3].newStrokeStyle||K[$+3].newLineDashArray)&&(a.stroke(),a.beginPath(),a.moveTo(K[$+3].x,K[$+3].y),K[$+3].newStrokeStyle&&(a.strokeStyle=K[$+3].newStrokeStyle),K[$+3].newLineDashArray&&a.setLineDash(K[$+3].newLineDashArray));a.stroke()}for(a.beginPath(),a.moveTo(K[0].x,K[0].y),Y&&(c.beginPath(),c.moveTo(K[0].x,K[0].y)),$=0;$<K.length-3;$+=3)a.bezierCurveTo(K[$+1].x,K[$+1].y,K[$+2].x,K[$+2].y,K[$+3].x,K[$+3].y),Y&&c.bezierCurveTo(K[$+1].x,K[$+1].y,K[$+2].x,K[$+2].y,K[$+3].x,K[$+3].y);r.axisY.logarithmic||0>=r.axisY.viewportMinimum&&0<=r.axisY.viewportMaximum?k=P:0>r.axisY.viewportMaximum?k=f.y1:0<r.axisY.viewportMinimum&&(k=P),D={x:K[0].x,y:K[0].y},a.lineTo(K[K.length-1].x,k),a.lineTo(D.x,k),a.closePath(),a.globalAlpha=g.fillOpacity,a.fill(),a.globalAlpha=1,Y&&(c.lineTo(K[K.length-1].x,k),c.lineTo(D.x,k),c.closePath(),c.fill())}}var l=r.targetCanvasCtx||this.plotArea.ctx,a=Y?this._preRenderCtx:l;if(!(0>=r.dataSeriesIndexes.length)){var c=this._eventManager.ghostCtx,f=r.axisY.lineCoordinates,m=[],M=this.plotArea;a.save(),Y&&c.save(),a.beginPath(),a.rect(M.x1,M.y1,M.width,M.height),a.clip(),Y&&(c.beginPath(),c.rect(M.x1,M.y1,M.width,M.height),c.clip());for(var C=0;C<r.dataSeriesIndexes.length;C++){var x=r.dataSeriesIndexes[C],g=this.data[x],v=g.dataPoints;this._eventManager.objectMap[m=g.id]={objectType:"dataSeries",dataSeriesIndex:x},m=Xe(m),c.fillStyle=m,m=[];var d,w,k,b=0,P=r.axisY.convertValueToPixel(r.axisY.logarithmic?r.axisY.viewportMinimum:0),D=null,L=[];if(0<v.length){var F=g._colorSet[b%g._colorSet.length],B=g.lineColor=g.options.lineColor||F,j=B;a.fillStyle=F,a.strokeStyle=B,a.lineWidth=g.lineThickness;var W="solid";if(a.setLineDash){var ie=$e(g.nullDataLineDashType,g.lineThickness),le=$e(W=g.lineDashType,g.lineThickness);a.setLineDash(le)}for(w=!1;b<v.length;b++)if(!((d=v[b].x.getTime?v[b].x.getTime():v[b].x)<r.axisX.dataInfo.viewPortMin||d>r.axisX.dataInfo.viewPortMax&&(!g.connectNullData||!w)))if("number"!=typeof v[b].y)0<b&&!w&&(g.connectNullData?a.setLineDash&&0<L.length&&(g.options.nullDataLineDashType||!v[b-1].lineDashType)&&(L[L.length-1].newLineDashArray=ie,W=g.nullDataLineDashType):(u(),L=[])),w=!0;else{d=r.axisX.convertValueToPixel(d),w=r.axisY.convertValueToPixel(v[b].y);var Q=g.dataPointIds[b];if(this._eventManager.objectMap[Q]={id:Q,objectType:"dataPoint",dataSeriesIndex:x,dataPointIndex:b,x1:d,y1:w},L[L.length]={x:d,y:w},b<v.length-1&&(j!==(v[b].lineColor||B)||W!==(v[b].lineDashType||g.lineDashType))&&(L[L.length-1].newStrokeStyle=j=v[b].lineColor||B,a.setLineDash&&(v[b].lineDashType?L[L.length-1].newLineDashArray=$e(W=v[b].lineDashType,g.lineThickness):(W=g.lineDashType,L[L.length-1].newLineDashArray=le))),0!==v[b].markerSize&&(0<v[b].markerSize||0<g.markerSize)){var G=g.getMarkerProperties(b,d,w,a);m.push(G),Q=Xe(Q),Y&&m.push({x:d,y:w,ctx:c,type:G.type,size:G.size,color:Q,borderColor:Q,borderThickness:G.borderThickness})}(v[b].indexLabel||g.indexLabel||v[b].indexLabelFormatter||g.indexLabelFormatter)&&this._indexLabels.push({chartType:"splineArea",dataPoint:v[b],dataSeries:g,point:{x:d,y:w},direction:0>v[b].y===r.axisY.reversed?1:-1,color:F}),w=!1}u(),Rt.drawMarkers(m)}}return Y&&(l.drawImage(this._preRenderCanvas,0,0,this.width,this.height),a.globalCompositeOperation="source-atop",r.axisX.maskCanvas&&a.drawImage(r.axisX.maskCanvas,0,0,this.width,this.height),r.axisY.maskCanvas&&a.drawImage(r.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),a.clearRect(M.x1,M.y1,M.width,M.height),this._eventManager.ghostCtx.restore()),a.restore(),{source:l,dest:this.plotArea.ctx,animationCallback:we.xClipAnimation,easingFunction:we.easing.linear,animationBase:0}}},E.prototype.renderStepArea=function(r){var u,l;function a(){j&&(0<d.lineThickness&&f.stroke(),r.axisY.logarithmic||0>=r.axisY.viewportMinimum&&0<=r.axisY.viewportMaximum?B=F:0>r.axisY.viewportMaximum?B=M.y1:0<r.axisY.viewportMinimum&&(B=F),f.lineTo(k,B),f.lineTo(j.x,B),f.closePath(),f.globalAlpha=d.fillOpacity,f.fill(),f.globalAlpha=1,Y&&(m.lineTo(k,B),m.lineTo(j.x,B),m.closePath(),m.fill()),f.beginPath(),f.moveTo(k,D),m.beginPath(),m.moveTo(k,D),j={x:k,y:D})}var c=r.targetCanvasCtx||this.plotArea.ctx,f=Y?this._preRenderCtx:c;if(!(0>=r.dataSeriesIndexes.length)){var g,m=this._eventManager.ghostCtx,M=r.axisY.lineCoordinates,C=[],x=this.plotArea;f.save(),Y&&m.save(),f.beginPath(),f.rect(x.x1,x.y1,x.width,x.height),f.clip(),Y&&(m.beginPath(),m.rect(x.x1,x.y1,x.width,x.height),m.clip());for(var v=0;v<r.dataSeriesIndexes.length;v++){var b=r.dataSeriesIndexes[v],d=this.data[b],w=d.dataPoints;this._eventManager.objectMap[C=d.id]={objectType:"dataSeries",dataSeriesIndex:b},C=Xe(C),m.fillStyle=C,C=[],u=!0;var k,D,L,B,P=0,F=r.axisY.convertValueToPixel(r.axisY.logarithmic?r.axisY.viewportMinimum:0),j=null;if(l=!1,0<w.length){var W=d._colorSet[P%d._colorSet.length],ie=d.lineColor=d.options.lineColor||W,le=ie;f.fillStyle=W,f.strokeStyle=ie,f.lineWidth=d.lineThickness;var Q="solid";if(f.setLineDash){var G=$e(d.nullDataLineDashType,d.lineThickness),K=$e(Q=d.lineDashType,d.lineThickness);f.setLineDash(K)}for(;P<w.length;P++)if(!((L=w[P].x.getTime?w[P].x.getTime():w[P].x)<r.axisX.dataInfo.viewPortMin||L>r.axisX.dataInfo.viewPortMax&&(!d.connectNullData||!l))){var $=D;"number"!=typeof w[P].y?(d.connectNullData||l||u||a(),l=!0):(k=r.axisX.convertValueToPixel(L),D=r.axisY.convertValueToPixel(w[P].y),u||l?(!u&&d.connectNullData?(f.setLineDash&&(d.options.nullDataLineDashType||Q===d.lineDashType&&d.lineDashType!==d.nullDataLineDashType)&&(u=k,l=D,k=g.x,D=g.y,a(),f.moveTo(g.x,g.y),k=u,D=l,j=g,Q=d.nullDataLineDashType,f.setLineDash(G)),f.lineTo(k,$),f.lineTo(k,D),Y&&(m.lineTo(k,$),m.lineTo(k,D))):(f.beginPath(),f.moveTo(k,D),Y&&(m.beginPath(),m.moveTo(k,D)),j={x:k,y:D}),l=u=!1):(f.lineTo(k,$),Y&&m.lineTo(k,$),f.lineTo(k,D),Y&&m.lineTo(k,D),P%250==0&&a()),g={x:k,y:D},P<w.length-1&&(le!==(w[P].lineColor||ie)||Q!==(w[P].lineDashType||d.lineDashType))&&(a(),f.strokeStyle=le=w[P].lineColor||ie,f.setLineDash&&(w[P].lineDashType?f.setLineDash($e(Q=w[P].lineDashType,d.lineThickness)):(Q=d.lineDashType,f.setLineDash(K)))),this._eventManager.objectMap[L=d.dataPointIds[P]]={id:L,objectType:"dataPoint",dataSeriesIndex:b,dataPointIndex:P,x1:k,y1:D},0!==w[P].markerSize&&(0<w[P].markerSize||0<d.markerSize)&&($=d.getMarkerProperties(P,k,D,f),C.push($),L=Xe(L),Y&&C.push({x:k,y:D,ctx:m,type:$.type,size:$.size,color:L,borderColor:L,borderThickness:$.borderThickness})),(w[P].indexLabel||d.indexLabel||w[P].indexLabelFormatter||d.indexLabelFormatter)&&this._indexLabels.push({chartType:"stepArea",dataPoint:w[P],dataSeries:d,point:{x:k,y:D},direction:0>w[P].y===r.axisY.reversed?1:-1,color:W}))}a(),Rt.drawMarkers(C)}}return Y&&(c.drawImage(this._preRenderCanvas,0,0,this.width,this.height),f.globalCompositeOperation="source-atop",r.axisX.maskCanvas&&f.drawImage(r.axisX.maskCanvas,0,0,this.width,this.height),r.axisY.maskCanvas&&f.drawImage(r.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),f.clearRect(x.x1,x.y1,x.width,x.height),this._eventManager.ghostCtx.restore()),f.restore(),{source:c,dest:this.plotArea.ctx,animationCallback:we.xClipAnimation,easingFunction:we.easing.linear,animationBase:0}}},E.prototype.renderStackedArea=function(r){function u(){if(!(1>x.length)){for(0<W.lineThickness&&a.stroke();0<x.length;){var H=x.pop();a.lineTo(H.x,H.y),Y&&k.lineTo(H.x,H.y)}a.closePath(),a.globalAlpha=W.fillOpacity,a.fill(),a.globalAlpha=1,a.beginPath(),Y&&(k.closePath(),k.fill(),k.beginPath()),x=[]}}var l=r.targetCanvasCtx||this.plotArea.ctx,a=Y?this._preRenderCtx:l;if(!(0>=r.dataSeriesIndexes.length)){var d,w,D,L,F,c=null,f=null,m=[],M=this.plotArea,C=[],x=[],g=[],v=[],b=0,P=r.axisY.convertValueToPixel(r.axisY.logarithmic?r.axisY.viewportMinimum:0),k=this._eventManager.ghostCtx;Y&&k.beginPath(),a.save(),Y&&k.save(),a.beginPath(),a.rect(M.x1,M.y1,M.width,M.height),a.clip(),Y&&(k.beginPath(),k.rect(M.x1,M.y1,M.width,M.height),k.clip()),c=[];for(var B=0;B<r.dataSeriesIndexes.length;B++){var j=r.dataSeriesIndexes[B],W=this.data[j],ie=W.dataPoints;for(W.dataPointIndexes=[],b=0;b<ie.length;b++)j=ie[b].x.getTime?ie[b].x.getTime():ie[b].x,W.dataPointIndexes[j]=b,c[j]||(g.push(j),c[j]=!0);g.sort(as)}for(B=0;B<r.dataSeriesIndexes.length;B++){if(ie=(W=this.data[j=r.dataSeriesIndexes[B]]).dataPoints,L=!0,x=[],this._eventManager.objectMap[b=W.id]={objectType:"dataSeries",dataSeriesIndex:j},b=Xe(b),k.fillStyle=b,0<g.length){c=W._colorSet[0];var le=W.lineColor=W.options.lineColor||c,Q=le;if(a.fillStyle=c,a.strokeStyle=le,a.lineWidth=W.lineThickness,F="solid",a.setLineDash){var G=$e(W.nullDataLineDashType,W.lineThickness),K=$e(F=W.lineDashType,W.lineThickness);a.setLineDash(K)}var $=!0;for(b=0;b<g.length;b++){var z=0<=W.dataPointIndexes[f=g[b]]?ie[W.dataPointIndexes[f]]:{x:f,y:null};if(!(f<r.axisX.dataInfo.viewPortMin||f>r.axisX.dataInfo.viewPortMax&&(!W.connectNullData||!$)))if("number"!=typeof z.y)W.connectNullData||$||L||u(),$=!0;else{d=r.axisX.convertValueToPixel(f);var ne=C[f]?C[f]:0;if(r.axisY.logarithmic||r.axisY.scaleBreaks&&0<r.axisY.scaleBreaks._appliedBreaks.length){if(v[f]=z.y+(v[f]?v[f]:0),0>=v[f]&&r.axisY.logarithmic)continue;w=r.axisY.convertValueToPixel(v[f])}else w=r.axisY.convertValueToPixel(z.y),w-=ne;if(x.push({x:d,y:P-ne}),C[f]=P-w,L||$?(!L&&W.connectNullData?(a.setLineDash&&(W.options.nullDataLineDashType||F===W.lineDashType&&W.lineDashType!==W.nullDataLineDashType)&&(L=x.pop(),F=x[x.length-1],u(),a.moveTo(D.x,D.y),x.push(F),x.push(L),F=W.nullDataLineDashType,a.setLineDash(G)),a.lineTo(d,w),Y&&k.lineTo(d,w)):(a.beginPath(),a.moveTo(d,w),Y&&(k.beginPath(),k.moveTo(d,w))),$=L=!1):(a.lineTo(d,w),Y&&k.lineTo(d,w),b%250==0&&(u(),a.moveTo(d,w),Y&&k.moveTo(d,w),x.push({x:d,y:P-ne}))),D={x:d,y:w},b<ie.length-1&&(Q!==(ie[b].lineColor||le)||F!==(ie[b].lineDashType||W.lineDashType))&&(u(),a.beginPath(),a.moveTo(d,w),x.push({x:d,y:P-ne}),a.strokeStyle=Q=ie[b].lineColor||le,a.setLineDash&&(ie[b].lineDashType?a.setLineDash($e(F=ie[b].lineDashType,W.lineThickness)):(F=W.lineDashType,a.setLineDash(K)))),0<=W.dataPointIndexes[f]){var se=W.dataPointIds[W.dataPointIndexes[f]];this._eventManager.objectMap[se]={id:se,objectType:"dataPoint",dataSeriesIndex:j,dataPointIndex:W.dataPointIndexes[f],x1:d,y1:w}}0<=W.dataPointIndexes[f]&&0!==z.markerSize&&(0<z.markerSize||0<W.markerSize)&&(ne=W.getMarkerProperties(W.dataPointIndexes[f],d,w,a),m.push(ne),f=Xe(se),Y&&m.push({x:d,y:w,ctx:k,type:ne.type,size:ne.size,color:f,borderColor:f,borderThickness:ne.borderThickness})),(z.indexLabel||W.indexLabel||z.indexLabelFormatter||W.indexLabelFormatter)&&this._indexLabels.push({chartType:"stackedArea",dataPoint:z,dataSeries:W,point:{x:d,y:w},direction:0>ie[b].y===r.axisY.reversed?1:-1,color:c})}}u(),a.moveTo(d,w),Y&&k.moveTo(d,w)}delete W.dataPointIndexes}return Rt.drawMarkers(m),Y&&(l.drawImage(this._preRenderCanvas,0,0,this.width,this.height),a.globalCompositeOperation="source-atop",r.axisX.maskCanvas&&a.drawImage(r.axisX.maskCanvas,0,0,this.width,this.height),r.axisY.maskCanvas&&a.drawImage(r.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),a.clearRect(M.x1,M.y1,M.width,M.height),k.restore()),a.restore(),{source:l,dest:this.plotArea.ctx,animationCallback:we.xClipAnimation,easingFunction:we.easing.linear,animationBase:0}}},E.prototype.renderStackedArea100=function(r){function u(){for(0<W.lineThickness&&a.stroke();0<x.length;){var Ee=x.pop();a.lineTo(Ee.x,Ee.y),Y&&F.lineTo(Ee.x,Ee.y)}a.closePath(),a.globalAlpha=W.fillOpacity,a.fill(),a.globalAlpha=1,a.beginPath(),Y&&(F.closePath(),F.fill(),F.beginPath()),x=[]}var l=r.targetCanvasCtx||this.plotArea.ctx,a=Y?this._preRenderCtx:l;if(!(0>=r.dataSeriesIndexes.length)){var d,w,P,k,D,c=null,f=null,m=this.plotArea,M=[],C=[],x=[],g=[],v=[],b=0,L=r.axisY.convertValueToPixel(r.axisY.logarithmic?r.axisY.viewportMinimum:0),F=this._eventManager.ghostCtx;a.save(),Y&&F.save(),a.beginPath(),a.rect(m.x1,m.y1,m.width,m.height),a.clip(),Y&&(F.beginPath(),F.rect(m.x1,m.y1,m.width,m.height),F.clip()),c=[];for(var B=0;B<r.dataSeriesIndexes.length;B++){var j=r.dataSeriesIndexes[B],W=this.data[j],ie=W.dataPoints;for(W.dataPointIndexes=[],b=0;b<ie.length;b++)j=ie[b].x.getTime?ie[b].x.getTime():ie[b].x,W.dataPointIndexes[j]=b,c[j]||(g.push(j),c[j]=!0);g.sort(as)}for(B=0;B<r.dataSeriesIndexes.length;B++){if(ie=(W=this.data[j=r.dataSeriesIndexes[B]]).dataPoints,k=!0,this._eventManager.objectMap[c=W.id]={objectType:"dataSeries",dataSeriesIndex:j},c=Xe(c),F.fillStyle=c,x=[],0<g.length){c=W._colorSet[b%W._colorSet.length];var le=W.lineColor=W.options.lineColor||c,Q=le;if(a.fillStyle=c,a.strokeStyle=le,a.lineWidth=W.lineThickness,D="solid",a.setLineDash){var G=$e(W.nullDataLineDashType,W.lineThickness),K=$e(D=W.lineDashType,W.lineThickness);a.setLineDash(K)}var $=!0;for(b=0;b<g.length;b++){var z=0<=W.dataPointIndexes[f=g[b]]?ie[W.dataPointIndexes[f]]:{x:f,y:null};if(!(f<r.axisX.dataInfo.viewPortMin||f>r.axisX.dataInfo.viewPortMax&&(!W.connectNullData||!$)))if("number"!=typeof z.y)W.connectNullData||$||k||u(),$=!0;else{var ne;ne=0!==r.dataPointYSums[f]?z.y/r.dataPointYSums[f]*100:0,d=r.axisX.convertValueToPixel(f);var se=C[f]?C[f]:0;if(r.axisY.logarithmic||r.axisY.scaleBreaks&&0<r.axisY.scaleBreaks._appliedBreaks.length){if(v[f]=ne+(v[f]?v[f]:0),0>=v[f]&&r.axisY.logarithmic)continue;w=r.axisY.convertValueToPixel(v[f])}else w=r.axisY.convertValueToPixel(ne),w-=se;if(x.push({x:d,y:L-se}),C[f]=L-w,k||$?(!k&&W.connectNullData?(a.setLineDash&&(W.options.nullDataLineDashType||D===W.lineDashType&&W.lineDashType!==W.nullDataLineDashType)&&(k=x.pop(),D=x[x.length-1],u(),a.moveTo(P.x,P.y),x.push(D),x.push(k),D=W.nullDataLineDashType,a.setLineDash(G)),a.lineTo(d,w),Y&&F.lineTo(d,w)):(a.beginPath(),a.moveTo(d,w),Y&&(F.beginPath(),F.moveTo(d,w))),$=k=!1):(a.lineTo(d,w),Y&&F.lineTo(d,w),b%250==0&&(u(),a.moveTo(d,w),Y&&F.moveTo(d,w),x.push({x:d,y:L-se}))),P={x:d,y:w},b<ie.length-1&&(Q!==(ie[b].lineColor||le)||D!==(ie[b].lineDashType||W.lineDashType))&&(u(),a.beginPath(),a.moveTo(d,w),x.push({x:d,y:L-se}),a.strokeStyle=Q=ie[b].lineColor||le,a.setLineDash&&(ie[b].lineDashType?a.setLineDash($e(D=ie[b].lineDashType,W.lineThickness)):(D=W.lineDashType,a.setLineDash(K)))),0<=W.dataPointIndexes[f]){var H=W.dataPointIds[W.dataPointIndexes[f]];this._eventManager.objectMap[H]={id:H,objectType:"dataPoint",dataSeriesIndex:j,dataPointIndex:W.dataPointIndexes[f],x1:d,y1:w}}0<=W.dataPointIndexes[f]&&0!==z.markerSize&&(0<z.markerSize||0<W.markerSize)&&(se=W.getMarkerProperties(b,d,w,a),M.push(se),f=Xe(H),Y&&M.push({x:d,y:w,ctx:F,type:se.type,size:se.size,color:f,borderColor:f,borderThickness:se.borderThickness})),(z.indexLabel||W.indexLabel||z.indexLabelFormatter||W.indexLabelFormatter)&&this._indexLabels.push({chartType:"stackedArea100",dataPoint:z,dataSeries:W,point:{x:d,y:w},direction:0>ie[b].y===r.axisY.reversed?1:-1,color:c})}}u(),a.moveTo(d,w),Y&&F.moveTo(d,w)}delete W.dataPointIndexes}return Rt.drawMarkers(M),Y&&(l.drawImage(this._preRenderCanvas,0,0,this.width,this.height),a.globalCompositeOperation="source-atop",r.axisX.maskCanvas&&a.drawImage(r.axisX.maskCanvas,0,0,this.width,this.height),r.axisY.maskCanvas&&a.drawImage(r.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),a.clearRect(m.x1,m.y1,m.width,m.height),F.restore()),a.restore(),{source:l,dest:this.plotArea.ctx,animationCallback:we.xClipAnimation,easingFunction:we.easing.linear,animationBase:0}}},E.prototype.renderBubble=function(r){var u=r.targetCanvasCtx||this.plotArea.ctx,l=Y?this._preRenderCtx:u;if(!(0>=r.dataSeriesIndexes.length)){var f,m,a=this.plotArea,c=0;l.save(),Y&&this._eventManager.ghostCtx.save(),l.beginPath(),l.rect(a.x1,a.y1,a.width,a.height),l.clip(),Y&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(a.x1,a.y1,a.width,a.height),this._eventManager.ghostCtx.clip());for(var M=-1/0,C=1/0,x=0;x<r.dataSeriesIndexes.length;x++){var g=r.dataSeriesIndexes[x],v=this.data[g],b=v.dataPoints,d=0;for(c=0;c<b.length;c++)(f=f=b[c].getTime?b[c].x.getTime():b[c].x)<r.axisX.dataInfo.viewPortMin||f>r.axisX.dataInfo.viewPortMax||typeof b[c].z>"u"||((d=b[c].z)>M&&(M=d),d<C&&(C=d))}var w=25*Math.PI,P=Math.max(Math.pow(.25*Math.min(a.height,a.width)/2,2)*Math.PI,w);for(x=0;x<r.dataSeriesIndexes.length;x++)if(0<(b=(v=this.data[g=r.dataSeriesIndexes[x]]).dataPoints).length)for(l.strokeStyle="#4572A7 ",c=0;c<b.length;c++)if(!((f=f=b[c].getTime?b[c].x.getTime():b[c].x)<r.axisX.dataInfo.viewPortMin||f>r.axisX.dataInfo.viewPortMax)&&"number"==typeof b[c].y){f=r.axisX.convertValueToPixel(f),m=r.axisY.convertValueToPixel(b[c].y),d=b[c].z;var k=2*Math.max(Math.sqrt((M===C?P/2:w+(P-w)/(M-C)*(d-C))/Math.PI)<<0,1);(d=v.getMarkerProperties(c,l)).size=k,l.globalAlpha=v.fillOpacity,Rt.drawMarker(f,m,l,d.type,d.size,d.color,d.borderColor,d.borderThickness),l.globalAlpha=1;var D=v.dataPointIds[c];this._eventManager.objectMap[D]={id:D,objectType:"dataPoint",dataSeriesIndex:g,dataPointIndex:c,x1:f,y1:m,size:k},k=Xe(D),Y&&Rt.drawMarker(f,m,this._eventManager.ghostCtx,d.type,d.size,k,k,d.borderThickness),(b[c].indexLabel||v.indexLabel||b[c].indexLabelFormatter||v.indexLabelFormatter)&&this._indexLabels.push({chartType:"bubble",dataPoint:b[c],dataSeries:v,point:{x:f,y:m},direction:1,bounds:{x1:f-d.size/2,y1:m-d.size/2,x2:f+d.size/2,y2:m+d.size/2},color:null})}return Y&&(u.drawImage(this._preRenderCanvas,0,0,this.width,this.height),l.globalCompositeOperation="source-atop",r.axisX.maskCanvas&&l.drawImage(r.axisX.maskCanvas,0,0,this.width,this.height),r.axisY.maskCanvas&&l.drawImage(r.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),l.clearRect(a.x1,a.y1,a.width,a.height),this._eventManager.ghostCtx.restore()),l.restore(),{source:u,dest:this.plotArea.ctx,animationCallback:we.fadeInAnimation,easingFunction:we.easing.easeInQuad,animationBase:0}}},E.prototype.renderScatter=function(r){var u=r.targetCanvasCtx||this.plotArea.ctx,l=Y?this._preRenderCtx:u;if(!(0>=r.dataSeriesIndexes.length)){var f,m,a=this.plotArea,c=0;l.save(),Y&&this._eventManager.ghostCtx.save(),l.beginPath(),l.rect(a.x1,a.y1,a.width,a.height),l.clip(),Y&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(a.x1,a.y1,a.width,a.height),this._eventManager.ghostCtx.clip());for(var M=0;M<r.dataSeriesIndexes.length;M++){var C=r.dataSeriesIndexes[M],x=this.data[C],g=x.dataPoints;if(0<g.length){l.strokeStyle="#4572A7 ",Math.pow(.3*Math.min(a.height,a.width)/2,2);var v=0,b=0;for(c=0;c<g.length;c++)if(!((f=f=g[c].getTime?g[c].x.getTime():g[c].x)<r.axisX.dataInfo.viewPortMin||f>r.axisX.dataInfo.viewPortMax)&&"number"==typeof g[c].y){f=r.axisX.convertValueToPixel(f),m=r.axisY.convertValueToPixel(g[c].y);var d=x.getMarkerProperties(c,f,m,l);l.globalAlpha=x.fillOpacity,Rt.drawMarker(d.x,d.y,d.ctx,d.type,d.size,d.color,d.borderColor,d.borderThickness),l.globalAlpha=1,Math.sqrt((v-f)*(v-f)+(b-m)*(b-m))<Math.min(d.size,5)&&g.length>Math.min(this.plotArea.width,this.plotArea.height)||(this._eventManager.objectMap[v=x.dataPointIds[c]]={id:v,objectType:"dataPoint",dataSeriesIndex:C,dataPointIndex:c,x1:f,y1:m},v=Xe(v),Y&&Rt.drawMarker(d.x,d.y,this._eventManager.ghostCtx,d.type,d.size,v,v,d.borderThickness),(g[c].indexLabel||x.indexLabel||g[c].indexLabelFormatter||x.indexLabelFormatter)&&this._indexLabels.push({chartType:"scatter",dataPoint:g[c],dataSeries:x,point:{x:f,y:m},direction:1,bounds:{x1:f-d.size/2,y1:m-d.size/2,x2:f+d.size/2,y2:m+d.size/2},color:null}),v=f,b=m)}}}return Y&&(u.drawImage(this._preRenderCanvas,0,0,this.width,this.height),l.globalCompositeOperation="source-atop",r.axisX.maskCanvas&&l.drawImage(r.axisX.maskCanvas,0,0,this.width,this.height),r.axisY.maskCanvas&&l.drawImage(r.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),l.clearRect(a.x1,a.y1,a.width,a.height),this._eventManager.ghostCtx.restore()),l.restore(),{source:u,dest:this.plotArea.ctx,animationCallback:we.fadeInAnimation,easingFunction:we.easing.easeInQuad,animationBase:0}}},E.prototype.renderCandlestick=function(r){var u=r.targetCanvasCtx||this.plotArea.ctx,l=Y?this._preRenderCtx:u,a=this._eventManager.ghostCtx;if(!(0>=r.dataSeriesIndexes.length)){var m,M,C,x,g,v,b=null,d=null,c=this.plotArea,f=0,w=(b=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,d=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:.015*this.width,r.axisX.dataInfo.minDiff);isFinite(w)||(w=.3*Math.abs(r.axisX.range)),w=this.options.dataPointWidth?this.dataPointWidth:.7*c.width*(r.axisX.logarithmic?Math.log(w)/Math.log(r.axisX.range):Math.abs(w)/Math.abs(r.axisX.range))<<0,this.dataPointMaxWidth&&b>d&&(b=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,d)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&d<b&&(d=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,b)),w<b&&(w=b),w>d&&(w=d),l.save(),Y&&a.save(),l.beginPath(),l.rect(c.x1,c.y1,c.width,c.height),l.clip(),Y&&(a.beginPath(),a.rect(c.x1,c.y1,c.width,c.height),a.clip());for(var P=0;P<r.dataSeriesIndexes.length;P++){var k=r.dataSeriesIndexes[P],D=this.data[k],L=D.dataPoints;if(0<L.length){var F=!!(5<w&&D.bevelEnabled);for(f=0;f<L.length;f++)if(!((v=L[f].getTime?L[f].x.getTime():L[f].x)<r.axisX.dataInfo.viewPortMin||v>r.axisX.dataInfo.viewPortMax)&&!V(L[f].y)&&L[f].y.length&&"number"==typeof L[f].y[0]&&"number"==typeof L[f].y[1]&&"number"==typeof L[f].y[2]&&"number"==typeof L[f].y[3]){m=r.axisX.convertValueToPixel(v),M=r.axisY.convertValueToPixel(L[f].y[0]),C=r.axisY.convertValueToPixel(L[f].y[1]),x=r.axisY.convertValueToPixel(L[f].y[2]),g=r.axisY.convertValueToPixel(L[f].y[3]);var B=m-w/2<<0,j=B+w<<0,W=(d=D.options.fallingColor?D.fallingColor:D._colorSet[0],b=L[f].color?L[f].color:D._colorSet[0],Math.round(Math.max(1,.15*w))),ie=W%2==0?0:.5,le=D.dataPointIds[f];this._eventManager.objectMap[le]={id:le,objectType:"dataPoint",dataSeriesIndex:k,dataPointIndex:f,x1:B,y1:M,x2:j,y2:C,x3:m,y3:x,x4:m,y4:g,borderThickness:W,color:b},l.strokeStyle=b,l.beginPath(),l.lineWidth=W,a.lineWidth=Math.max(W,4),"candlestick"===D.type?(l.moveTo(m-ie,C),l.lineTo(m-ie,Math.min(M,g)),l.stroke(),l.moveTo(m-ie,Math.max(M,g)),l.lineTo(m-ie,x),l.stroke(),Qt(l,B,Math.min(M,g),j,Math.max(M,g),L[f].y[0]<=L[f].y[3]?D.risingColor:d,W,b,F,F,!1,!1,D.fillOpacity),Y&&(b=Xe(le),a.strokeStyle=b,a.moveTo(m-ie,C),a.lineTo(m-ie,Math.min(M,g)),a.stroke(),a.moveTo(m-ie,Math.max(M,g)),a.lineTo(m-ie,x),a.stroke(),Qt(a,B,Math.min(M,g),j,Math.max(M,g),b,0,null,!1,!1,!1,!1))):"ohlc"===D.type&&(l.moveTo(m-ie,C),l.lineTo(m-ie,x),l.stroke(),l.beginPath(),l.moveTo(m,M),l.lineTo(B,M),l.stroke(),l.beginPath(),l.moveTo(m,g),l.lineTo(j,g),l.stroke(),Y&&(b=Xe(le),a.strokeStyle=b,a.moveTo(m-ie,C),a.lineTo(m-ie,x),a.stroke(),a.beginPath(),a.moveTo(m,M),a.lineTo(B,M),a.stroke(),a.beginPath(),a.moveTo(m,g),a.lineTo(j,g),a.stroke())),(L[f].indexLabel||D.indexLabel||L[f].indexLabelFormatter||D.indexLabelFormatter)&&this._indexLabels.push({chartType:D.type,dataPoint:L[f],dataSeries:D,point:{x:B+(j-B)/2,y:r.axisY.reversed?x:C},direction:1,bounds:{x1:B,y1:Math.min(C,x),x2:j,y2:Math.max(C,x)},color:b})}}}return Y&&(u.drawImage(this._preRenderCanvas,0,0,this.width,this.height),l.globalCompositeOperation="source-atop",r.axisX.maskCanvas&&l.drawImage(r.axisX.maskCanvas,0,0,this.width,this.height),r.axisY.maskCanvas&&l.drawImage(r.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),l.clearRect(c.x1,c.y1,c.width,c.height),a.restore()),l.restore(),{source:u,dest:this.plotArea.ctx,animationCallback:we.fadeInAnimation,easingFunction:we.easing.easeInQuad,animationBase:0}}},E.prototype.renderBoxAndWhisker=function(r){var u=r.targetCanvasCtx||this.plotArea.ctx,l=Y?this._preRenderCtx:u,a=this._eventManager.ghostCtx;if(!(0>=r.dataSeriesIndexes.length)){var f,m,M,C,x,g,v,b=null,c=this.plotArea,d=0,w=(b=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,d=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:.015*this.width,r.axisX.dataInfo.minDiff);isFinite(w)||(w=.3*Math.abs(r.axisX.range)),w=this.options.dataPointWidth?this.dataPointWidth:.7*c.width*(r.axisX.logarithmic?Math.log(w)/Math.log(r.axisX.range):Math.abs(w)/Math.abs(r.axisX.range))<<0,this.dataPointMaxWidth&&b>d&&(b=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,d)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&d<b&&(d=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,b)),w<b&&(w=b),w>d&&(w=d),l.save(),Y&&a.save(),l.beginPath(),l.rect(c.x1,c.y1,c.width,c.height),l.clip(),Y&&(a.beginPath(),a.rect(c.x1,c.y1,c.width,c.height),a.clip());for(var P=!!r.axisY.reversed,k=0;k<r.dataSeriesIndexes.length;k++){var D=r.dataSeriesIndexes[k],L=this.data[D],F=L.dataPoints;if(0<F.length){var B=!!(5<w&&L.bevelEnabled);for(d=0;d<F.length;d++)if(!((v=F[d].getTime?F[d].x.getTime():F[d].x)<r.axisX.dataInfo.viewPortMin||v>r.axisX.dataInfo.viewPortMax)&&!V(F[d].y)&&F[d].y.length&&"number"==typeof F[d].y[0]&&"number"==typeof F[d].y[1]&&"number"==typeof F[d].y[2]&&"number"==typeof F[d].y[3]&&"number"==typeof F[d].y[4]&&5===F[d].y.length){f=r.axisX.convertValueToPixel(v),m=r.axisY.convertValueToPixel(F[d].y[0]),M=r.axisY.convertValueToPixel(F[d].y[1]),C=r.axisY.convertValueToPixel(F[d].y[2]),x=r.axisY.convertValueToPixel(F[d].y[3]),g=r.axisY.convertValueToPixel(F[d].y[4]);var j=f-w/2<<0,W=f+w/2<<0,ie=(b=F[d].color?F[d].color:L._colorSet[0],Math.round(Math.max(1,.15*w))),le=ie%2==0?0:.5,Q=F[d].whiskerColor?F[d].whiskerColor:F[d].color?L.whiskerColor?L.whiskerColor:F[d].color:L.whiskerColor?L.whiskerColor:b,G="number"==typeof F[d].whiskerThickness?F[d].whiskerThickness:"number"==typeof L.options.whiskerThickness?L.whiskerThickness:ie,K=F[d].whiskerDashType?F[d].whiskerDashType:L.whiskerDashType,$="number"==typeof($=V(F[d].whiskerLength)?V(L.options.whiskerLength)?w:L.whiskerLength:F[d].whiskerLength)?0>=$?0:$>=w?w:$:"string"==typeof $?parseInt($)*w/100>w?w:parseInt($)*w/100:w,z=Math.round(G)%2==1?.5:0,ne=F[d].stemColor?F[d].stemColor:F[d].color?L.stemColor?L.stemColor:F[d].color:L.stemColor?L.stemColor:b,se="number"==typeof F[d].stemThickness?F[d].stemThickness:"number"==typeof L.options.stemThickness?L.stemThickness:ie,H=Math.round(se)%2==1?.5:0,Ee=F[d].stemDashType?F[d].stemDashType:L.stemDashType,tt=F[d].lineColor?F[d].lineColor:F[d].color?L.lineColor?L.lineColor:F[d].color:L.lineColor?L.lineColor:b,_t="number"==typeof F[d].lineThickness?F[d].lineThickness:"number"==typeof L.options.lineThickness?L.lineThickness:ie,ft=F[d].lineDashType?F[d].lineDashType:L.lineDashType,de=Math.round(_t)%2==1?.5:0,Wt=L.upperBoxColor,at=L.lowerBoxColor,ht=V(L.options.fillOpacity)?1:L.fillOpacity,De=L.dataPointIds[d];this._eventManager.objectMap[De]={id:De,objectType:"dataPoint",dataSeriesIndex:D,dataPointIndex:d,x1:j,y1:m,x2:W,y2:M,x3:f,y3:C,x4:f,y4:x,y5:g,borderThickness:ie,color:b,stemThickness:se,stemColor:ne,whiskerThickness:G,whiskerLength:$,whiskerColor:Q,lineThickness:_t,lineColor:tt},l.save(),0<se&&(l.beginPath(),l.strokeStyle=ne,l.lineWidth=se,l.setLineDash&&l.setLineDash($e(Ee,se)),l.moveTo(f-H,M),l.lineTo(f-H,m),l.stroke(),l.moveTo(f-H,x),l.lineTo(f-H,C),l.stroke()),l.restore(),a.lineWidth=Math.max(ie,4),l.beginPath(),Qt(l,j,Math.min(g,M),W,Math.max(M,g),at,0,b,!!P&&B,!P&&B,!1,!1,ht),l.beginPath(),Qt(l,j,Math.min(C,g),W,Math.max(g,C),Wt,0,b,!P&&B,!!P&&B,!1,!1,ht),l.beginPath(),l.lineWidth=ie,l.strokeStyle=b,l.rect(j-le,Math.min(M,C)-le,W-j+2*le,Math.max(M,C)-Math.min(M,C)+2*le),l.stroke(),l.save(),0<_t&&(l.beginPath(),l.globalAlpha=1,l.setLineDash&&l.setLineDash($e(ft,_t)),l.strokeStyle=tt,l.lineWidth=_t,l.moveTo(j,g-de),l.lineTo(W,g-de),l.stroke()),l.restore(),l.save(),0<G&&(l.beginPath(),l.setLineDash&&l.setLineDash($e(K,G)),l.strokeStyle=Q,l.lineWidth=G,l.moveTo(f-$/2<<0,x-z),l.lineTo(f+$/2<<0,x-z),l.stroke(),l.moveTo(f-$/2<<0,m+z),l.lineTo(f+$/2<<0,m+z),l.stroke()),l.restore(),Y&&(b=Xe(De),a.strokeStyle=b,a.lineWidth=se,0<se&&(a.moveTo(f-le-H,M),a.lineTo(f-le-H,Math.max(m,x)),a.stroke(),a.moveTo(f-le-H,Math.min(m,x)),a.lineTo(f-le-H,C),a.stroke()),Qt(a,j,Math.max(M,C),W,Math.min(M,C),b,0,null,!1,!1,!1,!1),0<G&&(a.beginPath(),a.lineWidth=G,a.moveTo(f+$/2,x-z),a.lineTo(f-$/2,x-z),a.stroke(),a.moveTo(f+$/2,m+z),a.lineTo(f-$/2,m+z),a.stroke())),(F[d].indexLabel||L.indexLabel||F[d].indexLabelFormatter||L.indexLabelFormatter)&&this._indexLabels.push({chartType:L.type,dataPoint:F[d],dataSeries:L,point:{x:j+(W-j)/2,y:r.axisY.reversed?m:x},direction:1,bounds:{x1:j,y1:Math.min(m,x),x2:W,y2:Math.max(m,x)},color:b})}}}return Y&&(u.drawImage(this._preRenderCanvas,0,0,this.width,this.height),l.globalCompositeOperation="source-atop",r.axisX.maskCanvas&&l.drawImage(r.axisX.maskCanvas,0,0,this.width,this.height),r.axisY.maskCanvas&&l.drawImage(r.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),l.clearRect(c.x1,c.y1,c.width,c.height),a.restore()),l.restore(),{source:u,dest:this.plotArea.ctx,animationCallback:we.fadeInAnimation,easingFunction:we.easing.easeInQuad,animationBase:0}}},E.prototype.renderRangeColumn=function(r){var u=r.targetCanvasCtx||this.plotArea.ctx,l=Y?this._preRenderCtx:u;if(!(0>=r.dataSeriesIndexes.length)){var f,m,M,a=null,c=this.plotArea,C=0;C=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,f=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:.03*this.width;var x=r.axisX.dataInfo.minDiff;isFinite(x)||(x=.3*Math.abs(r.axisX.range)),x=this.options.dataPointWidth?this.dataPointWidth:c.width*(r.axisX.logarithmic?Math.log(x)/Math.log(r.axisX.range):Math.abs(x)/Math.abs(r.axisX.range))/r.plotType.totalDataSeries*.9<<0,this.dataPointMaxWidth&&C>f&&(C=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,f)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&f<C&&(f=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,C)),x<C&&(x=C),x>f&&(x=f),l.save(),Y&&this._eventManager.ghostCtx.save(),l.beginPath(),l.rect(c.x1,c.y1,c.width,c.height),l.clip(),Y&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(c.x1,c.y1,c.width,c.height),this._eventManager.ghostCtx.clip());for(var g=0;g<r.dataSeriesIndexes.length;g++){var v=r.dataSeriesIndexes[g],b=this.data[v],d=b.dataPoints;if(0<d.length){var w=!!(5<x&&b.bevelEnabled);for(C=0;C<d.length;C++)if(!((M=d[C].getTime?d[C].x.getTime():d[C].x)<r.axisX.dataInfo.viewPortMin||M>r.axisX.dataInfo.viewPortMax)&&!V(d[C].y)&&d[C].y.length&&"number"==typeof d[C].y[0]&&"number"==typeof d[C].y[1]){a=r.axisX.convertValueToPixel(M),f=r.axisY.convertValueToPixel(d[C].y[0]),m=r.axisY.convertValueToPixel(d[C].y[1]);var P=r.axisX.reversed?a+r.plotType.totalDataSeries*x/2-(r.previousDataSeriesCount+g)*x<<0:a-r.plotType.totalDataSeries*x/2+(r.previousDataSeriesCount+g)*x<<0,k=r.axisX.reversed?P-x<<0:P+x<<0;if(a=d[C].color?d[C].color:b._colorSet[C%b._colorSet.length],f>m){var D=f;f=m,m=D}this._eventManager.objectMap[D=b.dataPointIds[C]]={id:D,objectType:"dataPoint",dataSeriesIndex:v,dataPointIndex:C,x1:P,y1:f,x2:k,y2:m},Qt(l,r.axisX.reversed?k:P,f,r.axisX.reversed?P:k,m,a,0,a,w,w,!1,!1,b.fillOpacity),a=Xe(D),Y&&Qt(this._eventManager.ghostCtx,r.axisX.reversed?k:P,f,r.axisX.reversed?P:k,m,a,0,null,!1,!1,!1,!1),(d[C].indexLabel||b.indexLabel||d[C].indexLabelFormatter||b.indexLabelFormatter)&&(this._indexLabels.push({chartType:"rangeColumn",dataPoint:d[C],dataSeries:b,indexKeyword:0,point:{x:P+(k-P)/2,y:d[C].y[1]>=d[C].y[0]?m:f},direction:d[C].y[1]>=d[C].y[0]?-1:1,bounds:{x1:P,y1:Math.min(f,m),x2:k,y2:Math.max(f,m)},color:a}),this._indexLabels.push({chartType:"rangeColumn",dataPoint:d[C],dataSeries:b,indexKeyword:1,point:{x:P+(k-P)/2,y:d[C].y[1]>=d[C].y[0]?f:m},direction:d[C].y[1]>=d[C].y[0]?1:-1,bounds:{x1:P,y1:Math.min(f,m),x2:k,y2:Math.max(f,m)},color:a}))}}}return Y&&(u.drawImage(this._preRenderCanvas,0,0,this.width,this.height),l.globalCompositeOperation="source-atop",r.axisX.maskCanvas&&l.drawImage(r.axisX.maskCanvas,0,0,this.width,this.height),r.axisY.maskCanvas&&l.drawImage(r.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),l.clearRect(c.x1,c.y1,c.width,c.height),this._eventManager.ghostCtx.restore()),l.restore(),{source:u,dest:this.plotArea.ctx,animationCallback:we.fadeInAnimation,easingFunction:we.easing.easeInQuad,animationBase:0}}},E.prototype.renderError=function(r){var u=r.targetCanvasCtx||this.plotArea.ctx,l=Y?this._preRenderCtx:u,a=!!r.axisY._position&&!("left"===r.axisY._position||"right"===r.axisY._position);if(!(0>=r.dataSeriesIndexes.length)){var C,x,g,v,b,d,w,c=null,f=!1,m=this.plotArea,M=0,P=r.axisX.dataInfo.minDiff;isFinite(P)||(P=.3*Math.abs(r.axisX.range)),l.save(),Y&&this._eventManager.ghostCtx.save(),l.beginPath(),l.rect(m.x1,m.y1,m.width,m.height),l.clip(),Y&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(m.x1,m.y1,m.width,m.height),this._eventManager.ghostCtx.clip());for(var k=0,D=0;D<this.data.length;D++)!this.data[D].type.match(/(bar|column)/gi)||!this.data[D].visible||this.data[D].type.match(/(stacked)/gi)&&k||k++;for(var L=0;L<r.dataSeriesIndexes.length;L++){var F=r.dataSeriesIndexes[L],B=this.data[F],j=B.dataPoints,W=!V(B._linkedSeries)&&!(!B._linkedSeries.type.match(/(bar|column)/gi)||!B._linkedSeries.visible),ie=0;if(W)for(c=B._linkedSeries.id,D=0;D<c;D++)!this.data[D].type.match(/(bar|column)/gi)||!this.data[D].visible||this.data[D].type.match(/(stacked)/gi)&&ie||(this.data[D].type.match(/(range)/gi)&&(f=!0),ie++);if(c=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,M=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:a?Math.min(.15*this.height,this.plotArea.height/(W?k:1)*.9)<<0:.3*this.width,f&&(M=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:a?Math.min(.15*this.height,this.plotArea.height/(W?k:1)*.9)<<0:.03*this.width),D=this.options.dataPointWidth?this.dataPointWidth:(a?m.height:m.width)*(r.axisX.logarithmic?Math.log(P)/Math.log(r.axisX.range):Math.abs(P)/Math.abs(r.axisX.range))/(W?k:1)*.9<<0,this.dataPointMaxWidth&&c>M&&(c=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,M)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&M<c&&(M=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,c)),D<c&&(D=c),D>M&&(D=M),0<j.length){var le=B._colorSet;for(M=0;M<j.length;M++){c=B.lineColor=B.options.color?B.options.color:le[0];var Q={color:j[M].whiskerColor?j[M].whiskerColor:j[M].color?B.whiskerColor?B.whiskerColor:j[M].color:B.whiskerColor?B.whiskerColor:c,thickness:V(j[M].whiskerThickness)?B.whiskerThickness:j[M].whiskerThickness,dashType:j[M].whiskerDashType?j[M].whiskerDashType:B.whiskerDashType,length:V(j[M].whiskerLength)?V(B.options.whiskerLength)?D:B.options.whiskerLength:j[M].whiskerLength,trimLength:V(j[M].whiskerLength)&&V(B.options.whiskerLength)?50:0};Q.length="number"==typeof Q.length?0>=Q.length?0:Q.length>=D?D:Q.length:"string"==typeof Q.length?parseInt(Q.length)*D/100>D?D:parseInt(Q.length)*D/100>D:D,Q.thickness="number"==typeof Q.thickness?0>Q.thickness?0:Math.round(Q.thickness):2;var G={color:j[M].stemColor?j[M].stemColor:j[M].color?B.stemColor?B.stemColor:j[M].color:B.stemColor?B.stemColor:c,thickness:j[M].stemThickness?j[M].stemThickness:B.stemThickness,dashType:j[M].stemDashType?j[M].stemDashType:B.stemDashType};if(G.thickness="number"==typeof G.thickness?0>G.thickness?0:Math.round(G.thickness):2,!((w=j[M].getTime?j[M].x.getTime():j[M].x)<r.axisX.dataInfo.viewPortMin||w>r.axisX.dataInfo.viewPortMax)&&!V(j[M].y)&&j[M].y.length&&"number"==typeof j[M].y[0]&&"number"==typeof j[M].y[1]){var K=r.axisX.convertValueToPixel(w);a?x=K:C=K,K=r.axisY.convertValueToPixel(j[M].y[0]),a?g=K:b=K,K=r.axisY.convertValueToPixel(j[M].y[1]),a?v=K:d=K,a?(b=r.axisX.reversed?x+(W?k:1)*D/2-(W?ie-1:0)*D<<0:x-(W?k:1)*D/2+(W?ie-1:0)*D<<0,d=r.axisX.reversed?b-D<<0:b+D<<0):(g=r.axisX.reversed?C+(W?k:1)*D/2-(W?ie-1:0)*D<<0:C-(W?k:1)*D/2+(W?ie-1:0)*D<<0,v=r.axisX.reversed?g-D<<0:g+D<<0),!a&&b>d&&(K=b,b=d,d=K),a&&g>v&&(K=g,g=v,v=K),this._eventManager.objectMap[K=B.dataPointIds[M]]={id:K,objectType:"dataPoint",dataSeriesIndex:F,dataPointIndex:M,x1:Math.min(g,v),y1:Math.min(b,d),x2:Math.max(v,g),y2:Math.max(d,b),isXYSwapped:a,stemProperties:G,whiskerProperties:Q},te(l,Math.min(g,v),Math.min(b,d),Math.max(v,g),Math.max(d,b),c,Q,G,a),Y&&te(this._eventManager.ghostCtx,g,b,v,d,c,Q,G,a),(j[M].indexLabel||B.indexLabel||j[M].indexLabelFormatter||B.indexLabelFormatter)&&(this._indexLabels.push({chartType:"error",dataPoint:j[M],dataSeries:B,indexKeyword:0,point:{x:a?j[M].y[1]>=j[M].y[0]?g:v:g+(v-g)/2,y:a?b+(d-b)/2:j[M].y[1]>=j[M].y[0]?d:b},direction:j[M].y[1]>=j[M].y[0]?-1:1,bounds:{x1:a?Math.min(g,v):g,y1:a?b:Math.min(b,d),x2:a?Math.max(g,v):v,y2:a?d:Math.max(b,d)},color:c,axisSwapped:a}),this._indexLabels.push({chartType:"error",dataPoint:j[M],dataSeries:B,indexKeyword:1,point:{x:a?j[M].y[1]>=j[M].y[0]?v:g:g+(v-g)/2,y:a?b+(d-b)/2:j[M].y[1]>=j[M].y[0]?b:d},direction:j[M].y[1]>=j[M].y[0]?1:-1,bounds:{x1:a?Math.min(g,v):g,y1:a?b:Math.min(b,d),x2:a?Math.max(g,v):v,y2:a?d:Math.max(b,d)},color:c,axisSwapped:a}))}}}}return Y&&(u.drawImage(this._preRenderCanvas,0,0,this.width,this.height),l.globalCompositeOperation="source-atop",r.axisX.maskCanvas&&l.drawImage(r.axisX.maskCanvas,0,0,this.width,this.height),r.axisY.maskCanvas&&l.drawImage(r.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),l.clearRect(m.x1,m.y1,m.width,m.height),this._eventManager.ghostCtx.restore()),l.restore(),{source:u,dest:this.plotArea.ctx,animationCallback:we.fadeInAnimation,easingFunction:we.easing.easeInQuad,animationBase:0}}},E.prototype.renderRangeBar=function(r){var u=r.targetCanvasCtx||this.plotArea.ctx,l=Y?this._preRenderCtx:u;if(!(0>=r.dataSeriesIndexes.length)){var f,m,M,C,a=null,c=this.plotArea,x=0;x=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,f=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:Math.min(.15*this.height,this.plotArea.height/r.plotType.totalDataSeries*.9)<<0;var g=r.axisX.dataInfo.minDiff;isFinite(g)||(g=.3*Math.abs(r.axisX.range)),g=this.options.dataPointWidth?this.dataPointWidth:c.height*(r.axisX.logarithmic?Math.log(g)/Math.log(r.axisX.range):Math.abs(g)/Math.abs(r.axisX.range))/r.plotType.totalDataSeries*.9<<0,this.dataPointMaxWidth&&x>f&&(x=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,f)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&f<x&&(f=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,x)),g<x&&(g=x),g>f&&(g=f),l.save(),Y&&this._eventManager.ghostCtx.save(),l.beginPath(),l.rect(c.x1,c.y1,c.width,c.height),l.clip(),Y&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(c.x1,c.y1,c.width,c.height),this._eventManager.ghostCtx.clip());for(var v=0;v<r.dataSeriesIndexes.length;v++){var b=r.dataSeriesIndexes[v],d=this.data[b],w=d.dataPoints;if(0<w.length){var P=!!(5<g&&d.bevelEnabled);for(l.strokeStyle="#4572A7 ",x=0;x<w.length;x++)if(!((C=w[x].getTime?w[x].x.getTime():w[x].x)<r.axisX.dataInfo.viewPortMin||C>r.axisX.dataInfo.viewPortMax)&&!V(w[x].y)&&w[x].y.length&&"number"==typeof w[x].y[0]&&"number"==typeof w[x].y[1]){f=r.axisY.convertValueToPixel(w[x].y[0]),m=r.axisY.convertValueToPixel(w[x].y[1]),M=r.axisX.convertValueToPixel(C),M=r.axisX.reversed?M+r.plotType.totalDataSeries*g/2-(r.previousDataSeriesCount+v)*g<<0:M-r.plotType.totalDataSeries*g/2+(r.previousDataSeriesCount+v)*g<<0;var k=r.axisX.reversed?M-g<<0:M+g<<0;f>m&&(a=f,f=m,m=a),Qt(l,f,r.axisX.reversed?k:M,m,r.axisX.reversed?M:k,a=w[x].color?w[x].color:d._colorSet[x%d._colorSet.length],0,null,P,!1,!1,!1,d.fillOpacity),this._eventManager.objectMap[a=d.dataPointIds[x]]={id:a,objectType:"dataPoint",dataSeriesIndex:b,dataPointIndex:x,x1:f,y1:M,x2:m,y2:k},a=Xe(a),Y&&Qt(this._eventManager.ghostCtx,f,r.axisX.reversed?k:M,m,r.axisX.reversed?M:k,a,0,null,!1,!1,!1,!1),(w[x].indexLabel||d.indexLabel||w[x].indexLabelFormatter||d.indexLabelFormatter)&&(this._indexLabels.push({chartType:"rangeBar",dataPoint:w[x],dataSeries:d,indexKeyword:0,point:{x:w[x].y[1]>=w[x].y[0]?f:m,y:M+(k-M)/2},direction:w[x].y[1]>=w[x].y[0]?-1:1,bounds:{x1:Math.min(f,m),y1:M,x2:Math.max(f,m),y2:k},color:a}),this._indexLabels.push({chartType:"rangeBar",dataPoint:w[x],dataSeries:d,indexKeyword:1,point:{x:w[x].y[1]>=w[x].y[0]?m:f,y:M+(k-M)/2},direction:w[x].y[1]>=w[x].y[0]?1:-1,bounds:{x1:Math.min(f,m),y1:M,x2:Math.max(f,m),y2:k},color:a}))}}}return Y&&(u.drawImage(this._preRenderCanvas,0,0,this.width,this.height),l.globalCompositeOperation="source-atop",r.axisX.maskCanvas&&l.drawImage(r.axisX.maskCanvas,0,0,this.width,this.height),r.axisY.maskCanvas&&l.drawImage(r.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),l.clearRect(c.x1,c.y1,c.width,c.height),this._eventManager.ghostCtx.restore()),l.restore(),{source:u,dest:this.plotArea.ctx,animationCallback:we.fadeInAnimation,easingFunction:we.easing.easeInQuad,animationBase:0}}},E.prototype.renderRangeArea=function(r){function u(){if(L){for(var $=null,z=C.length-1;0<=z;z--)a.lineTo(($=C[z]).x,$.y2),c.lineTo($.x,$.y2);if(a.closePath(),a.globalAlpha=g.fillOpacity,a.fill(),a.globalAlpha=1,c.fill(),0<g.lineThickness){for(a.beginPath(),a.moveTo($.x,$.y2),z=0;z<C.length;z++)a.lineTo(($=C[z]).x,$.y2);for(a.moveTo(C[0].x,C[0].y1),z=0;z<C.length;z++)a.lineTo(($=C[z]).x,$.y1);a.stroke()}a.beginPath(),a.moveTo(w,P),c.beginPath(),c.moveTo(w,P),L={x:w,y:P},(C=[]).push({x:w,y1:P,y2:k})}}var l=r.targetCanvasCtx||this.plotArea.ctx,a=Y?this._preRenderCtx:l;if(!(0>=r.dataSeriesIndexes.length)){var c=this._eventManager.ghostCtx,f=[],m=this.plotArea;a.save(),Y&&c.save(),a.beginPath(),a.rect(m.x1,m.y1,m.width,m.height),a.clip(),Y&&(c.beginPath(),c.rect(m.x1,m.y1,m.width,m.height),c.clip());for(var M=0;M<r.dataSeriesIndexes.length;M++){var C=[],x=r.dataSeriesIndexes[M],g=this.data[x],v=g.dataPoints;this._eventManager.objectMap[f=g.id]={objectType:"dataSeries",dataSeriesIndex:x},f=Xe(f),c.fillStyle=f,f=[];var w,P,k,D,b=!0,d=0,L=null;if(0<v.length){var F=g._colorSet[d%g._colorSet.length],B=g.lineColor=g.options.lineColor||F,j=B;a.fillStyle=F,a.strokeStyle=B,a.lineWidth=g.lineThickness;var W="solid";if(a.setLineDash){var ie=$e(g.nullDataLineDashType,g.lineThickness),le=$e(W=g.lineDashType,g.lineThickness);a.setLineDash(le)}for(var Q=!0;d<v.length;d++)if(!((D=v[d].x.getTime?v[d].x.getTime():v[d].x)<r.axisX.dataInfo.viewPortMin||D>r.axisX.dataInfo.viewPortMax&&(!g.connectNullData||!Q)))if(null!==v[d].y&&v[d].y.length&&"number"==typeof v[d].y[0]&&"number"==typeof v[d].y[1]){if(w=r.axisX.convertValueToPixel(D),P=r.axisY.convertValueToPixel(v[d].y[0]),k=r.axisY.convertValueToPixel(v[d].y[1]),b||Q?(g.connectNullData&&!b?(a.setLineDash&&(g.options.nullDataLineDashType||W===g.lineDashType&&g.lineDashType!==g.nullDataLineDashType)&&(C[C.length-1].newLineDashArray=le,W=g.nullDataLineDashType,a.setLineDash(ie)),a.lineTo(w,P),Y&&c.lineTo(w,P),C.push({x:w,y1:P,y2:k})):(a.beginPath(),a.moveTo(w,P),L={x:w,y:P},(C=[]).push({x:w,y1:P,y2:k}),Y&&(c.beginPath(),c.moveTo(w,P))),Q=b=!1):(a.lineTo(w,P),C.push({x:w,y1:P,y2:k}),Y&&c.lineTo(w,P),d%250==0&&u()),this._eventManager.objectMap[D=g.dataPointIds[d]]={id:D,objectType:"dataPoint",dataSeriesIndex:x,dataPointIndex:d,x1:w,y1:P,y2:k},d<v.length-1&&(j!==(v[d].lineColor||B)||W!==(v[d].lineDashType||g.lineDashType))&&(u(),C[C.length-1].newStrokeStyle=j=v[d].lineColor||B,a.strokeStyle=j,a.setLineDash&&(v[d].lineDashType?(C[C.length-1].newLineDashArray=$e(W=v[d].lineDashType,g.lineThickness),a.setLineDash(C[C.length-1].newLineDashArray)):(W=g.lineDashType,C[C.length-1].newLineDashArray=le,a.setLineDash(le)))),0!==v[d].markerSize&&(0<v[d].markerSize||0<g.markerSize)){var G=g.getMarkerProperties(d,w,k,a);f.push(G);var K=Xe(D);Y&&f.push({x:w,y:k,ctx:c,type:G.type,size:G.size,color:K,borderColor:K,borderThickness:G.borderThickness}),G=g.getMarkerProperties(d,w,P,a),f.push(G),K=Xe(D),Y&&f.push({x:w,y:P,ctx:c,type:G.type,size:G.size,color:K,borderColor:K,borderThickness:G.borderThickness})}(v[d].indexLabel||g.indexLabel||v[d].indexLabelFormatter||g.indexLabelFormatter)&&(this._indexLabels.push({chartType:"rangeArea",dataPoint:v[d],dataSeries:g,indexKeyword:0,point:{x:w,y:P},direction:v[d].y[0]>v[d].y[1]===r.axisY.reversed?-1:1,color:F}),this._indexLabels.push({chartType:"rangeArea",dataPoint:v[d],dataSeries:g,indexKeyword:1,point:{x:w,y:k},direction:v[d].y[0]>v[d].y[1]===r.axisY.reversed?1:-1,color:F}))}else Q||b||u(),Q=!0;u(),Rt.drawMarkers(f)}}return Y&&(l.drawImage(this._preRenderCanvas,0,0,this.width,this.height),a.globalCompositeOperation="source-atop",r.axisX.maskCanvas&&a.drawImage(r.axisX.maskCanvas,0,0,this.width,this.height),r.axisY.maskCanvas&&a.drawImage(r.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),a.clearRect(m.x1,m.y1,m.width,m.height),this._eventManager.ghostCtx.restore()),a.restore(),{source:l,dest:this.plotArea.ctx,animationCallback:we.xClipAnimation,easingFunction:we.easing.linear,animationBase:0}}},E.prototype.renderRangeSplineArea=function(r){function u(G,K){var $=N(P,2);if(0<$.length){if(0<x.lineThickness){a.strokeStyle=K,a.setLineDash&&a.setLineDash(G),a.beginPath(),a.moveTo($[0].x,$[0].y);for(var z=0;z<$.length-3;z+=3)($[z].newStrokeStyle||$[z].newLineDashArray)&&(a.stroke(),a.beginPath(),a.moveTo($[z].x,$[z].y),$[z].newStrokeStyle&&(a.strokeStyle=$[z].newStrokeStyle),$[z].newLineDashArray&&a.setLineDash($[z].newLineDashArray)),a.bezierCurveTo($[z+1].x,$[z+1].y,$[z+2].x,$[z+2].y,$[z+3].x,$[z+3].y)}for(a.beginPath(),a.moveTo($[0].x,$[0].y),Y&&(c.beginPath(),c.moveTo($[0].x,$[0].y)),z=0;z<$.length-3;z+=3)a.bezierCurveTo($[z+1].x,$[z+1].y,$[z+2].x,$[z+2].y,$[z+3].x,$[z+3].y),Y&&c.bezierCurveTo($[z+1].x,$[z+1].y,$[z+2].x,$[z+2].y,$[z+3].x,$[z+3].y);for($=N(k,2),a.lineTo(k[k.length-1].x,k[k.length-1].y),z=$.length-1;2<z;z-=3)a.bezierCurveTo($[z-1].x,$[z-1].y,$[z-2].x,$[z-2].y,$[z-3].x,$[z-3].y),Y&&c.bezierCurveTo($[z-1].x,$[z-1].y,$[z-2].x,$[z-2].y,$[z-3].x,$[z-3].y);if(a.closePath(),a.globalAlpha=x.fillOpacity,a.fill(),Y&&(c.closePath(),c.fill()),a.globalAlpha=1,0<x.lineThickness){a.strokeStyle=K,a.setLineDash&&a.setLineDash(G),a.beginPath(),a.moveTo($[0].x,$[0].y);for(var ne=z=0;z<$.length-3;z+=3,ne++)(P[ne].newStrokeStyle||P[ne].newLineDashArray)&&(a.stroke(),a.beginPath(),a.moveTo($[z].x,$[z].y),P[ne].newStrokeStyle&&(a.strokeStyle=P[ne].newStrokeStyle),P[ne].newLineDashArray&&a.setLineDash(P[ne].newLineDashArray)),a.bezierCurveTo($[z+1].x,$[z+1].y,$[z+2].x,$[z+2].y,$[z+3].x,$[z+3].y);for($=N(P,2),a.moveTo($[0].x,$[0].y),ne=z=0;z<$.length-3;z+=3,ne++)(P[ne].newStrokeStyle||P[ne].newLineDashArray)&&(a.stroke(),a.beginPath(),a.moveTo($[z].x,$[z].y),P[ne].newStrokeStyle&&(a.strokeStyle=P[ne].newStrokeStyle),P[ne].newLineDashArray&&a.setLineDash(P[ne].newLineDashArray)),a.bezierCurveTo($[z+1].x,$[z+1].y,$[z+2].x,$[z+2].y,$[z+3].x,$[z+3].y);a.stroke()}a.beginPath()}}var l=r.targetCanvasCtx||this.plotArea.ctx,a=Y?this._preRenderCtx:l;if(!(0>=r.dataSeriesIndexes.length)){var c=this._eventManager.ghostCtx,f=[],m=this.plotArea;a.save(),Y&&c.save(),a.beginPath(),a.rect(m.x1,m.y1,m.width,m.height),a.clip(),Y&&(c.beginPath(),c.rect(m.x1,m.y1,m.width,m.height),c.clip());for(var M=0;M<r.dataSeriesIndexes.length;M++){var C=r.dataSeriesIndexes[M],x=this.data[C],g=x.dataPoints;this._eventManager.objectMap[f=x.id]={objectType:"dataSeries",dataSeriesIndex:C},f=Xe(f),c.fillStyle=f,f=[];var b,d,w,v=0,P=[],k=[];if(0<g.length){var D=x._colorSet[v%x._colorSet.length],L=x.lineColor=x.options.lineColor||D,F=L;a.fillStyle=D,a.lineWidth=x.lineThickness;var j,B="solid";if(a.setLineDash){var W=$e(x.nullDataLineDashType,x.lineThickness);j=$e(B=x.lineDashType,x.lineThickness)}for(d=!1;v<g.length;v++)if(!((b=g[v].x.getTime?g[v].x.getTime():g[v].x)<r.axisX.dataInfo.viewPortMin||b>r.axisX.dataInfo.viewPortMax&&(!x.connectNullData||!d)))if(null!==g[v].y&&g[v].y.length&&"number"==typeof g[v].y[0]&&"number"==typeof g[v].y[1]){b=r.axisX.convertValueToPixel(b),d=r.axisY.convertValueToPixel(g[v].y[0]),w=r.axisY.convertValueToPixel(g[v].y[1]);var ie=x.dataPointIds[v];if(this._eventManager.objectMap[ie]={id:ie,objectType:"dataPoint",dataSeriesIndex:C,dataPointIndex:v,x1:b,y1:d,y2:w},P[P.length]={x:b,y:d},k[k.length]={x:b,y:w},v<g.length-1&&(F!==(g[v].lineColor||L)||B!==(g[v].lineDashType||x.lineDashType))&&(P[P.length-1].newStrokeStyle=F=g[v].lineColor||L,a.setLineDash&&(g[v].lineDashType?P[P.length-1].newLineDashArray=$e(B=g[v].lineDashType,x.lineThickness):(B=x.lineDashType,P[P.length-1].newLineDashArray=j))),0!==g[v].markerSize&&(0<g[v].markerSize||0<x.markerSize)){var le=x.getMarkerProperties(v,b,d,a);f.push(le);var Q=Xe(ie);Y&&f.push({x:b,y:d,ctx:c,type:le.type,size:le.size,color:Q,borderColor:Q,borderThickness:le.borderThickness}),le=x.getMarkerProperties(v,b,w,a),f.push(le),Q=Xe(ie),Y&&f.push({x:b,y:w,ctx:c,type:le.type,size:le.size,color:Q,borderColor:Q,borderThickness:le.borderThickness})}(g[v].indexLabel||x.indexLabel||g[v].indexLabelFormatter||x.indexLabelFormatter)&&(this._indexLabels.push({chartType:"rangeSplineArea",dataPoint:g[v],dataSeries:x,indexKeyword:0,point:{x:b,y:d},direction:g[v].y[0]<=g[v].y[1]?-1:1,color:D}),this._indexLabels.push({chartType:"rangeSplineArea",dataPoint:g[v],dataSeries:x,indexKeyword:1,point:{x:b,y:w},direction:g[v].y[0]<=g[v].y[1]?1:-1,color:D})),d=!1}else 0<v&&!d&&(x.connectNullData?a.setLineDash&&0<P.length&&(x.options.nullDataLineDashType||!g[v-1].lineDashType)&&(P[P.length-1].newLineDashArray=W,B=x.nullDataLineDashType):(u(j,L),P=[],k=[])),d=!0;u(j,L),Rt.drawMarkers(f)}}return Y&&(l.drawImage(this._preRenderCanvas,0,0,this.width,this.height),a.globalCompositeOperation="source-atop",r.axisX.maskCanvas&&a.drawImage(r.axisX.maskCanvas,0,0,this.width,this.height),r.axisY.maskCanvas&&a.drawImage(r.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),a.clearRect(m.x1,m.y1,m.width,m.height),this._eventManager.ghostCtx.restore()),a.restore(),{source:l,dest:this.plotArea.ctx,animationCallback:we.xClipAnimation,easingFunction:we.easing.linear,animationBase:0}}},E.prototype.renderWaterfall=function(r){var u=r.targetCanvasCtx||this.plotArea.ctx,l=Y?this._preRenderCtx:u;if(!(0>=r.dataSeriesIndexes.length)){var m,M,C,x,a=this._eventManager.ghostCtx,c=null,f=this.plotArea,v=0,g=r.axisY.convertValueToPixel(r.axisY.logarithmic?r.axisY.viewportMinimum:0);v=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,M=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:Math.min(.15*this.width,this.plotArea.width/r.plotType.totalDataSeries*.9)<<0;var b=r.axisX.dataInfo.minDiff;isFinite(b)||(b=.3*Math.abs(r.axisX.range)),b=this.options.dataPointWidth?this.dataPointWidth:f.width*(r.axisX.logarithmic?Math.log(b)/Math.log(r.axisX.range):Math.abs(b)/Math.abs(r.axisX.range))/r.plotType.totalDataSeries*.6<<0,this.dataPointMaxWidth&&v>M&&(v=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,M)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&M<v&&(M=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,v)),b<v&&(b=v),b>M&&(b=M),l.save(),Y&&this._eventManager.ghostCtx.save(),l.beginPath(),l.rect(f.x1,f.y1,f.width,f.height),l.clip(),Y&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(f.x1,f.y1,f.width,f.height),this._eventManager.ghostCtx.clip());for(var d=0;d<r.dataSeriesIndexes.length;d++){var w=r.dataSeriesIndexes[d],P=this.data[w],k=P.dataPoints;c=P._colorSet[0],P.risingColor=P.options.risingColor?P.options.risingColor:c,P.fallingColor=P.options.fallingColor?P.options.fallingColor:"#e40a0a";var D="number"==typeof P.options.lineThickness?Math.round(P.lineThickness):1,L=Math.round(D)%2==1?-.5:0;if(0<k.length){var F=!!(5<b&&P.bevelEnabled),B=!1,j=null,W=null;for(v=0;v<k.length;v++)if(x=k[v].getTime?k[v].x.getTime():k[v].x,"number"!=typeof k[v].y){if(0<v&&!B&&P.connectNullData)var ie=P.options.nullDataLineDashType||!k[v-1].lineDashType?P.nullDataLineDashType:k[v-1].lineDashType;B=!0}else{m=r.axisX.convertValueToPixel(x),M=0===P.dataPointEOs[v].cumulativeSum?g:r.axisY.convertValueToPixel(P.dataPointEOs[v].cumulativeSum),C=0===P.dataPointEOs[v].cumulativeSumYStartValue?g:r.axisY.convertValueToPixel(P.dataPointEOs[v].cumulativeSumYStartValue),m=r.axisX.reversed?m+r.plotType.totalDataSeries*b/2-(r.previousDataSeriesCount+d)*b<<0:m-r.plotType.totalDataSeries*b/2+(r.previousDataSeriesCount+d)*b<<0;var le=r.axisX.reversed?m-b<<0:m+b<<0;M>C&&(c=M,M=C,C=c),r.axisY.reversed&&(c=M,M=C,C=c),this._eventManager.objectMap[c=P.dataPointIds[v]]={id:c,objectType:"dataPoint",dataSeriesIndex:w,dataPointIndex:v,x1:m,y1:M,x2:le,y2:C},Qt(l,r.axisX.reversed?le:m,r.axisY.reversed?C:M,r.axisX.reversed?m:le,r.axisY.reversed?M:C,G=k[v].color?k[v].color:0<k[v].y?P.risingColor:P.fallingColor,0,G,F,F,!1,!1,P.fillOpacity),c=Xe(c),Y&&Qt(this._eventManager.ghostCtx,r.axisX.reversed?le:m,M,r.axisX.reversed?m:le,C,c,0,null,!1,!1,!1,!1);var Q,G=m;Q=typeof k[v].isIntermediateSum<"u"&&!0===k[v].isIntermediateSum||typeof k[v].isCumulativeSum<"u"&&!0===k[v].isCumulativeSum?0<k[v].y?M:C:0<k[v].y?C:M,0<v&&j&&(!B||P.connectNullData)&&(B&&l.setLineDash&&l.setLineDash($e(ie,D)),l.beginPath(),l.moveTo(j,W-L),l.lineTo(G,Q-L),0<D&&l.stroke(),Y&&(a.beginPath(),a.moveTo(j,W-L),a.lineTo(G,Q-L),0<D&&a.stroke())),B=!1,j=le,W=0<k[v].y?M:C,G=k[v].lineDashType?k[v].lineDashType:P.options.lineDashType?P.options.lineDashType:"shortDash",l.strokeStyle=k[v].lineColor?k[v].lineColor:P.options.lineColor?P.options.lineColor:"#9e9e9e",l.lineWidth=D,l.setLineDash&&(G=$e(G,D),l.setLineDash(G)),(k[v].indexLabel||P.indexLabel||k[v].indexLabelFormatter||P.indexLabelFormatter)&&this._indexLabels.push({chartType:"waterfall",dataPoint:k[v],dataSeries:P,point:{x:m+(le-m)/2,y:0<=k[v].y?M:C},direction:0>k[v].y===r.axisY.reversed?1:-1,bounds:{x1:m,y1:Math.min(M,C),x2:le,y2:Math.max(M,C)},color:c})}}}return Y&&(u.drawImage(this._preRenderCanvas,0,0,this.width,this.height),l.globalCompositeOperation="source-atop",r.axisX.maskCanvas&&l.drawImage(r.axisX.maskCanvas,0,0,this.width,this.height),r.axisY.maskCanvas&&l.drawImage(r.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),l.clearRect(f.x1,f.y1,f.width,f.height),this._eventManager.ghostCtx.restore()),l.restore(),{source:u,dest:this.plotArea.ctx,animationCallback:we.fadeInAnimation,easingFunction:we.easing.easeInQuad,animationBase:0}}};var Li=function(r,u,l,a,c,f,m,M,C){if(!(0>l)){if(typeof M>"u"&&(M=1),!Y){var x=Number((m%(2*Math.PI)).toFixed(8));Number((f%(2*Math.PI)).toFixed(8))===x&&(m-=1e-4)}r.save(),r.globalAlpha=M,"pie"===c?(r.beginPath(),r.moveTo(u.x,u.y),r.arc(u.x,u.y,l,f,m,!1),r.fillStyle=a,r.strokeStyle="white",r.lineWidth=2,r.closePath(),r.fill()):"doughnut"===c&&(r.beginPath(),r.arc(u.x,u.y,l,f,m,!1),0<=C&&r.arc(u.x,u.y,C*l,m,f,!0),r.closePath(),r.fillStyle=a,r.strokeStyle="white",r.lineWidth=2,r.fill()),r.globalAlpha=1,r.restore()}};E.prototype.renderPie=function(r){function l(Q){var G=C.plotArea.ctx;for(G.clearRect(b.x1,b.y1,b.width,b.height),G.fillStyle=C.backgroundColor,G.fillRect(b.x1,b.y1,b.width,b.height),G=0;G<g.length;G++){var K=d[G].startAngle,$=d[G].endAngle;if($>K){var z=.07*W*Math.cos(d[G].midAngle),ne=.07*W*Math.sin(d[G].midAngle),se=!1;g[G].exploded?(1e-9<Math.abs(d[G].center.x-(F.x+z))||1e-9<Math.abs(d[G].center.y-(F.y+ne)))&&(d[G].center.x=F.x+z*Q,d[G].center.y=F.y+ne*Q,se=!0):(0<Math.abs(d[G].center.x-F.x)||0<Math.abs(d[G].center.y-F.y))&&(d[G].center.x=F.x+z*(1-Q),d[G].center.y=F.y+ne*(1-Q),se=!0),se&&((z={}).dataSeries=x,z.dataPoint=x.dataPoints[G],z.index=G,C.toolTip.highlightObjects([z])),Li(C.plotArea.ctx,d[G].center,d[G].radius,g[G].color?g[G].color:x._colorSet[G%x._colorSet.length],x.type,K,$,x.fillOpacity,d[G].percentInnerRadius)}}for((Q=C.plotArea.ctx).save(),Q.fillStyle="black",Q.strokeStyle="grey",Q.textBaseline="middle",Q.lineJoin="round",G=G=0;G<g.length;G++)(K=d[G]).indexLabelText&&(K.indexLabelTextBlock.y-=K.indexLabelTextBlock.height/2-K.indexLabelTextBlock.fontSize/2,$=0,K.indexLabelTextBlock.x+=$="left"===K.hemisphere?"inside"!==x.indexLabelPlacement?-(K.indexLabelTextBlock.width+v):-K.indexLabelTextBlock.width/2:"inside"!==x.indexLabelPlacement?v:-K.indexLabelTextBlock.width/2,K.indexLabelTextBlock.render(!0),K.indexLabelTextBlock.x-=$,K.indexLabelTextBlock.y+=K.indexLabelTextBlock.height/2-K.indexLabelTextBlock.fontSize/2,"inside"!==K.indexLabelPlacement&&0<K.indexLabelLineThickness&&($=K.center.x+W*Math.cos(K.midAngle),z=K.center.y+W*Math.sin(K.midAngle),Q.strokeStyle=K.indexLabelLineColor,Q.lineWidth=K.indexLabelLineThickness,Q.setLineDash&&Q.setLineDash($e(K.indexLabelLineDashType,K.indexLabelLineThickness)),Q.beginPath(),Q.moveTo($,z),Q.lineTo(K.indexLabelTextBlock.x,K.indexLabelTextBlock.y),Q.lineTo(K.indexLabelTextBlock.x+("left"===K.hemisphere?-v:v),K.indexLabelTextBlock.y),Q.stroke()),Q.lineJoin="miter");Q.save()}function a(Q,G){return G.indexLabelTextBlock.y>Q.indexLabelTextBlock.y?G.indexLabelTextBlock.y-G.indexLabelTextBlock.height/2-(Q.indexLabelTextBlock.y+Q.indexLabelTextBlock.height/2):Q.indexLabelTextBlock.y-Q.indexLabelTextBlock.height/2-(G.indexLabelTextBlock.y+G.indexLabelTextBlock.height/2)}function c(Q){for(var G=null,K=1;K<g.length;K++){if(d[G=(Q+K+d.length)%d.length].hemisphere!==d[Q].hemisphere){G=null;break}if(d[G].indexLabelText&&G!==Q&&(0>a(d[G],d[Q])||("right"===d[Q].hemisphere?d[G].indexLabelTextBlock.y>=d[Q].indexLabelTextBlock.y:d[G].indexLabelTextBlock.y<=d[Q].indexLabelTextBlock.y)))break;G=null}return G}function f(Q,G,K){if(1e3<(K=(K||0)+1))return 0;G=G||0;var $=0,z=F.y-1*P,ne=F.y+1*P;if(0<=Q&&Q<g.length){var se=d[Q];if(0>G&&se.indexLabelTextBlock.y<z||0<G&&se.indexLabelTextBlock.y>ne)return 0;var H=0,Ee=0;for(Ee=H=H=0,0>G?se.indexLabelTextBlock.y-se.indexLabelTextBlock.height/2>z&&se.indexLabelTextBlock.y-se.indexLabelTextBlock.height/2+G<z&&(G=-(z-(se.indexLabelTextBlock.y-se.indexLabelTextBlock.height/2+G))):se.indexLabelTextBlock.y+se.indexLabelTextBlock.height/2<z&&se.indexLabelTextBlock.y+se.indexLabelTextBlock.height/2+G>ne&&(G=se.indexLabelTextBlock.y+se.indexLabelTextBlock.height/2+G-ne),G=se.indexLabelTextBlock.y+G,z=0,z="right"===se.hemisphere?F.x+Math.sqrt(Math.pow(P,2)-Math.pow(G-F.y,2)):F.x-Math.sqrt(Math.pow(P,2)-Math.pow(G-F.y,2)),Ee=F.x+W*Math.cos(se.midAngle),H=F.y+W*Math.sin(se.midAngle),H=Math.sqrt(Math.pow(z-Ee,2)+Math.pow(G-H,2)),Ee=Math.acos(W/P),G=(H=Math.acos((P*P+W*W-H*H)/(2*W*P)))<Ee?G-se.indexLabelTextBlock.y:0,z=null,ne=1;ne<g.length;ne++){if(d[z=(Q-ne+d.length)%d.length].hemisphere!==d[Q].hemisphere){z=null;break}if(d[z].indexLabelText&&d[z].hemisphere===d[Q].hemisphere&&z!==Q&&(0>a(d[z],d[Q])||("right"===d[Q].hemisphere?d[z].indexLabelTextBlock.y<=d[Q].indexLabelTextBlock.y:d[z].indexLabelTextBlock.y>=d[Q].indexLabelTextBlock.y)))break;z=null}Ee=z,H=c(Q),ne=z=0,0>G?($=G,null!==(ne="right"===se.hemisphere?Ee:H)&&(Ee=-G,(G=se.indexLabelTextBlock.y-se.indexLabelTextBlock.height/2-(d[ne].indexLabelTextBlock.y+d[ne].indexLabelTextBlock.height/2))-Ee<w&&+(ne=f(ne,z=-Ee,K+1)).toFixed(L)>+z.toFixed(L)&&($=G>w?-(G-w):-(Ee-(ne-z))))):0<G&&($=G,null!==(ne="right"===se.hemisphere?H:Ee)&&(Ee=G,(G=d[ne].indexLabelTextBlock.y-d[ne].indexLabelTextBlock.height/2-(se.indexLabelTextBlock.y+se.indexLabelTextBlock.height/2))-Ee<w&&+(ne=f(ne,z=Ee,K+1)).toFixed(L)<+z.toFixed(L)&&($=G>w?G-w:Ee-(z-ne)))),$&&(K=se.indexLabelTextBlock.y+$,G=0,G="right"===se.hemisphere?F.x+Math.sqrt(Math.pow(P,2)-Math.pow(K-F.y,2)):F.x-Math.sqrt(Math.pow(P,2)-Math.pow(K-F.y,2)),se.midAngle>Math.PI/2-D&&se.midAngle<Math.PI/2+D?(z=d[z=(Q-1+d.length)%d.length],Q=d[(Q+1+d.length)%d.length],"left"===se.hemisphere&&"right"===z.hemisphere&&G>z.indexLabelTextBlock.x?G=z.indexLabelTextBlock.x-15:"right"===se.hemisphere&&"left"===Q.hemisphere&&G<Q.indexLabelTextBlock.x&&(G=Q.indexLabelTextBlock.x+15)):se.midAngle>3*Math.PI/2-D&&se.midAngle<3*Math.PI/2+D&&(z=d[z=(Q-1+d.length)%d.length],Q=d[(Q+1+d.length)%d.length],"right"===se.hemisphere&&"left"===z.hemisphere&&G<z.indexLabelTextBlock.x?G=z.indexLabelTextBlock.x+15:"left"===se.hemisphere&&"right"===Q.hemisphere&&G>Q.indexLabelTextBlock.x&&(G=Q.indexLabelTextBlock.x-15)),se.indexLabelTextBlock.y=K,se.indexLabelTextBlock.x=G,se.indexLabelAngle=Math.atan2(se.indexLabelTextBlock.y-F.y,se.indexLabelTextBlock.x-F.x))}return $}function m(){(Q=C.plotArea.ctx).fillStyle="grey",Q.strokeStyle="grey",Q.font="16px Arial",Q.textBaseline="middle";var $=Q=0,G=0,K=!0;for($=0;10>$&&(1>$||0<G);$++){if((x.radius||!x.radius&&typeof x.innerRadius<"u"&&null!==x.innerRadius&&W-G<=ie)&&(K=!1),K&&(W-=G),G=0,"inside"!==x.indexLabelPlacement){for(P=W*k,Q=0;Q<g.length;Q++)(z=d[Q]).indexLabelTextBlock.x=F.x+P*Math.cos(z.midAngle),z.indexLabelTextBlock.y=F.y+P*Math.sin(z.midAngle),z.indexLabelAngle=z.midAngle,z.radius=W,z.percentInnerRadius=le;for(var ne,se,Q=0;Q<g.length;Q++){var z=d[Q],H=c(Q);if(null!==H){var Ee=0;if(0>(Ee=a(ne=d[Q],se=d[H])-w)){for(var _t=se=0,tt=0;tt<g.length;tt++)tt!==Q&&d[tt].hemisphere===z.hemisphere&&(d[tt].indexLabelTextBlock.y<z.indexLabelTextBlock.y?se++:_t++);_t=-1*(Ee-(se=Ee/(se+_t||1)*_t));var ft=tt=0;"right"===z.hemisphere?(tt=f(Q,se),+(ft=f(H,_t=-1*(Ee-tt))).toFixed(L)<+_t.toFixed(L)&&+tt.toFixed(L)<=+se.toFixed(L)&&f(Q,-(_t-ft))):(tt=f(H,se),+(ft=f(Q,_t=-1*(Ee-tt))).toFixed(L)<+_t.toFixed(L)&&+tt.toFixed(L)<=+se.toFixed(L)&&f(H,-(_t-ft)))}}}}else for(Q=0;Q<g.length;Q++)z=d[Q],H=F.x+(P="pie"===x.type?.7*W:.85*W)*Math.cos(z.midAngle),se=F.y+P*Math.sin(z.midAngle),z.indexLabelTextBlock.x=H,z.indexLabelTextBlock.y=se;for(Q=0;Q<g.length;Q++)0!==(H=(z=d[Q]).indexLabelTextBlock.measureText()).height&&0!==H.width&&(H=H=0,"right"===z.hemisphere?(H=b.x2-(z.indexLabelTextBlock.x+z.indexLabelTextBlock.width+v),H*=-1):H=b.x1-(z.indexLabelTextBlock.x-z.indexLabelTextBlock.width-v),0<H&&(!K&&z.indexLabelText&&(.3*z.indexLabelTextBlock.maxWidth>(se="right"===z.hemisphere?b.x2-z.indexLabelTextBlock.x:z.indexLabelTextBlock.x-b.x1)?z.indexLabelText="":z.indexLabelTextBlock.maxWidth=.85*se,.3*z.indexLabelTextBlock.maxWidth<se&&(z.indexLabelTextBlock.x-="right"===z.hemisphere?2:-2)),Math.abs(z.indexLabelTextBlock.y-z.indexLabelTextBlock.height/2-F.y)<W||Math.abs(z.indexLabelTextBlock.y+z.indexLabelTextBlock.height/2-F.y)<W)&&(9<(H/=Math.abs(Math.cos(z.indexLabelAngle)))&&(H*=.3),H>G&&(G=H)),H=H=0,0<z.indexLabelAngle&&z.indexLabelAngle<Math.PI?(H=b.y2-(z.indexLabelTextBlock.y+z.indexLabelTextBlock.height/2+5),H*=-1):H=b.y1-(z.indexLabelTextBlock.y-z.indexLabelTextBlock.height/2-5),0<H&&(!K&&z.indexLabelText&&0===f(Q,H*(se=0<z.indexLabelAngle&&z.indexLabelAngle<Math.PI?-1:1))&&f(Q,2*se),Math.abs(z.indexLabelTextBlock.x-F.x)<W&&(9<(H/=Math.abs(Math.sin(z.indexLabelAngle)))&&(H*=.3),H>G&&(G=H))));var de=function(Wt,at,ht){for(var De=[],he=0;De.push(d[at]),at!==ht;at=(at+1+g.length)%g.length);for(De.sort(function(Si,Ne){return Si.y-Ne.y}),at=0;at<De.length&&(ht=De[at],he<.7*Wt);at++)he+=ht.indexLabelTextBlock.height,ht.indexLabelTextBlock.text="",ht.indexLabelText="",ht.indexLabelTextBlock.measureText()};!function(){for(var Wt=-1,at=-1,ht=0,De=!1,he=0;he<g.length;he++)if(De=!1,(ne=d[he]).indexLabelText){var Si=c(he);if(null!==Si){var yt,Ne=d[Si];Ee=0,(yt=0>(Ee=a(ne,Ne)))&&(yt=ne.indexLabelTextBlock.x,yt=!(ne.indexLabelTextBlock.x+ne.indexLabelTextBlock.width<Ne.indexLabelTextBlock.x-v||yt>Ne.indexLabelTextBlock.x+Ne.indexLabelTextBlock.width+v||ne.indexLabelTextBlock.y-ne.indexLabelTextBlock.height/2>Ne.indexLabelTextBlock.y+Ne.indexLabelTextBlock.height/2+v||ne.indexLabelTextBlock.y+ne.indexLabelTextBlock.height/2<Ne.indexLabelTextBlock.y-Ne.indexLabelTextBlock.height/2-v)),yt?(0>Wt&&(Wt=he),Si!==Wt&&(at=Si,ht+=-Ee),he%Math.max(g.length/10,3)==0&&(De=!0)):De=!0,De&&0<ht&&0<=Wt&&0<=at&&(de(ht,Wt,at),at=Wt=-1,ht=0)}}0<ht&&de(ht,Wt,at)}()}}function M(){if(C.plotArea.layoutManager.reset(),C.title&&(C.title.dockInsidePlotArea||"center"===C.title.horizontalAlign&&"center"===C.title.verticalAlign)&&C.title.render(),C.subtitles)for(var Q=0;Q<C.subtitles.length;Q++){var G=C.subtitles[Q];(G.dockInsidePlotArea||"center"===G.horizontalAlign&&"center"===G.verticalAlign)&&G.render()}C.legend&&(C.legend.dockInsidePlotArea||"center"===C.legend.horizontalAlign&&"center"===C.legend.verticalAlign)&&(C.legend.setLayout(),C.legend.render())}var C=this;if(!(0>=r.dataSeriesIndexes.length)){var P,x=this.data[r.dataSeriesIndexes[0]],g=x.dataPoints,v=10,b=this.plotArea,d=x.dataPointEOs,w=2,k=1.3,D=20/180*Math.PI,L=6,F={x:(b.x2+b.x1)/2,y:(b.y2+b.y1)/2},B=0;r=!1;for(var j=0;j<g.length;j++)B+=Math.abs(g[j].y),!r&&typeof g[j].indexLabel<"u"&&null!==g[j].indexLabel&&0<g[j].indexLabel.toString().length&&(r=!0),!r&&typeof g[j].label<"u"&&null!==g[j].label&&0<g[j].label.toString().length&&(r=!0);if(0!==B){r=r||typeof x.indexLabel<"u"&&null!==x.indexLabel&&0<x.indexLabel.toString().length;var W="inside"!==x.indexLabelPlacement&&r?.75*Math.min(b.width,b.height)/2:.92*Math.min(b.width,b.height)/2;x.radius&&(W=Un(x.radius,W));var ie=typeof x.innerRadius<"u"&&null!==x.innerRadius?Un(x.innerRadius,W):.7*W;x.radius=W,"doughnut"===x.type&&(x.innerRadius=ie);var le=Math.min(ie/W,(W-1)/W);this.pieDoughnutClickHandler=function(Q){C.isAnimating||!V(Q.dataSeries.explodeOnClick)&&!Q.dataSeries.explodeOnClick||((Q=Q.dataPoint).exploded=!Q.exploded,1<this.dataPoints.length&&C._animator.animate(0,500,function(G){l(G),M(),C.dispatchEvent("dataAnimationIterationEnd",{chart:C}),C.dispatchEvent("dataAnimationEnd",{chart:C})}))},function u(){if(x&&g){for(var Q=0,G=0,K=0,$=0,z=0;z<g.length;z++){var ne=g[z],se=x.dataPointIds[z];d[z].id=se,d[z].objectType="dataPoint",d[z].dataPointIndex=z,d[z].dataSeriesIndex=0;var H=d[z],tt={percent:null,total:null},Ee=null;tt=C.getPercentAndTotal(x,ne),(x.indexLabelFormatter||ne.indexLabelFormatter)&&(Ee={chart:C.options,dataSeries:x,dataPoint:ne,total:tt.total,percent:tt.percent}),tt=ne.indexLabelFormatter?ne.indexLabelFormatter(Ee):ne.indexLabel?C.replaceKeywordsWithValue(ne.indexLabel,ne,x,z):x.indexLabelFormatter?x.indexLabelFormatter(Ee):x.indexLabel?C.replaceKeywordsWithValue(x.indexLabel,ne,x,z):ne.label?ne.label:"",C._eventManager.objectMap[se]=H,H.center={x:F.x,y:F.y},H.y=ne.y,H.radius=W,H.percentInnerRadius=le,H.indexLabelText=tt,H.indexLabelPlacement=x.indexLabelPlacement,H.indexLabelLineColor=ne.indexLabelLineColor?ne.indexLabelLineColor:x.options.indexLabelLineColor?x.options.indexLabelLineColor:ne.color?ne.color:x._colorSet[z%x._colorSet.length],H.indexLabelLineThickness=V(ne.indexLabelLineThickness)?x.indexLabelLineThickness:ne.indexLabelLineThickness,H.indexLabelLineDashType=ne.indexLabelLineDashType?ne.indexLabelLineDashType:x.indexLabelLineDashType,H.indexLabelFontColor=ne.indexLabelFontColor?ne.indexLabelFontColor:x.indexLabelFontColor,H.indexLabelFontStyle=ne.indexLabelFontStyle?ne.indexLabelFontStyle:x.indexLabelFontStyle,H.indexLabelFontWeight=ne.indexLabelFontWeight?ne.indexLabelFontWeight:x.indexLabelFontWeight,H.indexLabelFontSize=V(ne.indexLabelFontSize)?x.indexLabelFontSize:ne.indexLabelFontSize,H.indexLabelFontFamily=ne.indexLabelFontFamily?ne.indexLabelFontFamily:x.indexLabelFontFamily,H.indexLabelBackgroundColor=ne.indexLabelBackgroundColor?ne.indexLabelBackgroundColor:x.options.indexLabelBackgroundColor?x.options.indexLabelBackgroundColor:x.indexLabelBackgroundColor,H.indexLabelMaxWidth=ne.indexLabelMaxWidth?ne.indexLabelMaxWidth:x.indexLabelMaxWidth?x.indexLabelMaxWidth:.33*b.width,H.indexLabelWrap=typeof ne.indexLabelWrap<"u"?ne.indexLabelWrap:x.indexLabelWrap,H.indexLabelTextAlign=ne.indexLabelTextAlign?ne.indexLabelTextAlign:x.indexLabelTextAlign?x.indexLabelTextAlign:"left",H.startAngle=0===z?x.startAngle?x.startAngle/180*Math.PI:0:d[z-1].endAngle,H.startAngle=(H.startAngle+2*Math.PI)%(2*Math.PI),H.endAngle=H.startAngle+2*Math.PI/B*Math.abs(ne.y),ne=((ne=(H.endAngle+H.startAngle)/2)+2*Math.PI)%(2*Math.PI),H.midAngle=ne,H.midAngle>Math.PI/2-D&&H.midAngle<Math.PI/2+D?((0===Q||d[K].midAngle>H.midAngle)&&(K=z),Q++):H.midAngle>3*Math.PI/2-D&&H.midAngle<3*Math.PI/2+D&&((0===G||d[$].midAngle>H.midAngle)&&($=z),G++),H.hemisphere=ne>Math.PI/2&&ne<=3*Math.PI/2?"left":"right",H.indexLabelTextBlock=new Ze(C.plotArea.ctx,{fontSize:H.indexLabelFontSize,fontFamily:H.indexLabelFontFamily,fontColor:H.indexLabelFontColor,fontStyle:H.indexLabelFontStyle,fontWeight:H.indexLabelFontWeight,textAlign:H.indexLabelTextAlign,backgroundColor:H.indexLabelBackgroundColor,maxWidth:H.indexLabelMaxWidth,maxHeight:H.indexLabelWrap?5*H.indexLabelFontSize:1.5*H.indexLabelFontSize,text:H.indexLabelText,padding:0,textBaseline:"middle"}),H.indexLabelTextBlock.measureText()}for(se=ne=0,tt=!1,z=0;z<g.length;z++)H=d[(K+z)%g.length],1<Q&&H.midAngle>Math.PI/2-D&&H.midAngle<Math.PI/2+D&&(ne<=Q/2&&!tt?(H.hemisphere="right",ne++):(H.hemisphere="left",tt=!0));for(tt=!1,z=0;z<g.length;z++)H=d[($+z)%g.length],1<G&&H.midAngle>3*Math.PI/2-D&&H.midAngle<3*Math.PI/2+D&&(se<=G/2&&!tt?(H.hemisphere="left",se++):(H.hemisphere="right",tt=!0))}}(),m(),m(),m(),m(),this.disableToolTip=!0,this._animator.animate(0,this.animatedRender?this.animationDuration:0,function(Q){(G=C.plotArea.ctx).clearRect(b.x1,b.y1,b.width,b.height),G.fillStyle=C.backgroundColor,G.fillRect(b.x1,b.y1,b.width,b.height);for(var G=d[0].startAngle+2*Math.PI*Q,K=0;K<g.length;K++){var $=0===K?d[K].startAngle:z,z=$+(d[K].endAngle-d[K].startAngle),ne=!1;if(z>G&&(z=G,ne=!0),z>$&&Li(C.plotArea.ctx,d[K].center,d[K].radius,g[K].color?g[K].color:x._colorSet[K%x._colorSet.length],x.type,$,z,x.fillOpacity,d[K].percentInnerRadius),ne)break}M(),C.dispatchEvent("dataAnimationIterationEnd",{chart:C}),1<=Q&&C.dispatchEvent("dataAnimationEnd",{chart:C})},function(){C.disableToolTip=!1,C._animator.animate(0,C.animatedRender?500:0,function(Q){l(Q),M(),C.dispatchEvent("dataAnimationIterationEnd",{chart:C})}),C.dispatchEvent("dataAnimationEnd",{chart:C})})}}};var _i=function(r,u,l,a){typeof l>"u"&&(l=1),0>=Math.round(u.y4-u.y1)||(r.save(),r.globalAlpha=l,r.beginPath(),r.moveTo(Math.round(u.x1),Math.round(u.y1)),r.lineTo(Math.round(u.x2),Math.round(u.y2)),r.lineTo(Math.round(u.x3),Math.round(u.y3)),r.lineTo(Math.round(u.x4),Math.round(u.y4)),"undefined"!==u.x5&&(r.lineTo(Math.round(u.x5),Math.round(u.y5)),r.lineTo(Math.round(u.x6),Math.round(u.y6))),r.closePath(),r.fillStyle=a||u.color,r.fill(),r.globalAplha=1,r.restore())};E.prototype.renderFunnel=function(r){function f(){var ge,fe,Me,ct;if("inside"!==D.indexLabelPlacement)for(var Ce=0;Ce<De.length;Ce++)0==ce[Ce].textBlock.text.length?ce[Ce].isDirty=!0:(Me=typeof(ge=De[Ce]).x5<"u"?(ge.y2+ge.y4)/2:(ge.y2+ge.y3)/2,fe=D.reversed?typeof ge.x5<"u"&&Me>at?d(Me).x2+1:(ge.x2+ge.x3)/2+1:typeof ge.x5<"u"?Me<at?d(Me).x2+1:(ge.x4+ge.x3)/2+1:(ge.x2+ge.x3)/2+1,ce[Ce].textBlock.x=fe+Ee,ce[Ce].textBlock.y=Me-ce[Ce].height/2,D.reversed?(ce[Ce].textBlock.y+ce[Ce].height>ft+B&&(ce[Ce].textBlock.y=ft+B-ce[Ce].height),ce[Ce].textBlock.y<ht-B&&(ce[Ce].textBlock.y=ht-B)):(ce[Ce].textBlock.y<ft-B&&(ce[Ce].textBlock.y=ft-B),ce[Ce].textBlock.y+ce[Ce].height>ht+B&&(ce[Ce].textBlock.y=ht+B-ce[Ce].height)));else for(Ce=0;Ce<De.length;Ce++)0==ce[Ce].textBlock.text.length?ce[Ce].isDirty=!0:(ct=ce[Ce].width,(fe=(ge=De[Ce]).height)>=(Me=ce[Ce].height)?(Me=Ce!=Si?(ge.y1+ge.y3)/2-Me/2:(ge.y1+ge.y4)/2-Me/2,ce[Ce].textBlock.x=fe=Ce!=Si?(ge.x4+ge.x3)/2-ct/2:(ge.x5+ge.x4)/2-ct/2,ce[Ce].textBlock.y=Me):ce[Ce].isDirty=!0)}function M(ge,fe){return(fe<De.length?ce[fe].textBlock.y:D.reversed?ft+B:ht+B)-(0>ge?D.reversed?ht-B:ft-B:ce[ge].textBlock.y+ce[ge].height+mn)}function C(ge,fe,Me){var ct,Ce,Qe,Di=[],zt=B,Te=[];if(-1!==fe&&(0<=qt.indexOf(fe)?(Ce=qt.indexOf(fe),qt.splice(Ce,1)):(qt.push(fe),qt=qt.sort(function(Ft,Ae){return Ft-Ae}))),0===qt.length)Di=Mi;else{Ce=B*(1!=qt.length||0!=qt[0]&&qt[0]!=De.length-1?2:1)/function x(){for(var ge=0,fe=0;fe<De.length-1;fe++)(0<=qt.indexOf(fe)||0<=qt.indexOf(fe+1))&&ge++;return ge}();for(var Ut=0;Ut<De.length;Ut++){if(1==qt.length&&0==qt[0]){if(0===Ut){Di.push(Mi[Ut]),ct=zt;continue}}else 0===Ut&&(ct=-1*zt);Di.push(Mi[Ut]+ct),(0<=qt.indexOf(Ut)||Ut<De.length&&0<=qt.indexOf(Ut+1))&&(ct+=Ce)}}Qe=function(){for(var Ft=[],Ae=0;Ae<De.length;Ae++)Ft.push(Di[Ae]-De[Ae].y1);return Ft}(),(new Date).getTime();ge._animator.animate(0,Me,function(Ft){var Ae=ge.plotArea.ctx||ge.ctx;br=!0,Ae.clearRect(F.x1,F.y1,F.x2-F.x1,F.y2-F.y1),Ae.fillStyle=ge.backgroundColor,Ae.fillRect(F.x1,F.y1,F.width,F.height),function(Ft){for(var Ae,ke,Pe=0;Pe<De.length;Pe++)Ae=Qe[Pe],ke=De[Pe],Ae*=Ft,typeof Te[Pe]>"u"&&(Te[Pe]=0),0>Te&&(Te*=-1),ke.y1+=Ae-Te[Pe],ke.y2+=Ae-Te[Pe],ke.y3+=Ae-Te[Pe],ke.y4+=Ae-Te[Pe],ke.y5&&(ke.y5+=Ae-Te[Pe],ke.y6+=Ae-Te[Pe]),Te[Pe]=Ae}(Ft);var ke={};for(ke.dataSeries=D,ke.dataPoint=D.reversed?D.dataPoints[L.length-1-fe]:D.dataPoints[fe],ke.index=D.reversed?L.length-1-fe:fe,ge.toolTip.highlightObjects([ke]),ke=0;ke<De.length;ke++)_i(Ae,De[ke],D.fillOpacity);P(Ae),Q&&("inside"!==D.indexLabelPlacement?g(Ae):f(),w(Ae)),1<=Ft&&(br=!1)},null,we.easing.easeOutQuart)}function g(ge){for(var fe,Me,ct,Ce,Qe=0;Qe<De.length;Qe++)fe=d(Me=((De[Qe].y2+De[Qe].y4)/2<<0)+(Ce=ce[Qe].lineThickness%2==1?.5:0)).x2-1,ct=ce[Qe].textBlock.x,Ce=(ce[Qe].textBlock.y+ce[Qe].height/2<<0)+Ce,ce[Qe].isDirty||0==ce[Qe].lineThickness||(ge.strokeStyle=ce[Qe].lineColor,ge.lineWidth=ce[Qe].lineThickness,ge.setLineDash&&ge.setLineDash($e(ce[Qe].lineDashType,ce[Qe].lineThickness)),ge.beginPath(),ge.moveTo(fe,Me),ge.lineTo(ct,Ce),ge.stroke())}function v(ge){for(ge-=1;-1<=ge&&-1!=ge&&ce[ge].isDirty;ge--);return ge}function b(ge){for(ge+=1;ge<=De.length&&ge!=De.length&&ce[ge].isDirty;ge++);return ge}function d(ge){for(var fe,Me=0;Me<L.length;Me++)if(De[Me].y1<ge&&De[Me].y4>ge){fe=De[Me];break}return fe?{x1:ge=fe.y6&&ge>fe.y6?fe.x3+(fe.x4-fe.x3)/(fe.y4-fe.y3)*(ge-fe.y3):fe.x2+(fe.x3-fe.x2)/(fe.y3-fe.y2)*(ge-fe.y2),x2:ge}:-1}function w(ge){for(var fe=0;fe<De.length;fe++)ce[fe].isDirty||(ge&&(ce[fe].textBlock.ctx=ge),ce[fe].textBlock.y+=ce[fe].textBlock._lineHeight/2,ce[fe].textBlock.render(!0),ce[fe].textBlock.y-=ce[fe].textBlock._lineHeight/2)}function P(ge){if(k.plotArea.layoutManager.reset(),ge.roundRect||Dn(ge),k.title&&(k.title.dockInsidePlotArea||"center"===k.title.horizontalAlign&&"center"===k.title.verticalAlign)&&(k.title.ctx=ge,k.title.render()),k.subtitles)for(var fe=0;fe<k.subtitles.length;fe++){var Me=k.subtitles[fe];(Me.dockInsidePlotArea||"center"===Me.horizontalAlign&&"center"===Me.verticalAlign)&&(k.subtitles.ctx=ge,Me.render())}k.legend&&(k.legend.dockInsidePlotArea||"center"===k.legend.horizontalAlign&&"center"===k.legend.verticalAlign)&&(k.legend.ctx=ge,k.legend.setLayout(),k.legend.render()),Ni.fNg&&Ni.fNg(k)}var k=this;if(!(0>=r.dataSeriesIndexes.length)){for(var D=this.data[r.dataSeriesIndexes[0]],L=D.dataPoints,F=this.plotArea,B=.025*F.width,j=.01*F.width,W=0,ie=F.height-2*B,le=Math.min(F.width-2*j,2.8*F.height),Q=!1,G=0;G<L.length;G++)!Q&&typeof L[G].indexLabel<"u"&&null!==L[G].indexLabel&&0<L[G].indexLabel.toString().length&&(Q=!0),!Q&&typeof L[G].label<"u"&&null!==L[G].label&&0<L[G].label.toString().length&&(Q=!0),(!Q&&"function"==typeof D.indexLabelFormatter||"function"==typeof L[G].indexLabelFormatter)&&(Q=!0);Q=Q||typeof D.indexLabel<"u"&&null!==D.indexLabel&&0<D.indexLabel.toString().length,"inside"!==D.indexLabelPlacement&&Q||(j=(F.width-.75*le)/2),G=F.x1+j;var K=F.x2-j,$=F.y1+B,z=F.y2-B,ne=r.targetCanvasCtx||this.plotArea.ctx||this.ctx;if(0!=D.length&&D.dataPoints&&D.visible&&0!==L.length){var se,H,Ee=30*(K-(r=75*le/100))/100;"funnel"===D.type?(se=V(D.options.neckHeight)?.35*ie:D.neckHeight,H=V(D.options.neckWidth)?.25*r:D.neckWidth,se="string"==typeof se&&se.match(/%$/)?(se=parseInt(se))*ie/100:parseInt(se),H="string"==typeof H&&H.match(/%$/)?(H=parseInt(H))*r/100:parseInt(H),se>ie?se=ie:0>=se&&(se=0),H>r?H=r-.5:0>=H&&(H=0)):"pyramid"===D.type&&(H=se=0,D.reversed=!D.reversed);var tt=G,_t=G+r,ft=D.reversed?z:$,de=(j=G+r/2)-H/2,Wt=j+H/2,at=D.reversed?$+se:z-se,ht=D.reversed?$:z;r=[],j=[];var Si,De=[],he=(le=[],$),Ne=(at-ft)/(de-tt),yt=-Ne;if(-1!==(G="area"===(D.valueRepresents?D.valueRepresents:"height")?function l(){var Ce,Qe,ge=tt,fe=_t,Me=de,ct=Wt;Ce=$,Qe=z-se,ct=Math.abs((Qe-Ce)*(fe-ge+(ct-Me))/2),Ce=Qe-Ce,Qe=(Me=Wt-de)*(Qe-z),Qe=ct+(Qe=Math.abs(Qe)),ct=[];for(var Di=0,zt=0;zt<L.length;zt++){if(typeof L[zt].y>"u")return-1;L[zt].y="number"==typeof L[zt].y?L[zt].y:0,Di+=Math.abs(L[zt].y)}if(0===Di)return-1;var Ut,ri,Ft=ct[0]=0,Te=0;for(fe-=ge,Ft=!1,zt=0;zt<L.length;zt++)ge=Math.abs(L[zt].y)*Qe/Di,Ft?Ut=0==Number(Me.toFixed(3))?0:ge/Me:0>(ri=Ne*Ne*fe*fe-4*Math.abs(Ne)*ge)?(ge-=Ft=(fe+(ri=Me))*(Ce-Te)/2,Ut=Ce-Te,Te+=Ce-Te,Ut+=0==ri?0:ge/ri,Te+=ge/ri,Ft=!0):(ri=fe-2*(Ut=(Math.abs(Ne)*fe-Math.sqrt(ri))/2)/Math.abs(Ne),(Te+=Ut)>Ce&&(Ft=(fe+(ri=Me))*(Ce-(Te-=Ut))/2,Ut=Ce-Te,Te+=Ce-Te,Ut+=(ge-=Ft)/ri,Te+=ge/ri,Ft=!0),fe=ri),ct.push(Ut);return ct}():function u(){for(var ge=0,fe=[],Me=0;Me<L.length;Me++){if(typeof L[Me].y>"u")return-1;L[Me].y="number"==typeof L[Me].y?L[Me].y:0,ge+=Math.abs(L[Me].y)}if(0===ge)return-1;for(Me=fe[0]=0;Me<L.length;Me++)fe.push(Math.abs(L[Me].y)*ie/ge);return fe}())){if(D.reversed)for(le.push(he),H=G.length-1;0<H;H--)le.push(he+=G[H]);else for(H=0;H<G.length;H++)le.push(he+=G[H]);if(D.reversed)for(H=0;H<G.length;H++)le[H]<at?(r.push(de),j.push(Wt),Si=H):(r.push((le[H]-ft+Ne*tt)/Ne),j.push((le[H]-ft+yt*_t)/yt));else for(H=0;H<G.length;H++)le[H]<at?(r.push((le[H]-ft+Ne*tt)/Ne),j.push((le[H]-ft+yt*_t)/yt),Si=H):(r.push(de),j.push(Wt));for(H=0;H<G.length-1;H++)he=D.reversed?L[L.length-1-H].color?L[L.length-1-H].color:D._colorSet[(L.length-1-H)%D._colorSet.length]:L[H].color?L[H].color:D._colorSet[H%D._colorSet.length],De.push(H===Si?{x1:r[H],y1:le[H],x2:j[H],y2:le[H],x3:Wt,y3:at,x4:j[H+1],y4:le[H+1],x5:r[H+1],y5:le[H+1],x6:de,y6:at,id:H,height:le[H+1]-le[H],color:he}:{x1:r[H],y1:le[H],x2:j[H],y2:le[H],x3:j[H+1],y3:le[H+1],x4:r[H+1],y4:le[H+1],id:H,height:le[H+1]-le[H],color:he});var mn=2,ce=[],br=!1,qt=[],Mi=[];for(G=!1,r=r=0,an(qt),H=0;H<L.length;H++)L[H].exploded&&(G=!0,qt.push(D.reversed?L.length-1-H:H));if(ne.clearRect(F.x1,F.y1,F.width,F.height),ne.fillStyle=k.backgroundColor,ne.fillRect(F.x1,F.y1,F.width,F.height),Q&&D.visible&&(function a(){if(D&&L){for(var ge,fe,Me,ct,Ce,Qe,Di,zt,Te,Ut,ri,Ft,Ae,ke,Pe,wt=[],Pi=[],Ie={percent:null,total:null},ki=null,Be=0;Be<L.length;Be++)Pe=d(Pe=typeof(Pe=De[Be]).x5<"u"?(Pe.y2+Pe.y4)/2:(Pe.y2+Pe.y3)/2).x2+1,wt[Be]=K-Pe-Ee;Pe=.5*Ee,Be=0;for(var oi=L.length-1;Be<L.length||0<=oi;Be++,oi--)ge=(fe=D.reversed?L[oi]:L[Be]).color?fe.color:D.reversed?D._colorSet[(L.length-1-Be)%D._colorSet.length]:D._colorSet[Be%D._colorSet.length],Me=fe.indexLabelPlacement||D.indexLabelPlacement||"outside",ke=fe.indexLabelTextAlign||D.indexLabelTextAlign||"left",ct=fe.indexLabelBackgroundColor||D.indexLabelBackgroundColor||(Y?"transparent":null),Ce=fe.indexLabelFontColor||D.indexLabelFontColor||"#979797",Qe=V(fe.indexLabelFontSize)?D.indexLabelFontSize:fe.indexLabelFontSize,Di=fe.indexLabelFontStyle||D.indexLabelFontStyle||"normal",zt=fe.indexLabelFontFamily||D.indexLabelFontFamily||"arial",Te=fe.indexLabelFontWeight||D.indexLabelFontWeight||"normal",ge=fe.indexLabelLineColor||D.options.indexLabelLineColor||ge,Ut="number"==typeof fe.indexLabelLineThickness?fe.indexLabelLineThickness:"number"==typeof D.indexLabelLineThickness?D.indexLabelLineThickness:2,ri=fe.indexLabelLineDashType||D.indexLabelLineDashType||"solid",Ft=typeof fe.indexLabelWrap<"u"?fe.indexLabelWrap:!(typeof D.indexLabelWrap<"u")||D.indexLabelWrap,k._eventManager.objectMap[Ae=D.dataPointIds[Be]]={id:Ae,objectType:"dataPoint",dataPointIndex:Be,dataSeriesIndex:0,funnelSection:De[D.reversed?L.length-1-Be:Be]},"inside"===D.indexLabelPlacement&&(wt[Be]=Be!==Si?D.reversed?De[Be].x2-De[Be].x1:De[Be].x3-De[Be].x4:De[Be].x3-De[Be].x6,20>wt[Be]&&(wt[Be]=Be!==Si&&D.reversed?De[Be].x3-De[Be].x4:De[Be].x2-De[Be].x1,wt[Be]/=2)),((Ae=fe.indexLabelMaxWidth?fe.indexLabelMaxWidth:D.options.indexLabelMaxWidth?D.indexLabelMaxWidth:wt[Be])>wt[Be]||0>Ae)&&(Ae=wt[Be]),Pi[Be]="inside"===D.indexLabelPlacement&&(Ft?Math.max(De[Be].height,Qe):1.5*Qe),Ie=k.getPercentAndTotal(D,fe),(D.indexLabelFormatter||fe.indexLabelFormatter)&&(ki={chart:k.options,dataSeries:D,dataPoint:fe,total:Ie.total,percent:Ie.percent}),fe=fe.indexLabelFormatter?fe.indexLabelFormatter(ki):fe.indexLabel?k.replaceKeywordsWithValue(fe.indexLabel,fe,D,Be):D.indexLabelFormatter?D.indexLabelFormatter(ki):D.indexLabel?k.replaceKeywordsWithValue(D.indexLabel,fe,D,Be):fe.label?fe.label:"",0>=Ut&&(Ut=0),1e3>Ae&&1e3-Ae<Pe&&(Ae+=1e3-Ae),ne.roundRect||Dn(ne),(Me=new Ze(ne,{fontSize:Qe,fontFamily:zt,fontColor:Ce,fontStyle:Di,fontWeight:Te,horizontalAlign:Me,textAlign:ke,backgroundColor:ct,maxWidth:Ae,maxHeight:!1===Pi[Be]?Ft?4.28571429*Qe:1.5*Qe:Pi[Be],text:fe,padding:mn,textBaseline:"middle"})).measureText(),Me.height=Me.height===2*Me.padding?0:Me.height,Me.width=Me.width===2*Me.padding?0:Me.width,ce.push({textBlock:Me,id:D.reversed?oi:Be,isDirty:!1,lineColor:ge,lineThickness:Ut,lineDashType:ri,height:Me.height<Me.maxHeight?Me.height:Me.maxHeight,width:Me.width<Me.maxWidth?Me.width:Me.maxWidth})}}(),f(),"inside"!==D.indexLabelPlacement)){for(function c(){var ge,fe,Me,ct,Ce,Qe=[];Ce=!1,Me=0;for(var Di,zt=K-_t-Ee/2,Te=(zt=D.options.indexLabelMaxWidth?D.indexLabelMaxWidth>zt?zt:D.indexLabelMaxWidth:zt,ce.length-1);0<=Te;Te--)Di=L[ce[Te].id],ct=(Me=ce[Te]).textBlock,fe=(ge=b(Te)<De.length?ce[b(Te)]:null)?ge.textBlock:null,Me=Me.height,ge&&ct.y+Me+mn>fe.y&&(Ce=!0),((Me=Di.indexLabelMaxWidth||zt)>zt||0>Me)&&(Me=zt),Qe.push(Me);if(Ce)for(Te=ce.length-1;0<=Te;Te--)ge=De[Te],ce[Te].textBlock.maxWidth=Qe[Qe.length-(Te+1)],ce[Te].textBlock.measureText(),ce[Te].textBlock.height=ce[Te].textBlock.height===2*ce[Te].textBlock.padding?0:ce[Te].textBlock.height,ce[Te].textBlock.width=ce[Te].textBlock.width===2*ce[Te].textBlock.padding?0:ce[Te].textBlock.width,ce[Te].textBlock.x=K-zt,Ce=ce[Te].textBlock.width<ce[Te].textBlock.maxWidth?ce[Te].textBlock.width:ce[Te].textBlock.maxWidth,ce[Te].height=Me=ce[Te].textBlock.height<ce[Te].textBlock.maxHeight?ce[Te].textBlock.height:ce[Te].textBlock.maxHeight,ce[Te].width=Ce,ce[Te].textBlock.y=(Me=typeof ge.x5<"u"?(ge.y2+ge.y4)/2:(ge.y2+ge.y3)/2)-ce[Te].height/2,D.reversed?(ce[Te].textBlock.y+ce[Te].height>ft+B&&(ce[Te].textBlock.y=ft+B-ce[Te].height),ce[Te].textBlock.y<ht-B&&(ce[Te].textBlock.y=ht-B)):(ce[Te].textBlock.y<ft-B&&(ce[Te].textBlock.y=ft-B),ce[Te].textBlock.y+ce[Te].height>ht+B&&(ce[Te].textBlock.y=ht+B-ce[Te].height))}(),function m(){function ge(Ae,ke){var Pe;if(0>Ae||Ae>=ce.length)return 0;var wt,Pi=ce[Ae].textBlock;return 0>ke?(ke*=-1,(Pe=M(wt=v(Ae),Ae))>=ke?(Pi.y-=ke,ke):0==Ae?(0<Pe&&(Pi.y-=Pe),Pe):(0<(Pe+=ge(wt,-(ke-Pe)))&&(Pi.y-=Pe),Pe)):(Pe=M(Ae,wt=b(Ae)))>=ke?(Pi.y+=ke,ke):Ae==De.length-1?(0<Pe&&(Pi.y+=Pe),Pe):(0<(Pe+=ge(wt,ke-Pe))&&(Pi.y+=Pe),Pe)}function fe(){var Ae,ke,Pe,wt,Ie,Pi=0;wt=(z-$+2*B)/Ut,Ie=Ut;for(var ki,Be=1;Be<Ie;Be++){Pe=Be*wt;for(var oi=ce.length-1;0<=oi;oi--)!ce[oi].isDirty&&ce[oi].textBlock.y<Pe&&ce[oi].textBlock.y+ce[oi].height>Pe&&!((ki=b(oi))>=ce.length-1)&&ce[oi].textBlock.y+ce[oi].height+mn>ce[ki].textBlock.y&&(ce[oi].textBlock.y=ce[oi].textBlock.y+ce[oi].height-Pe>Pe-ce[oi].textBlock.y?Pe+1:Pe-ce[oi].height-1)}for(ki=De.length-1;0<ki;ki--)if(!ce[ki].isDirty){if(0>(Pe=v(ki))&&ce[Pe=0].isDirty)break;if(ce[ki].textBlock.y<ce[Pe].textBlock.y+ce[Pe].height){for(ke=ke||ki,wt=ki,Ie=0;ce[wt].textBlock.y<ce[Pe].textBlock.y+ce[Pe].height+mn;){if(Ae=Ae||ce[wt].textBlock.y+ce[wt].height,Ie+=ce[wt].height,Ie+=mn,0>=(wt=Pe)){Ie+=ce[wt=0].height;break}if(0>(Pe=v(wt))){Ie+=ce[wt=0].height;break}}if(wt!=ki){Pi=Me(Ae=Ie-(Ae-=Pi=ce[wt].textBlock.y),ke,wt);break}}}return Pi}function Me(Ae,ke,Pe){var wt=[],Pi=0,Ie=0;for(Ae=Math.abs(Ae);Pe<=ke;Pe++)wt.push(De[Pe]);for(wt.sort(function(ki,Be){return ki.height-Be.height}),Pe=0;Pe<wt.length&&(ke=wt[Pe],Pi<Ae);Pe++)Ie++,Pi+=ce[ke.id].height+mn,ce[ke.id].textBlock.text="",ce[ke.id].indexLabelText="",ce[ke.id].isDirty=!0,ce[ke.id].textBlock.measureText();return Ie}for(var ct,Ce,Qe,Di,zt,Te,Ut=1,ri=0;ri<2*Ut;ri++){for(var Ft=ce.length-1;0<=Ft&&(0<=v(Ft)&&v(Ft),Di=(Qe=ce[Ft]).textBlock,Te=(zt=b(Ft)<De.length?ce[b(Ft)]:null)?zt.textBlock:null,ct=+Qe.height.toFixed(6),Ce=+Di.y.toFixed(6),!(!Qe.isDirty&&zt&&Ce+ct+mn>+Te.y.toFixed(6)&&(ct=Di.y+ct+mn-Te.y,Ce=ge(Ft,-ct),Ce<ct&&(0<Ce&&(ct-=Ce),Ce=ge(b(Ft),ct),Ce!=ct))));Ft--);fe()}}(),H=0;H<L.length;H++)ce[H].isDirty||(r=(K-(r=ce[H].textBlock.x+ce[H].width))/2,0==H&&(W=r),W>r&&(W=r));for(H=0;H<De.length;H++)De[H].x1+=W,De[H].x2+=W,De[H].x3+=W,De[H].x4+=W,De[H].x5&&(De[H].x5+=W,De[H].x6+=W),ce[H].textBlock.x+=W}for(H=0;H<De.length;H++)_i(ne,W=De[H],D.fillOpacity),Mi.push(W.y1);if(P(ne),Q&&D.visible&&("inside"===D.indexLabelPlacement||k.animationEnabled||g(ne),k.animationEnabled||w()),!Q)for(H=0;H<L.length;H++)k._eventManager.objectMap[W=D.dataPointIds[H]]=r={id:W,objectType:"dataPoint",dataPointIndex:H,dataSeriesIndex:0,funnelSection:De[D.reversed?L.length-1-H:H]};return(!k.animationEnabled&&G||k.animationEnabled&&!k.animatedRender)&&C(k,-1,0),this.funnelPyramidClickHandler=function(Ce){var Qe=-1;!br&&!k.isAnimating&&(V(Ce.dataSeries.explodeOnClick)||Ce.dataSeries.explodeOnClick)&&0<=(Qe=D.reversed?L.length-1-Ce.dataPointIndex:Ce.dataPointIndex)&&(Ce=Qe,("funnel"===D.type||"pyramid"===D.type)&&(D.reversed?L[L.length-1-Ce].exploded=!L[L.length-1-Ce].exploded:L[Ce].exploded=!L[Ce].exploded),C(k,Qe,500))},{source:ne,dest:this.plotArea.ctx,animationCallback:function(Ce,Qe){we.fadeInAnimation(Ce,Qe),1<=Ce&&(C(k,-1,500),P(k.plotArea.ctx||k.ctx))},easingFunction:we.easing.easeInQuad,animationBase:0}}}}},E.prototype.requestAnimFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(r){window.setTimeout(r,1e3/60)},E.prototype.cancelRequestAnimFrame=window.cancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.mozCancelRequestAnimationFrame||window.oCancelRequestAnimationFrame||window.msCancelRequestAnimationFrame||clearTimeout,E.prototype.set=function(r,u,l){l=typeof l>"u"||l,"options"===r?(this.options=u,l&&this.render()):E.base.set.call(this,r,u,l)},E.prototype.exportChart=function(r){var u=(r=typeof r>"u"?{}:r).format?r.format:"png",l=r.fileName?r.fileName:this.exportFileName;if(r.toDataURL)return this.canvas.toDataURL("image/"+u);if((a=this.canvas)&&u&&l){l=l+"."+u;var a=a.toDataURL(r="image/"+u),c=!1,f=document.createElement("a");if(f.download=l,f.href=a,typeof Blob<"u"&&new Blob){for(var m=a.replace(/^data:[a-z\/]*;base64,/,""),M=(m=atob(m),new ArrayBuffer(m.length)),C=(M=new Uint8Array(M),0);C<m.length;C++)M[C]=m.charCodeAt(C);u=new Blob([M.buffer],{type:"image/"+u});try{window.navigator.msSaveBlob(u,l),c=!0}catch{f.dataset.downloadurl=[r,f.download,f.href].join(":"),f.href=window.URL.createObjectURL(u)}}if(!c)try{event=document.createEvent("MouseEvents"),event.initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null),f.dispatchEvent?f.dispatchEvent(event):f.fireEvent&&f.fireEvent("onclick")}catch{(u=window.open()).document.write("<img src='"+a+"'></img><div>Please right click on the image and save it to your device</div>"),u.document.close()}}},E.prototype.print=function(){var r=this.exportChart({toDataURL:!0}),u=document.createElement("iframe");u.setAttribute("class","canvasjs-chart-print-frame"),kt(u,{position:"absolute",width:"100%",border:"0px",margin:"0px 0px 0px 0px",padding:"0px 0px 0px 0px"}),u.style.height=this.height+"px",this._canvasJSContainer.appendChild(u);var l=this,a=u.contentWindow||u.contentDocument.document||u.contentDocument;a.document.open(),a.document.write('<!DOCTYPE HTML>\n<html><body><img src="'+r+'"/><body/></html>'),a.document.body&&a.document.body.style&&(a.document.body.style.margin="0px 0px 0px 0px",a.document.body.style.padding="0px 0px 0px 0px"),a.document.close(),setTimeout(function(){a.focus(),a.print(),setTimeout(function(){l._canvasJSContainer.removeChild(u)},1e3)},500)},E.prototype.getPercentAndTotal=function(r,u){var l=null,a=null,c=l=null;if(0<=r.type.indexOf("stacked"))a=0,(l=u.x.getTime?u.x.getTime():u.x)in r.plotUnit.yTotals&&(a=r.plotUnit.yTotals[l],l=r.plotUnit.yAbsTotals[l],c=isNaN(u.y)||0===l?0:u.y/l*100);else if("pie"===r.type||"doughnut"===r.type||"funnel"===r.type||"pyramid"===r.type){for(l=a=0;l<r.dataPoints.length;l++)isNaN(r.dataPoints[l].y)||(a+=r.dataPoints[l].y);c=isNaN(u.y)?0:u.y/a*100}return{percent:c,total:a}},E.prototype.replaceKeywordsWithValue=function(r,u,l,a,c){var f=this;if(c=typeof c>"u"?0:c,(0<=l.type.indexOf("stacked")||"pie"===l.type||"doughnut"===l.type||"funnel"===l.type||"pyramid"===l.type)&&(0<=r.indexOf("#percent")||0<=r.indexOf("#total"))){var C="#percent",M="#total",m=this.getPercentAndTotal(l,u);M=isNaN(m.total)?M:m.total,C=isNaN(m.percent)?C:m.percent;do{if(m="",l.percentFormatString)m=l.percentFormatString;else{m="#,##0.";var x=Math.max(Math.ceil(Math.log(1/Math.abs(C))/Math.LN10),2);(isNaN(x)||!isFinite(x))&&(x=2);for(var g=0;g<x;g++)m+="#";l.percentFormatString=m}r=(r=r.replace("#percent",ii(C,m,f._cultureInfo))).replace("#total",ii(M,l.yValueFormatString?l.yValueFormatString:"#,##0.########",f._cultureInfo))}while(0<=r.indexOf("#percent")||0<=r.indexOf("#total"))}return r.replace(/\{.*?\}|"[^"]*"|'[^']*'/g,function(v){if('"'===v[0]&&'"'===v[v.length-1]||"'"===v[0]&&"'"===v[v.length-1])return v.slice(1,v.length-1);v=(v=os(v.slice(1,v.length-1))).replace("#index",c);var b=null;try{var d=v.match(/(.*?)\s*\[\s*(.*?)\s*\]/);d&&0<d.length&&(b=os(d[2]),v=os(d[1]))}catch{}if(d=null,"color"===v)return"waterfall"===l.type?u.color?u.color:0<u.y?l.risingColor:l.fallingColor:"error"===l.type?l.color?l.color:l._colorSet[b%l._colorSet.length]:u.color?u.color:l.color?l.color:l._colorSet[a%l._colorSet.length];if(u.hasOwnProperty(v))d=u;else{if(!l.hasOwnProperty(v))return"";d=l}return d=d[v],null!==b&&(d=d[b]),"x"===v?(l.axisX&&"dateTime"===l.axisX.valueType||"dateTime"===l.xValueType||u.x&&u.x.getTime)&&!l.axisX.logarithmic?cs(d,u.xValueFormatString?u.xValueFormatString:l.xValueFormatString?l.xValueFormatString:l.xValueFormatString=f.axisX&&f.axisX.autoValueFormatString?f.axisX.autoValueFormatString:"DD MMM YY",f._cultureInfo):ii(d,u.xValueFormatString?u.xValueFormatString:l.xValueFormatString?l.xValueFormatString:l.xValueFormatString="#,##0.########",f._cultureInfo):"y"===v?ii(d,u.yValueFormatString?u.yValueFormatString:l.yValueFormatString?l.yValueFormatString:l.yValueFormatString="#,##0.########",f._cultureInfo):"z"===v?ii(d,u.zValueFormatString?u.zValueFormatString:l.zValueFormatString?l.zValueFormatString:l.zValueFormatString="#,##0.########",f._cultureInfo):d})},xi(ve,Bt),ve.prototype.setLayout=function(){var r=this.dockInsidePlotArea?this.chart.plotArea:this.chart,u=r.layoutManager.getFreeSpace(),l=null,a=0,c=0,f=0,m=0,M=this.markerMargin=this.chart.options.legend&&!V(this.chart.options.legend.markerMargin)?this.chart.options.legend.markerMargin:.3*this.fontSize;this.height=0;var C=[],x=[];"top"===this.verticalAlign||"bottom"===this.verticalAlign?(this.orientation="horizontal",l=this.verticalAlign,f=this.maxWidth=null!==this.maxWidth?this.maxWidth:u.width,m=this.maxHeight=null!==this.maxHeight?this.maxHeight:.5*u.height):"center"===this.verticalAlign&&(this.orientation="vertical",("left"===this.horizontalAlign||"center"===this.horizontalAlign||"right"===this.horizontalAlign)&&(l=this.horizontalAlign),f=this.maxWidth=null!==this.maxWidth?this.maxWidth:.5*u.width,m=this.maxHeight=null!==this.maxHeight?this.maxHeight:u.height),this.errorMarkerColor=[];for(var g=0;g<this.dataSeries.length;g++){var v=this.dataSeries[g];if(v.dataPoints&&v.dataPoints.length)if("pie"!==v.type&&"doughnut"!==v.type&&"funnel"!==v.type&&"pyramid"!==v.type){var b=v.legendMarkerType=v.legendMarkerType?v.legendMarkerType:"line"!==v.type&&"stepLine"!==v.type&&"spline"!==v.type&&"scatter"!==v.type&&"bubble"!==v.type||!v.markerType?"error"===v.type&&v._linkedSeries?v._linkedSeries.legendMarkerType?v._linkedSeries.legendMarkerType:_e.getDefaultLegendMarker(v._linkedSeries.type):_e.getDefaultLegendMarker(v.type):v.markerType,d=v.legendText?v.legendText:this.itemTextFormatter?this.itemTextFormatter({chart:this.chart,legend:this.options,dataSeries:v,dataPoint:null}):v.name,w=v.legendMarkerColor=v.legendMarkerColor?v.legendMarkerColor:v.markerColor?v.markerColor:"error"===v.type?V(v.whiskerColor)?v._colorSet[0]:v.whiskerColor:v._colorSet[0],P=v.markerSize||"line"!==v.type&&"stepLine"!==v.type&&"spline"!==v.type?.75*this.lineHeight:0,k=v.legendMarkerBorderColor?v.legendMarkerBorderColor:v.markerBorderColor,D=v.legendMarkerBorderThickness?v.legendMarkerBorderThickness:v.markerBorderThickness?Math.max(1,Math.round(.2*P)):0;"error"===v.type&&this.errorMarkerColor.push(w),d=this.chart.replaceKeywordsWithValue(d,v.dataPoints[0],v,g),C.push(b={markerType:b,markerColor:w,text:d,textBlock:null,chartType:v.type,markerSize:P,lineColor:v._colorSet[0],dataSeriesIndex:v.index,dataPointIndex:null,markerBorderColor:k,markerBorderThickness:D})}else for(var L=0;L<v.dataPoints.length;L++){var F=v.dataPoints[L];b=F.legendMarkerType?F.legendMarkerType:v.legendMarkerType?v.legendMarkerType:_e.getDefaultLegendMarker(v.type),d=F.legendText?F.legendText:v.legendText?v.legendText:this.itemTextFormatter?this.itemTextFormatter({chart:this.chart,legend:this.options,dataSeries:v,dataPoint:F}):F.name?F.name:"DataPoint: "+(L+1),w=F.legendMarkerColor?F.legendMarkerColor:v.legendMarkerColor?v.legendMarkerColor:F.color?F.color:v.color?v.color:v._colorSet[L%v._colorSet.length],P=.75*this.lineHeight,k=F.legendMarkerBorderColor?F.legendMarkerBorderColor:v.legendMarkerBorderColor?v.legendMarkerBorderColor:F.markerBorderColor?F.markerBorderColor:v.markerBorderColor,D=F.legendMarkerBorderThickness?F.legendMarkerBorderThickness:v.legendMarkerBorderThickness?v.legendMarkerBorderThickness:F.markerBorderThickness||v.markerBorderThickness?Math.max(1,Math.round(.2*P)):0,b={markerType:b,markerColor:w,text:d=this.chart.replaceKeywordsWithValue(d,F,v,L),textBlock:null,chartType:v.type,markerSize:P,dataSeriesIndex:g,dataPointIndex:L,markerBorderColor:k,markerBorderThickness:D},(F.showInLegend||v.showInLegend&&!1!==F.showInLegend)&&C.push(b)}}if(!0===this.reversed&&C.reverse(),0<C.length){for(v=null,d=F=L=0,F=null!==this.itemWidth?null!==this.itemMaxWidth?Math.min(this.itemWidth,this.itemMaxWidth,f):this.itemMaxWidth=Math.min(this.itemWidth,f):null!==this.itemMaxWidth?Math.min(this.itemMaxWidth,f):this.itemMaxWidth=f,F=(this.itemMaxWidth?this.itemMaxWidth:F)-((P=0===P?.75*this.lineHeight:P)+M),g=0;g<C.length;g++)w=F,("line"===(b=C[g]).chartType||"spline"===b.chartType||"stepLine"===b.chartType)&&(w-=.2*this.lineHeight),0>=m||typeof m>"u"||0>=w||typeof w>"u"||("horizontal"===this.orientation?(b.textBlock=new Ze(this.ctx,{x:0,y:0,maxWidth:w,maxHeight:this.itemWrap?m:this.lineHeight,angle:0,text:b.text,horizontalAlign:"left",fontSize:this.fontSize,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontColor:this.fontColor,fontStyle:this.fontStyle,textBaseline:"middle"}),b.textBlock.measureText(),null!==this.itemWidth&&(b.textBlock.width=this.itemWidth-(P+M+("line"===b.chartType||"spline"===b.chartType||"stepLine"===b.chartType?.2*this.lineHeight:0))),(!v||v.width+Math.round(b.textBlock.width+P+M+(0===v.width?0:this.horizontalSpacing)+("line"===b.chartType||"spline"===b.chartType||"stepLine"===b.chartType?.2*this.lineHeight:0))>f)&&(x.push(v={items:[],width:0}),this.height+=d,d=0),d=Math.max(d,b.textBlock.height?b.textBlock.height:this.lineHeight),b.textBlock.x=v.width,b.textBlock.y=0,v.width+=Math.round(b.textBlock.width+P+M+(0===v.width?0:this.horizontalSpacing)+("line"===b.chartType||"spline"===b.chartType||"stepLine"===b.chartType?.2*this.lineHeight:0)),v.items.push(b),this.width=Math.max(v.width,this.width)):(b.textBlock=new Ze(this.ctx,{x:0,y:0,maxWidth:F,maxHeight:!0===this.itemWrap?m:1.5*this.fontSize,angle:0,text:b.text,horizontalAlign:"left",fontSize:this.fontSize,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontColor:this.fontColor,fontStyle:this.fontStyle,textBaseline:"middle"}),b.textBlock.measureText(),null!==this.itemWidth&&(b.textBlock.width=this.itemWidth-(P+M+("line"===b.chartType||"spline"===b.chartType||"stepLine"===b.chartType?.2*this.lineHeight:0))),this.height<m-this.lineHeight?x.push(v={items:[],width:0}):(v=x[L],L=(L+1)%x.length),v&&(this.height+=b.textBlock.height?b.textBlock.height:this.lineHeight,b.textBlock.x=v.width,b.textBlock.y=0,v.width+=Math.round(b.textBlock.width+P+M+(0===v.width?0:this.horizontalSpacing)+("line"===b.chartType||"spline"===b.chartType||"stepLine"===b.chartType?.2*this.lineHeight:0)),v.items.push(b),this.width=Math.max(v.width,this.width))));this.height=!1===this.itemWrap?x.length*this.lineHeight:this.height+d,this.height=Math.min(m,this.height),this.width=Math.min(f,this.width)}for("top"===this.verticalAlign?(c="left"===this.horizontalAlign?u.x1:"right"===this.horizontalAlign?u.x2-this.width:u.x1+u.width/2-this.width/2,a=u.y1):"center"===this.verticalAlign?(c="left"===this.horizontalAlign?u.x1:"right"===this.horizontalAlign?u.x2-this.width:u.x1+u.width/2-this.width/2,a=u.y1+u.height/2-this.height/2):"bottom"===this.verticalAlign&&(c="left"===this.horizontalAlign?u.x1:"right"===this.horizontalAlign?u.x2-this.width:u.x1+u.width/2-this.width/2,a=u.y2-this.height),this.items=C,g=0;g<this.items.length;g++)(b=C[g]).id=++this.chart._eventManager.lastObjectId,this.chart._eventManager.objectMap[b.id]={id:b.id,objectType:"legendItem",legendItemIndex:g,dataSeriesIndex:b.dataSeriesIndex,dataPointIndex:b.dataPointIndex};this.markerSize=P,this.rows=x,0<C.length&&r.layoutManager.registerSpace(l,{width:this.width+2+2,height:this.height+5+5}),this.bounds={x1:c,y1:a,x2:c+this.width,y2:a+this.height}},ve.prototype.render=function(){var r=this.bounds.x1,u=this.bounds.y1,l=this.markerMargin,a=this.maxWidth,c=this.maxHeight,f=this.markerSize,m=this.rows;(0<this.borderThickness&&this.borderColor||this.backgroundColor)&&this.ctx.roundRect(r,u,this.width,this.height,this.cornerRadius,this.borderThickness,this.backgroundColor,this.borderColor);for(var M=0,C=0;C<m.length;C++){for(var x=m[C],g=0,v=0;v<x.items.length;v++){var b=x.items[v],d=b.textBlock.x+r+(0===v?.2*f:this.horizontalSpacing),w=u+M,P=d;if(this.chart.data[b.dataSeriesIndex].visible||(this.ctx.globalAlpha=.5),this.ctx.save(),this.ctx.beginPath(),this.ctx.rect(r,u,a,Math.max(c-c%this.lineHeight,0)),this.ctx.clip(),("line"===b.chartType||"stepLine"===b.chartType||"spline"===b.chartType)&&(this.ctx.strokeStyle=b.lineColor,this.ctx.lineWidth=Math.ceil(this.lineHeight/8),this.ctx.beginPath(),this.ctx.moveTo(d-.1*this.lineHeight,w+this.lineHeight/2),this.ctx.lineTo(d+.85*this.lineHeight,w+this.lineHeight/2),this.ctx.stroke(),P-=.1*this.lineHeight),"error"===b.chartType){this.ctx.strokeStyle=this.errorMarkerColor[0],this.ctx.lineWidth=f/8,this.ctx.beginPath();var k=d-.08*this.lineHeight+.1*this.lineHeight,D=w+.15*this.lineHeight,L=.7*this.lineHeight,F=L+.02*this.lineHeight;this.ctx.moveTo(k,D),this.ctx.lineTo(k+L,D),this.ctx.stroke(),this.ctx.beginPath(),this.ctx.moveTo(k+L/2,D),this.ctx.lineTo(k+L/2,D+F),this.ctx.stroke(),this.ctx.beginPath(),this.ctx.moveTo(k,D+F),this.ctx.lineTo(k+L,D+F),this.ctx.stroke(),this.errorMarkerColor.shift()}Rt.drawMarker(d+f/2,w+this.lineHeight/2,this.ctx,b.markerType,"error"===b.chartType||"line"===b.chartType||"spline"===b.chartType?b.markerSize/2:b.markerSize,b.markerColor,b.markerBorderColor,b.markerBorderThickness),b.textBlock.x=d+l+f,("line"===b.chartType||"stepLine"===b.chartType||"spline"===b.chartType)&&(b.textBlock.x+=.1*this.lineHeight),b.textBlock.y=Math.round(w+this.lineHeight/2),b.textBlock.render(!0),this.ctx.restore(),g=0<v?Math.max(g,b.textBlock.height?b.textBlock.height:this.lineHeight):b.textBlock.height?b.textBlock.height:this.lineHeight,this.chart.data[b.dataSeriesIndex].visible||(this.ctx.globalAlpha=1),d=Xe(b.id),this.ghostCtx.fillStyle=d,this.ghostCtx.beginPath(),this.ghostCtx.fillRect(P,b.textBlock.y-this.lineHeight/2,b.textBlock.x+b.textBlock.width-P,b.textBlock.height?b.textBlock.height:this.lineHeight),b.x1=this.chart._eventManager.objectMap[b.id].x1=P,b.y1=this.chart._eventManager.objectMap[b.id].y1=b.textBlock.y-this.lineHeight/2,b.x2=this.chart._eventManager.objectMap[b.id].x2=b.textBlock.x+b.textBlock.width,b.y2=this.chart._eventManager.objectMap[b.id].y2=b.textBlock.y+(b.textBlock.height?b.textBlock.height:this.lineHeight)-this.lineHeight/2}M+=g}},xi(_e,Bt),_e.prototype.getDefaultAxisPlacement=function(){var r=this.type;return"column"===r||"line"===r||"stepLine"===r||"spline"===r||"area"===r||"stepArea"===r||"splineArea"===r||"stackedColumn"===r||"stackedLine"===r||"bubble"===r||"scatter"===r||"stackedArea"===r||"stackedColumn100"===r||"stackedLine100"===r||"stackedArea100"===r||"candlestick"===r||"ohlc"===r||"rangeColumn"===r||"rangeArea"===r||"rangeSplineArea"===r||"boxAndWhisker"===r||"waterfall"===r?"normal":"bar"===r||"stackedBar"===r||"stackedBar100"===r||"rangeBar"===r?"xySwapped":"pie"===r||"doughnut"===r||"funnel"===r||"pyramid"===r?"none":("error"!==r&&window.console.log("Unknown Chart Type: "+r),null)},_e.getDefaultLegendMarker=function(r){return"column"===r||"stackedColumn"===r||"stackedLine"===r||"bar"===r||"stackedBar"===r||"stackedBar100"===r||"bubble"===r||"scatter"===r||"stackedColumn100"===r||"stackedLine100"===r||"stepArea"===r||"candlestick"===r||"ohlc"===r||"rangeColumn"===r||"rangeBar"===r||"rangeArea"===r||"rangeSplineArea"===r||"boxAndWhisker"===r||"waterfall"===r?"square":"line"===r||"stepLine"===r||"spline"===r||"pie"===r||"doughnut"===r?"circle":"area"===r||"splineArea"===r||"stackedArea"===r||"stackedArea100"===r||"funnel"===r||"pyramid"===r?"triangle":"error"===r?"none":(window.console.log("Unknown Chart Type: "+r),null)},_e.prototype.getDataPointAtX=function(r,u){if(!this.dataPoints||0===this.dataPoints.length)return null;var l={dataPoint:null,distance:1/0,index:NaN},a=null,c=0,f=0,m=1,M=1/0,C=0,x=0,g=0;for("none"!==this.chart.plotInfo.axisPlacement&&(g=this.axisX.logarithmic?1<(g=Math.log(this.dataPoints[this.dataPoints.length-1].x/this.dataPoints[0].x))?Math.min(Math.max((this.dataPoints.length-1)/g*Math.log(r/this.dataPoints[0].x)>>0,0),this.dataPoints.length):0:0<(g=this.dataPoints[this.dataPoints.length-1].x-this.dataPoints[0].x)?Math.min(Math.max((this.dataPoints.length-1)/g*(r-this.dataPoints[0].x)>>0,0),this.dataPoints.length):0);;){if(0<=(f=0<m?g+c:g-c)&&f<this.dataPoints.length){a=this.dataPoints[f];var v=this.axisX.logarithmic?a.x>r?a.x/r:r/a.x:Math.abs(a.x-r);if(v<l.distance&&(l.dataPoint=a,l.distance=v,l.index=f),(a=v)<=M?M=a:0<m?C++:x++,1e3<C&&1e3<x)break}else if(0>g-c&&g+c>=this.dataPoints.length)break;-1===m?(c++,m=1):m=-1}return u||(l.dataPoint.x.getTime?l.dataPoint.x.getTime():l.dataPoint.x)!==(r.getTime?r.getTime():r)?u&&null!==l.dataPoint?l:null:l},_e.prototype.getDataPointAtXY=function(r,u,l){if(!this.dataPoints||0===this.dataPoints.length||r<this.chart.plotArea.x1||r>this.chart.plotArea.x2||u<this.chart.plotArea.y1||u>this.chart.plotArea.y2)return null;l=l||!1;var a=[],c=0,f=0,m=1,M=!1,C=1/0,x=0,g=0,b=0;for("none"!==this.chart.plotInfo.axisPlacement&&(b=(this.chart.axisX[0]?this.chart.axisX[0]:this.chart.axisX2[0]).getXValueAt({x:r,y:u}),b=this.axisX.logarithmic?1<(v=Math.log(this.dataPoints[this.dataPoints.length-1].x/this.dataPoints[0].x))?Math.min(Math.max((this.dataPoints.length-1)/v*Math.log(b/this.dataPoints[0].x)>>0,0),this.dataPoints.length):0:0<(v=this.dataPoints[this.dataPoints.length-1].x-this.dataPoints[0].x)?Math.min(Math.max((this.dataPoints.length-1)/v*(b-this.dataPoints[0].x)>>0,0),this.dataPoints.length):0);;){if(0<=(f=0<m?b+c:b-c)&&f<this.dataPoints.length){var v,d=this.dataPoints[f],w=null;if(v=this.chart._eventManager.objectMap[this.dataPointIds[f]]){switch(this.type){case"column":case"stackedColumn":case"stackedColumn100":case"bar":case"stackedBar":case"stackedBar100":case"rangeColumn":case"rangeBar":case"waterfall":case"error":r>=v.x1&&r<=v.x2&&u>=v.y1&&u<=v.y2&&(a.push({dataPoint:d,dataPointIndex:f,dataSeries:this,distance:Math.min(Math.abs(v.x1-r),Math.abs(v.x2-r),Math.abs(v.y1-u),Math.abs(v.y2-u))}),M=!0);break;case"line":case"stepLine":case"spline":case"area":case"stepArea":case"stackedArea":case"stackedArea100":case"splineArea":case"scatter":var P=St("markerSize",d,this)||4,k=l?20:P;(w=Math.sqrt(Math.pow(v.x1-r,2)+Math.pow(v.y1-u,2)))<=k&&a.push({dataPoint:d,dataPointIndex:f,dataSeries:this,distance:w}),(v=Math.abs(v.x1-r))<=C?C=v:0<m?x++:g++,w<=P/2&&(M=!0);break;case"rangeArea":case"rangeSplineArea":P=St("markerSize",d,this)||4,k=l?20:P,(w=Math.min(Math.sqrt(Math.pow(v.x1-r,2)+Math.pow(v.y1-u,2)),Math.sqrt(Math.pow(v.x1-r,2)+Math.pow(v.y2-u,2))))<=k&&a.push({dataPoint:d,dataPointIndex:f,dataSeries:this,distance:w}),(v=Math.abs(v.x1-r))<=C?C=v:0<m?x++:g++,w<=P/2&&(M=!0);break;case"bubble":P=v.size,(w=Math.sqrt(Math.pow(v.x1-r,2)+Math.pow(v.y1-u,2)))<=P/2&&(a.push({dataPoint:d,dataPointIndex:f,dataSeries:this,distance:w}),M=!0);break;case"pie":case"doughnut":P=v.center,k="doughnut"===this.type?v.percentInnerRadius*v.radius:0,(w=Math.sqrt(Math.pow(P.x-r,2)+Math.pow(P.y-u,2)))<v.radius&&w>k&&(0>(w=Math.atan2(u-P.y,r-P.x))&&(w+=2*Math.PI),w=Number(((w/Math.PI*180%360+360)%360).toFixed(12)),P=Number(((v.startAngle/Math.PI*180%360+360)%360).toFixed(12)),0===(k=Number(((v.endAngle/Math.PI*180%360+360)%360).toFixed(12)))&&1<v.endAngle&&(k=360),P>=k&&0!==d.y&&!V(d.y)&&(k+=360,w<P&&(w+=360)),w>P&&w<k&&(a.push({dataPoint:d,dataPointIndex:f,dataSeries:this,distance:0}),M=!0));break;case"funnel":case"pyramid":u>(w=v.funnelSection).y1&&u<w.y4&&(w.y6?u>w.y6?(f=w.x6+(w.x5-w.x6)/(w.y5-w.y6)*(u-w.y6),w=w.x3+(w.x4-w.x3)/(w.y4-w.y3)*(u-w.y3)):(f=w.x1+(w.x6-w.x1)/(w.y6-w.y1)*(u-w.y1),w=w.x2+(w.x3-w.x2)/(w.y3-w.y2)*(u-w.y2)):(f=w.x1+(w.x4-w.x1)/(w.y4-w.y1)*(u-w.y1),w=w.x2+(w.x3-w.x2)/(w.y3-w.y2)*(u-w.y2)),r>f&&r<w&&(a.push({dataPoint:d,dataPointIndex:v.dataPointIndex,dataSeries:this,distance:0}),M=!0));break;case"boxAndWhisker":(r>=v.x1-v.borderThickness/2&&r<=v.x2+v.borderThickness/2&&u>=v.y4-v.borderThickness/2&&u<=v.y1+v.borderThickness/2||Math.abs(v.x2-r+v.x1-r)<v.borderThickness&&u>=v.y1&&u<=v.y4)&&(a.push({dataPoint:d,dataPointIndex:f,dataSeries:this,distance:Math.min(Math.abs(v.x1-r),Math.abs(v.x2-r),Math.abs(v.y2-u),Math.abs(v.y3-u))}),M=!0);break;case"candlestick":(r>=v.x1-v.borderThickness/2&&r<=v.x2+v.borderThickness/2&&u>=v.y2-v.borderThickness/2&&u<=v.y3+v.borderThickness/2||Math.abs(v.x2-r+v.x1-r)<v.borderThickness&&u>=v.y1&&u<=v.y4)&&(a.push({dataPoint:d,dataPointIndex:f,dataSeries:this,distance:Math.min(Math.abs(v.x1-r),Math.abs(v.x2-r),Math.abs(v.y2-u),Math.abs(v.y3-u))}),M=!0);break;case"ohlc":(Math.abs(v.x2-r+v.x1-r)<v.borderThickness&&u>=v.y2&&u<=v.y3||r>=v.x1&&r<=(v.x2+v.x1)/2&&u>=v.y1-v.borderThickness/2&&u<=v.y1+v.borderThickness/2||r>=(v.x1+v.x2)/2&&r<=v.x2&&u>=v.y4-v.borderThickness/2&&u<=v.y4+v.borderThickness/2)&&(a.push({dataPoint:d,dataPointIndex:f,dataSeries:this,distance:Math.min(Math.abs(v.x1-r),Math.abs(v.x2-r),Math.abs(v.y2-u),Math.abs(v.y3-u))}),M=!0)}if(M||1e3<x&&1e3<g)break}}else if(0>b-c&&b+c>=this.dataPoints.length)break;-1===m?(c++,m=1):m=-1}for(r=null,u=0;u<a.length;u++)r?a[u].distance<=r.distance&&(r=a[u]):r=a[u];return r},_e.prototype.getMarkerProperties=function(r,u,l,a){var c=this.dataPoints,f=c[r].markerColor?c[r].markerColor:this.markerColor?this.markerColor:c[r].color?c[r].color:this.color?this.color:this._colorSet[r%this._colorSet.length],m=c[r].markerBorderColor?c[r].markerBorderColor:this.markerBorderColor?this.markerBorderColor:null,M=V(c[r].markerBorderThickness)?this.markerBorderThickness?this.markerBorderThickness:null:c[r].markerBorderThickness;return{x:u,y:l,ctx:a,type:c[r].markerType?c[r].markerType:this.markerType,size:r=V(c[r].markerSize)?this.markerSize:c[r].markerSize,color:f,borderColor:m,borderThickness:M}},xi(oe,Bt),oe.prototype.createExtraLabelsForLog=function(r){if(!(5<(r=(r||0)+1))){var u=this.logLabelValues[0]||this.intervalStartPosition;if(Math.log(this.range)/Math.log(u/this.viewportMinimum)<this.noTicks-1){for(var l=oe.getNiceNumber((u-this.viewportMinimum)/Math.min(Math.max(2,this.noTicks-this.logLabelValues.length),3),!0),a=Math.ceil(this.viewportMinimum/l)*l;a<u;a+=l)a<this.viewportMinimum||this.logLabelValues.push(a);this.logLabelValues.sort(as),this.createExtraLabelsForLog(r)}}},oe.prototype.createLabels=function(){var r,u,a,C,g,l=0,m=0,c=0,f=0,M=(m=0,m=this.interval,0),x=.6*this.chart.height;r=!1;var v=this.scaleBreaks?this.scaleBreaks._appliedBreaks:[],b=v.length?V(this.scaleBreaks.firstBreakIndex)?0:this.scaleBreaks.firstBreakIndex:0;if("axisX"!==this.type||"dateTime"!==this.valueType||this.logarithmic){if(a=this.viewportMaximum,this.labels){r=Math.ceil(m);var d=!1;for(l=m=Math.ceil(this.intervalStartPosition);l<this.viewportMaximum;l+=r){if(!this.labels[l]){d=!1;break}d=!0}d&&(this.interval=r,this.intervalStartPosition=m)}if(this.logarithmic&&!this.equidistantInterval)for(this.logLabelValues||(this.logLabelValues=[],this.createExtraLabelsForLog()),m=0,d=b;m<this.logLabelValues.length;m++)if((l=this.logLabelValues[m])<this.viewportMinimum)m++;else{for(;d<v.length&&l>v[d].endValue;d++);g=l,(r=d<v.length&&l>=v[d].startValue&&l<=v[d].endValue)||(r=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.options,value:g,label:this.labels[g]?this.labels[g]:null}):"axisX"===this.type&&this.labels[g]?this.labels[g]:ii(g,this.valueFormatString,this.chart._cultureInfo),r=new Ze(this.ctx,{x:0,y:0,maxWidth:c,maxHeight:f,angle:this.labelAngle,text:this.prefix+r+this.suffix,backgroundColor:this.labelBackgroundColor,borderColor:this.labelBorderColor,cornerRadius:this.labelCornerRadius,textAlign:this.labelTextAlign,fontSize:this.labelFontSize,fontFamily:this.labelFontFamily,fontWeight:this.labelFontWeight,fontColor:this.labelFontColor,fontStyle:this.labelFontStyle,textBaseline:"middle",borderThickness:0}),this._labels.push({position:g,textBlock:r,effectiveHeight:null}))}for(d=b,l=this.intervalStartPosition;l<=a;l=parseFloat(1e-12>this.interval?this.logarithmic&&this.equidistantInterval?l*Math.pow(this.logarithmBase,this.interval):l+this.interval:(this.logarithmic&&this.equidistantInterval?l*Math.pow(this.logarithmBase,this.interval):l+this.interval).toFixed(12))){for(;d<v.length&&l>v[d].endValue;d++);g=l,(r=d<v.length&&l>=v[d].startValue&&l<=v[d].endValue)||(r=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.options,value:g,label:this.labels[g]?this.labels[g]:null}):"axisX"===this.type&&this.labels[g]?this.labels[g]:ii(g,this.valueFormatString,this.chart._cultureInfo),r=new Ze(this.ctx,{x:0,y:0,maxWidth:c,maxHeight:f,angle:this.labelAngle,text:this.prefix+r+this.suffix,textAlign:this.labelTextAlign,backgroundColor:this.labelBackgroundColor,borderColor:this.labelBorderColor,borderThickness:this.labelBorderThickness,cornerRadius:this.labelCornerRadius,fontSize:this.labelFontSize,fontFamily:this.labelFontFamily,fontWeight:this.labelFontWeight,fontColor:this.labelFontColor,fontStyle:this.labelFontStyle,textBaseline:"middle"}),this._labels.push({position:g,textBlock:r,effectiveHeight:null}))}}else for(this.intervalStartPosition=this.getLabelStartPoint(new Date(this.viewportMinimum),this.intervalType,this.interval),a=rs(new Date(this.viewportMaximum),this.interval,this.intervalType),d=b,l=this.intervalStartPosition;l<a;rs(l,m,this.intervalType)){for(r=l.getTime();d<v.length&&r>v[d].endValue;d++);g=r,(r=d<v.length&&r>=v[d].startValue&&r<=v[d].endValue)||(r=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.options,value:new Date(g),label:this.labels[g]?this.labels[g]:null}):"axisX"===this.type&&this.labels[g]?this.labels[g]:cs(g,this.valueFormatString,this.chart._cultureInfo),r=new Ze(this.ctx,{x:0,y:0,maxWidth:c,backgroundColor:this.labelBackgroundColor,borderColor:this.labelBorderColor,borderThickness:this.labelBorderThickness,cornerRadius:this.labelCornerRadius,maxHeight:f,angle:this.labelAngle,text:this.prefix+r+this.suffix,textAlign:this.labelTextAlign,fontSize:this.labelFontSize,fontFamily:this.labelFontFamily,fontWeight:this.labelFontWeight,fontColor:this.labelFontColor,fontStyle:this.labelFontStyle,textBaseline:"middle"}),this._labels.push({position:g,textBlock:r,effectiveHeight:null,breaksLabelType:void 0}))}for("bottom"===this._position||"top"===this._position?(M=this.logarithmic&&!this.equidistantInterval&&2<=this._labels.length?this.lineCoordinates.width*Math.log(Math.min(this._labels[this._labels.length-1].position/this._labels[this._labels.length-2].position,this._labels[1].position/this._labels[0].position))/Math.log(this.range):this.lineCoordinates.width/(this.logarithmic&&this.equidistantInterval?Math.log(this.range)/Math.log(this.logarithmBase):Math.abs(this.range))*et[this.intervalType+"Duration"]*this.interval,c=typeof this.options.labelMaxWidth>"u"?.5*this.chart.width>>0:this.options.labelMaxWidth,this.chart.panEnabled||(f=typeof this.options.labelWrap>"u"||this.labelWrap?.8*this.chart.height>>0:1.5*this.labelFontSize)):("left"===this._position||"right"===this._position)&&(M=this.logarithmic&&!this.equidistantInterval&&2<=this._labels.length?this.lineCoordinates.height*Math.log(Math.min(this._labels[this._labels.length-1].position/this._labels[this._labels.length-2].position,this._labels[1].position/this._labels[0].position))/Math.log(this.range):this.lineCoordinates.height/(this.logarithmic&&this.equidistantInterval?Math.log(this.range)/Math.log(this.logarithmBase):Math.abs(this.range))*et[this.intervalType+"Duration"]*this.interval,this.chart.panEnabled||(c=typeof this.options.labelMaxWidth>"u"?.3*this.chart.width>>0:this.options.labelMaxWidth),f=typeof this.options.labelWrap>"u"||this.labelWrap?.3*this.chart.height>>0:1.5*this.labelFontSize),m=0;m<this._labels.length;m++){(r=this._labels[m].textBlock).maxWidth=c,r.maxHeight=f;var w=r.measureText();C=w.height}if(a=[],b=v=0,this.labelAutoFit||this.options.labelAutoFit)if(V(this.labelAngle)||(this.labelAngle=(this.labelAngle%360+360)%360,90<this.labelAngle&&270>this.labelAngle?this.labelAngle-=180:270<=this.labelAngle&&360>=this.labelAngle&&(this.labelAngle-=360)),"bottom"===this._position||"top"===this._position)if(c=.9*M>>0,b=0,!this.chart.panEnabled&&1<=this._labels.length){for(this.sessionVariables.labelFontSize=this.labelFontSize,this.sessionVariables.labelMaxWidth=c,this.sessionVariables.labelMaxHeight=f,this.sessionVariables.labelAngle=this.labelAngle,this.sessionVariables.labelWrap=this.labelWrap,l=0;l<this._labels.length;l++)if(!this._labels[l].breaksLabelType){var P;for(d=(r=this._labels[l].textBlock).text.split(" "),m=0;m<d.length;m++)g=d[m],this.ctx.font=r.fontStyle+" "+r.fontWeight+" "+r.fontSize+"px "+r.fontFamily,(g=this.ctx.measureText(g)).width>b&&(P=l,b=g.width)}for(l=0,l=this.intervalStartPosition<this.viewportMinimum?1:0;l<this._labels.length;l++)if(!this._labels[l].breaksLabelType){for(w=(r=this._labels[l].textBlock).measureText(),d=l+1;d<this._labels.length;d++)if(!this._labels[d].breaksLabelType){u=(u=this._labels[d].textBlock).measureText();break}if(a.push(r.height),this.sessionVariables.labelMaxHeight=Math.max.apply(Math,a),Math.cos(Math.PI/180*Math.abs(this.labelAngle)),Math.sin(Math.PI/180*Math.abs(this.labelAngle)),m=c*Math.sin(Math.PI/180*Math.abs(this.labelAngle))+(f-r.fontSize/2)*Math.cos(Math.PI/180*Math.abs(this.labelAngle)),V(this.options.labelAngle)&&isNaN(this.options.labelAngle)&&0!==this.options.labelAngle)if(this.sessionVariables.labelMaxHeight=0===this.labelAngle?f:Math.min((m-c*Math.cos(Math.PI/180*Math.abs(this.labelAngle)))/Math.sin(Math.PI/180*Math.abs(this.labelAngle)),m),g=(x-(C+r.fontSize/2)*Math.cos(Math.PI/180*Math.abs(-25)))/Math.sin(Math.PI/180*Math.abs(-25)),V(this.options.labelWrap)){if(V(this.options.labelWrap))if(V(this.options.labelMaxWidth)){if(!V(u))if(m=w.width+u.width>>0,d=this.labelFontSize,b<c)m-2*c>v&&(v=m-2*c,m>=2*c&&m<2.2*c?(this.sessionVariables.labelMaxWidth=c,V(this.options.labelFontSize)&&12<d&&(d=Math.floor(12/13*d),r.measureText()),this.sessionVariables.labelFontSize=V(this.options.labelFontSize)?d:this.options.labelFontSize,this.sessionVariables.labelAngle=this.labelAngle):m>=2.2*c&&m<2.8*c?(this.sessionVariables.labelAngle=-25,this.sessionVariables.labelMaxWidth=g,this.sessionVariables.labelFontSize=d):m>=2.8*c&&m<3.2*c?(this.sessionVariables.labelMaxWidth=Math.max(c,b),this.sessionVariables.labelWrap=!0,V(this.options.labelFontSize)&&12<this.labelFontSize&&(this.labelFontSize=Math.floor(12/13*this.labelFontSize),r.measureText()),this.sessionVariables.labelFontSize=V(this.options.labelFontSize)?d:this.options.labelFontSize,this.sessionVariables.labelAngle=this.labelAngle):m>=3.2*c&&m<3.6*c?(this.sessionVariables.labelAngle=-25,this.sessionVariables.labelWrap=!0,this.sessionVariables.labelMaxWidth=g,this.sessionVariables.labelFontSize=this.labelFontSize):m>3.6*c&&m<5*c?(V(this.options.labelFontSize)&&12<d&&(d=Math.floor(12/13*d),r.measureText()),this.sessionVariables.labelFontSize=V(this.options.labelFontSize)?d:this.options.labelFontSize,this.sessionVariables.labelWrap=!0,this.sessionVariables.labelAngle=-25,this.sessionVariables.labelMaxWidth=g):m>5*c&&(this.sessionVariables.labelWrap=!0,this.sessionVariables.labelMaxWidth=c,this.sessionVariables.labelFontSize=d,this.sessionVariables.labelMaxHeight=f,this.sessionVariables.labelAngle=this.labelAngle));else if(P===l&&(0===P&&b+this._labels[P+1].textBlock.measureText().width-2*c>v||P===this._labels.length-1&&b+this._labels[P-1].textBlock.measureText().width-2*c>v||0<P&&P<this._labels.length-1&&b+this._labels[P+1].textBlock.measureText().width-2*c>v&&b+this._labels[P-1].textBlock.measureText().width-2*c>v))v=0===P?b+this._labels[P+1].textBlock.measureText().width-2*c:b+this._labels[P-1].textBlock.measureText().width-2*c,this.sessionVariables.labelFontSize=V(this.options.labelFontSize)?d:this.options.labelFontSize,this.sessionVariables.labelWrap=!0,this.sessionVariables.labelAngle=-25,this.sessionVariables.labelMaxWidth=g;else if(0===v)for(this.sessionVariables.labelFontSize=V(this.options.labelFontSize)?d:this.options.labelFontSize,this.sessionVariables.labelWrap=!0,m=0;m<this._labels.length;m++)(r=this._labels[m].textBlock).maxWidth=this.sessionVariables.labelMaxWidth=Math.min(Math.max(c,b),g),w=r.measureText(),m<this._labels.length-1&&((u=this._labels[d=m+1].textBlock).maxWidth=this.sessionVariables.labelMaxWidth=Math.min(Math.max(c,b),g),u=u.measureText(),w.width+u.width>>0>2*c&&(this.sessionVariables.labelAngle=-25))}else this.options.labelMaxWidth<c?(this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth,this.sessionVariables.labelMaxHeight=m):(this.sessionVariables.labelAngle=-25,this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth,this.sessionVariables.labelMaxHeight=f)}else this.labelWrap?V(this.options.labelMaxWidth)?(this.sessionVariables.labelMaxWidth=Math.min(Math.max(c,b),g),this.sessionVariables.labelWrap=this.labelWrap,u&&w.width+u.width>>0>2*c&&(this.sessionVariables.labelAngle=-25)):(this.sessionVariables.labelWrap=this.labelWrap,this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth,this.sessionVariables.labelAngle=this.sessionVariables.labelMaxWidth>c?-25:this.sessionVariables.labelAngle):V(this.options.labelMaxWidth)?(this.sessionVariables.labelWrap=this.labelWrap,this.sessionVariables.labelMaxHeight=f,this.sessionVariables.labelMaxWidth=c,u&&w.width+u.width>>0>2*c&&(this.sessionVariables.labelAngle=-25,this.sessionVariables.labelMaxWidth=g)):(this.sessionVariables.labelAngle=this.sessionVariables.labelMaxWidth>c?-25:this.sessionVariables.labelAngle,this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth,this.sessionVariables.labelMaxHeight=f,this.sessionVariables.labelWrap=this.labelWrap);else this.sessionVariables.labelAngle=this.labelAngle,this.sessionVariables.labelMaxHeight=0===this.labelAngle?f:Math.min((m-c*Math.cos(Math.PI/180*Math.abs(this.labelAngle)))/Math.sin(Math.PI/180*Math.abs(this.labelAngle)),m),g=0!=this.labelAngle?(x-(C+r.fontSize/2)*Math.cos(Math.PI/180*Math.abs(this.labelAngle)))/Math.sin(Math.PI/180*Math.abs(this.labelAngle)):c,this.sessionVariables.labelMaxHeight=this.labelWrap?(x-g*Math.sin(Math.PI/180*Math.abs(this.labelAngle)))/Math.cos(Math.PI/180*Math.abs(this.labelAngle)):1.5*this.labelFontSize,V(this.options.labelWrap)?V(this.options.labelWrap)&&(this.labelWrap&&!V(this.options.labelMaxWidth)?(this.sessionVariables.labelWrap=this.labelWrap,this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth?this.options.labelMaxWidth:g,this.sessionVariables.labelMaxHeight=f):(this.sessionVariables.labelAngle=this.labelAngle,this.sessionVariables.labelMaxWidth=g,this.sessionVariables.labelMaxHeight=m<.9*M?.9*M:m,this.sessionVariables.labelWrap=this.labelWrap)):(this.options.labelWrap?(this.sessionVariables.labelWrap=this.labelWrap,this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth?this.options.labelMaxWidth:g):(V(this.options.labelMaxWidth),this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth?this.options.labelMaxWidth:g,this.sessionVariables.labelWrap=this.labelWrap),this.sessionVariables.labelMaxHeight=f)}for(m=0;m<this._labels.length;m++)(r=this._labels[m].textBlock).maxWidth=this.labelMaxWidth=this.sessionVariables.labelMaxWidth,r.fontSize=this.sessionVariables.labelFontSize,r.angle=this.labelAngle=this.sessionVariables.labelAngle,r.wrap=this.labelWrap=this.sessionVariables.labelWrap,r.maxHeight=this.sessionVariables.labelMaxHeight,r.measureText()}else for(l=0;l<this._labels.length;l++)(r=this._labels[l].textBlock).maxWidth=this.labelMaxWidth=V(this.options.labelMaxWidth)?V(this.sessionVariables.labelMaxWidth)?this.sessionVariables.labelMaxWidth=c:this.sessionVariables.labelMaxWidth:this.options.labelMaxWidth,r.fontSize=this.labelFontSize=V(this.options.labelFontSize)?V(this.sessionVariables.labelFontSize)?this.sessionVariables.labelFontSize=this.labelFontSize:this.sessionVariables.labelFontSize:this.options.labelFontSize,r.angle=this.labelAngle=V(this.options.labelAngle)?V(this.sessionVariables.labelAngle)?this.sessionVariables.labelAngle=this.labelAngle:this.sessionVariables.labelAngle:this.labelAngle,r.wrap=this.labelWrap=V(this.options.labelWrap)?V(this.sessionVariables.labelWrap)?this.sessionVariables.labelWrap=this.labelWrap:this.sessionVariables.labelWrap:this.options.labelWrap,r.maxHeight=V(this.sessionVariables.labelMaxHeight)?this.sessionVariables.labelMaxHeight=f:this.sessionVariables.labelMaxHeight,r.measureText();else if("left"===this._position||"right"===this._position)if(c=V(this.options.labelMaxWidth)?.3*this.chart.width>>0:this.options.labelMaxWidth,f=typeof this.options.labelWrap>"u"||this.labelWrap?.3*this.chart.height>>0:1.5*this.labelFontSize,!this.chart.panEnabled&&1<=this._labels.length){for(this.sessionVariables.labelFontSize=this.labelFontSize,this.sessionVariables.labelMaxWidth=c,this.sessionVariables.labelMaxHeight=f,this.sessionVariables.labelAngle=V(this.sessionVariables.labelAngle)?0:this.sessionVariables.labelAngle,this.sessionVariables.labelWrap=this.labelWrap,l=0;l<this._labels.length;l++)if(!this._labels[l].breaksLabelType){for(w=(r=this._labels[l].textBlock).measureText(),d=l+1;d<this._labels.length;d++)if(!this._labels[d].breaksLabelType){u=(u=this._labels[d].textBlock).measureText();break}a.push(r.height),this.sessionVariables.labelMaxHeight=Math.max.apply(Math,a),m=c*Math.sin(Math.PI/180*Math.abs(this.labelAngle))+(f-r.fontSize/2)*Math.cos(Math.PI/180*Math.abs(this.labelAngle)),Math.cos(Math.PI/180*Math.abs(this.labelAngle)),Math.sin(Math.PI/180*Math.abs(this.labelAngle)),V(this.options.labelAngle)&&isNaN(this.options.labelAngle)&&0!==this.options.labelAngle?V(this.options.labelWrap)?V(this.options.labelWrap)&&(V(this.options.labelMaxWidth)?V(u)||(M=w.height+u.height>>0)-2*f>b&&(b=M-2*f,M>=2*f&&M<2.4*f?(V(this.options.labelFontSize)&&12<this.labelFontSize&&(this.labelFontSize=Math.floor(12/13*this.labelFontSize),r.measureText()),this.sessionVariables.labelMaxHeight=f,this.sessionVariables.labelFontSize=V(this.options.labelFontSize)?this.labelFontSize:this.options.labelFontSize):M>=2.4*f&&M<2.8*f?(this.sessionVariables.labelMaxHeight=m,this.sessionVariables.labelFontSize=this.labelFontSize,this.sessionVariables.labelWrap=!0):M>=2.8*f&&M<3.2*f?(this.sessionVariables.labelMaxHeight=f,this.sessionVariables.labelWrap=!0,V(this.options.labelFontSize)&&12<this.labelFontSize&&(this.labelFontSize=Math.floor(12/13*this.labelFontSize),r.measureText()),this.sessionVariables.labelFontSize=V(this.options.labelFontSize)?this.labelFontSize:this.options.labelFontSize,this.sessionVariables.labelAngle=V(this.sessionVariables.labelAngle)?0:this.sessionVariables.labelAngle):M>=3.2*f&&M<3.6*f?(this.sessionVariables.labelMaxHeight=m,this.sessionVariables.labelWrap=!0,this.sessionVariables.labelFontSize=this.labelFontSize):M>3.6*f&&M<10*f?(V(this.options.labelFontSize)&&12<this.labelFontSize&&(this.labelFontSize=Math.floor(12/13*this.labelFontSize),r.measureText()),this.sessionVariables.labelFontSize=V(this.options.labelFontSize)?this.labelFontSize:this.options.labelFontSize,this.sessionVariables.labelMaxWidth=c,this.sessionVariables.labelMaxHeight=f,this.sessionVariables.labelAngle=V(this.sessionVariables.labelAngle)?0:this.sessionVariables.labelAngle):M>10*f&&M<50*f&&(V(this.options.labelFontSize)&&12<this.labelFontSize&&(this.labelFontSize=Math.floor(12/13*this.labelFontSize),r.measureText()),this.sessionVariables.labelFontSize=V(this.options.labelFontSize)?this.labelFontSize:this.options.labelFontSize,this.sessionVariables.labelMaxHeight=f,this.sessionVariables.labelMaxWidth=c,this.sessionVariables.labelAngle=V(this.sessionVariables.labelAngle)?0:this.sessionVariables.labelAngle)):(this.sessionVariables.labelMaxHeight=f,this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth?this.options.labelMaxWidth:this.sessionVariables.labelMaxWidth)):(this.sessionVariables.labelMaxWidth=this.labelWrap||this.labelMaxWidth?this.options.labelMaxWidth?this.options.labelMaxWidth:this.sessionVariables.labelMaxWidth:c,this.sessionVariables.labelMaxHeight=f):(this.sessionVariables.labelAngle=this.labelAngle,this.sessionVariables.labelMaxWidth=0===this.labelAngle?c:Math.min((m-f*Math.sin(Math.PI/180*Math.abs(this.labelAngle)))/Math.cos(Math.PI/180*Math.abs(this.labelAngle)),f),V(this.options.labelWrap)?V(this.options.labelWrap)&&(this.labelWrap&&!V(this.options.labelMaxWidth)?(this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth?this.options.labelMaxWidth:this.sessionVariables.labelMaxWidth,this.sessionVariables.labelWrap=this.labelWrap,this.sessionVariables.labelMaxHeight=m):(this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth?this.options.labelMaxWidth:c,this.sessionVariables.labelMaxHeight=0===this.labelAngle?f:m,V(this.options.labelMaxWidth)&&(this.sessionVariables.labelAngle=this.labelAngle))):this.options.labelWrap?(this.sessionVariables.labelMaxHeight=0===this.labelAngle?f:m,this.sessionVariables.labelWrap=this.labelWrap,this.sessionVariables.labelMaxWidth=c):(this.sessionVariables.labelMaxHeight=f,V(this.options.labelMaxWidth),this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth?this.options.labelMaxWidth:this.sessionVariables.labelMaxWidth,this.sessionVariables.labelWrap=this.labelWrap))}for(m=0;m<this._labels.length;m++)(r=this._labels[m].textBlock).maxWidth=this.labelMaxWidth=this.sessionVariables.labelMaxWidth,r.fontSize=this.labelFontSize=this.sessionVariables.labelFontSize,r.angle=this.labelAngle=this.sessionVariables.labelAngle,r.wrap=this.labelWrap=this.sessionVariables.labelWrap,r.maxHeight=this.sessionVariables.labelMaxHeight,r.measureText()}else for(l=0;l<this._labels.length;l++)(r=this._labels[l].textBlock).maxWidth=this.labelMaxWidth=V(this.options.labelMaxWidth)?V(this.sessionVariables.labelMaxWidth)?this.sessionVariables.labelMaxWidth=c:this.sessionVariables.labelMaxWidth:this.options.labelMaxWidth,r.fontSize=this.labelFontSize=V(this.options.labelFontSize)?V(this.sessionVariables.labelFontSize)?this.sessionVariables.labelFontSize=this.labelFontSize:this.sessionVariables.labelFontSize:this.options.labelFontSize,r.angle=this.labelAngle=V(this.options.labelAngle)?V(this.sessionVariables.labelAngle)?this.sessionVariables.labelAngle=this.labelAngle:this.sessionVariables.labelAngle:this.labelAngle,r.wrap=this.labelWrap=V(this.options.labelWrap)?V(this.sessionVariables.labelWrap)?this.sessionVariables.labelWrap=this.labelWrap:this.sessionVariables.labelWrap:this.options.labelWrap,r.maxHeight=V(this.sessionVariables.labelMaxHeight)?this.sessionVariables.labelMaxHeight=f:this.sessionVariables.labelMaxHeight,r.measureText();for(l=0;l<this.stripLines.length;l++){var k;"outside"===(c=this.stripLines[l]).labelPlacement?(f=this.sessionVariables.labelMaxWidth,("bottom"===this._position||"top"===this._position)&&(V(c.options.labelWrap)&&!V(this.sessionVariables.stripLineLabelMaxHeight)?k=this.sessionVariables.stripLineLabelMaxHeight:this.sessionVariables.stripLineLabelMaxHeight=k=c.labelWrap?.8*this.chart.height>>0:1.5*this.labelFontSize),("left"===this._position||"right"===this._position)&&(V(c.options.labelWrap)&&!V(this.sessionVariables.stripLineLabelMaxHeight)?k=this.sessionVariables.stripLineLabelMaxHeight:this.sessionVariables.stripLineLabelMaxHeight=k=c.labelWrap?.8*this.chart.width>>0:1.5*this.labelFontSize),V(c.labelBackgroundColor)&&(c.labelBackgroundColor="#EEEEEE")):(f="bottom"===this._position||"top"===this._position?.9*this.chart.width>>0:.9*this.chart.height>>0,k=V(c.options.labelWrap)||c.labelWrap?"bottom"===this._position||"top"===this._position?.8*this.chart.width>>0:.8*this.chart.height>>0:1.5*this.labelFontSize,V(c.labelBackgroundColor)&&(c.labelBackgroundColor=V(c.startValue)&&0!==c.startValue?Y?"transparent":null:"#EEEEEE")),r=new Ze(this.ctx,{x:0,y:0,backgroundColor:c.labelBackgroundColor,borderColor:c.labelBorderColor,borderThickness:c.labelBorderThickness,cornerRadius:c.labelCornerRadius,maxWidth:c.options.labelMaxWidth?c.options.labelMaxWidth:f,maxHeight:k,angle:this.labelAngle,text:c.labelFormatter?c.labelFormatter({chart:this.chart,axis:this,stripLine:c}):c.label,textAlign:this.labelTextAlign,fontSize:"outside"===c.labelPlacement?c.options.labelFontSize?c.labelFontSize:this.labelFontSize:c.labelFontSize,fontFamily:"outside"===c.labelPlacement?c.options.labelFontFamily?c.labelFontFamily:this.labelFontFamily:c.labelFontFamily,fontWeight:"outside"===c.labelPlacement?c.options.labelFontWeight?c.labelFontWeight:this.labelFontWeight:c.labelFontWeight,fontColor:c.labelFontColor||c.color,fontStyle:"outside"===c.labelPlacement?c.options.labelFontStyle?c.labelFontStyle:this.fontWeight:c.labelFontStyle,textBaseline:"middle"}),this._stripLineLabels.push({position:c.value,textBlock:r,effectiveHeight:null,stripLine:c})}},oe.prototype.createLabelsAndCalculateWidth=function(){var r=0,u=0;this._labels=[],this._stripLineLabels=[];var l=this.chart.isNavigator?0:5;if("left"===this._position||"right"===this._position){if(this.createLabels(),"inside"!=this.labelPlacement||"inside"===this.labelPlacement&&0<this._index)for(u=0;u<this._labels.length;u++){var a=this._labels[u].textBlock,c=a.measureText(),f=0;r<(f=0===this.labelAngle?c.width:c.width*Math.cos(Math.PI/180*Math.abs(this.labelAngle))+(c.height-a.fontSize/2)*Math.sin(Math.PI/180*Math.abs(this.labelAngle)))&&(this.labelEffectiveWidth=r=f),this._labels[u].effectiveWidth=f}for(u=0;u<this._stripLineLabels.length;u++)"outside"===this._stripLineLabels[u].stripLine.labelPlacement&&this._stripLineLabels[u].stripLine.value>=this.viewportMinimum&&this._stripLineLabels[u].stripLine.value<=this.viewportMaximum&&(c=(a=this._stripLineLabels[u].textBlock).measureText(),f=0===this.labelAngle?c.width:c.width*Math.cos(Math.PI/180*Math.abs(this.labelAngle))+(c.height-a.fontSize/2)*Math.sin(Math.PI/180*Math.abs(this.labelAngle)),"inside"===this.tickPlacement&&(f+=this.tickLength),"inside"===this.labelPlacement&&(r+=0<this._index?f:0),r<f&&(r=f),this.stripLineLabelEffectiveWidth=this._stripLineLabels[u].effectiveWidth=f)}return(this.title?this._titleTextBlock.measureText().height+2:0)+r+("inside"===this.tickPlacement?0<this._index?this.tickLength:0:this.tickLength)+l},oe.prototype.createLabelsAndCalculateHeight=function(){var r=0;this._labels=[],this._stripLineLabels=[];var u,l=0,a=this.chart.isNavigator?0:5;if("bottom"===this._position||"top"===this._position){if(this.createLabels(),"inside"!=this.labelPlacement||"inside"===this.labelPlacement&&0<this._index)for(l=0;l<this._labels.length;l++){var c=(u=this._labels[l].textBlock).measureText(),f=0;r<(f=0===this.labelAngle?c.height:c.width*Math.sin(Math.PI/180*Math.abs(this.labelAngle))+(c.height-u.fontSize/2)*Math.cos(Math.PI/180*Math.abs(this.labelAngle)))&&(this.labelEffectiveHeight=r=f),this._labels[l].effectiveHeight=f}for(l=0;l<this._stripLineLabels.length;l++)"outside"===this._stripLineLabels[l].stripLine.labelPlacement&&this._stripLineLabels[l].stripLine.value>=this.viewportMinimum&&this._stripLineLabels[l].stripLine.value<=this.viewportMaximum&&(c=(u=this._stripLineLabels[l].textBlock).measureText(),f=0===this.labelAngle?c.height:c.width*Math.sin(Math.PI/180*Math.abs(this.labelAngle))+(c.height-u.fontSize/2)*Math.cos(Math.PI/180*Math.abs(this.labelAngle)),"inside"===this.tickPlacement&&(f+=this.tickLength),"inside"===this.labelPlacement&&(r+=0<this._index?f:0),r<f&&(r=f),this.stripLineLabelEffectiveHeight=this._stripLineLabels[l].effectiveHeight=f)}return(this.title?this._titleTextBlock.measureText().height+2:0)+r+("inside"===this.tickPlacement?0<this._index?this.tickLength:0:this.tickLength)+a},oe.setLayout=function(r,u,l,a,c,f){var m,M,C,x,g=r[0]?r[0].chart:u[0].chart,v=g.isNavigator?0:10,b=g._axes;if(r&&0<r.length)for(var d=0;d<r.length;d++)r[d]&&r[d].calculateAxisParameters();if(u&&0<u.length)for(d=0;d<u.length;d++)u[d].calculateAxisParameters();if(l&&0<l.length)for(d=0;d<l.length;d++)l[d].calculateAxisParameters();if(a&&0<a.length)for(d=0;d<a.length;d++)a[d].calculateAxisParameters();for(d=0;d<b.length;d++)if(b[d]&&b[d].scaleBreaks&&b[d].scaleBreaks._appliedBreaks.length)for(var w=b[d].scaleBreaks._appliedBreaks,P=0;P<w.length&&!(w[P].startValue>b[d].viewportMaximum);P++)w[P].endValue<b[d].viewportMinimum||(V(b[d].scaleBreaks.firstBreakIndex)&&(b[d].scaleBreaks.firstBreakIndex=P),w[P].startValue>=b[d].viewPortMinimum&&(b[d].scaleBreaks.lastBreakIndex=P));var W,ie,Q,G,K,k=P=0,D=0,L=0,F=0,B=0,j=0,le=M=0;for(w=Q=G=K=!1,d=0;d<b.length;d++)b[d]&&b[d].title&&(b[d]._titleTextBlock=new Ze(b[d].ctx,{text:b[d].title,horizontalAlign:"center",fontSize:b[d].titleFontSize,fontFamily:b[d].titleFontFamily,fontWeight:b[d].titleFontWeight,fontColor:b[d].titleFontColor,fontStyle:b[d].titleFontStyle,borderColor:b[d].titleBorderColor,borderThickness:b[d].titleBorderThickness,backgroundColor:b[d].titleBackgroundColor,cornerRadius:b[d].titleCornerRadius,textBaseline:"middle"}));for(d=0;d<b.length;d++)if(b[d].title)switch(b[d]._position){case"left":b[d]._titleTextBlock.maxWidth=b[d].titleMaxWidth||f.height,b[d]._titleTextBlock.maxHeight=b[d].titleWrap?.8*f.width:1.5*b[d].titleFontSize,b[d]._titleTextBlock.angle=-90;break;case"right":b[d]._titleTextBlock.maxWidth=b[d].titleMaxWidth||f.height,b[d]._titleTextBlock.maxHeight=b[d].titleWrap?.8*f.width:1.5*b[d].titleFontSize,b[d]._titleTextBlock.angle=90;break;default:b[d]._titleTextBlock.maxWidth=b[d].titleMaxWidth||f.width,b[d]._titleTextBlock.maxHeight=b[d].titleWrap?.8*f.height:1.5*b[d].titleFontSize,b[d]._titleTextBlock.angle=0}if("normal"===c){L=[],F=[],B=[],j=[];for(var $=[],z=[],ne=[],se=[];4>P;){var H=0,Ee=0,tt=0,_t=0,ft=c=0,de=0,Wt=0,at=0,ht=0,De=0,he=0;if(l&&0<l.length)for(B=[],d=De=0;d<l.length;d++)B.push(Math.ceil(l[d]?l[d].createLabelsAndCalculateWidth():0)),De+=B[d],de+=l[d]&&!g.isNavigator?l[d].margin:0;else B.push(Math.ceil(l[0]?l[0].createLabelsAndCalculateWidth():0));if(ne.push(B),a&&0<a.length)for(j=[],d=he=0;d<a.length;d++)j.push(Math.ceil(a[d]?a[d].createLabelsAndCalculateWidth():0)),he+=j[d],Wt+=a[d]?a[d].margin:0;else j.push(Math.ceil(a[0]?a[0].createLabelsAndCalculateWidth():0));if(se.push(j),m=Math.round(f.x1+De+de),C=Math.round(f.x2-he-Wt>g.width-v?g.width-v:f.x2-he-Wt),r&&0<r.length)for(L=[],d=at=0;d<r.length;d++)r[d]&&(r[d].lineCoordinates={}),r[d].lineCoordinates.width=Math.abs(C-m),r[d].title&&(r[d]._titleTextBlock.maxWidth=0<r[d].titleMaxWidth&&r[d].titleMaxWidth<r[d].lineCoordinates.width?r[d].titleMaxWidth:r[d].lineCoordinates.width),L.push(Math.ceil(r[d]?r[d].createLabelsAndCalculateHeight():0)),at+=L[d],c+=r[d]&&!g.isNavigator?r[d].margin:0;else L.push(Math.ceil(r[0]?r[0].createLabelsAndCalculateHeight():0));if($.push(L),u&&0<u.length)for(F=[],d=ht=0;d<u.length;d++)u[d]&&(u[d].lineCoordinates={}),u[d].lineCoordinates.width=Math.abs(C-m),u[d].title&&(u[d]._titleTextBlock.maxWidth=0<u[d].titleMaxWidth&&u[d].titleMaxWidth<u[d].lineCoordinates.width?u[d].titleMaxWidth:u[d].lineCoordinates.width),F.push(Math.ceil(u[d]?u[d].createLabelsAndCalculateHeight():0)),ht+=F[d],ft+=u[d]&&!g.isNavigator?u[d].margin:0;else F.push(Math.ceil(u[0]?u[0].createLabelsAndCalculateHeight():0));if(z.push(F),r&&0<r.length)for(d=0;d<r.length;d++)r[d]&&(r[d].lineCoordinates.x1=m,C=Math.round(f.x2-he-Wt>g.width-v?g.width-v:f.x2-he-Wt),r[d]._labels&&1<r[d]._labels.length&&(M=x=0,M="dateTime"===r[d].valueType?r[d]._labels[r[d]._labels.length-2]:r[d]._labels[r[d]._labels.length-1],k=(x=r[d]._labels[1]).textBlock.width*Math.cos(Math.PI/180*Math.abs(x.textBlock.angle))+(x.textBlock.height-M.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(x.textBlock.angle)),D=M.textBlock.width*Math.cos(Math.PI/180*Math.abs(M.textBlock.angle))+(M.textBlock.height-M.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(M.textBlock.angle))),!r[d]||!r[d].labelAutoFit||V(W)||V(ie)||g.isNavigator||g.stockChart||(M=0,0<r[d].labelAngle?ie+D>C&&(M+=0<r[d].labelAngle?ie+D-C-he:0):0>r[d].labelAngle?W-k<m&&W-k<r[d].viewportMinimum&&(le=m-(de+r[d].tickLength+B+W-k+r[d].labelFontSize/2)):0===r[d].labelAngle&&(ie+D>C&&(M=ie+D/2-C-he),W-k<m&&W-k<r[d].viewportMinimum&&(le=m-de-r[d].tickLength-B-W+k/2)),r[d].viewportMaximum===r[d].maximum&&r[d].viewportMinimum===r[d].minimum&&0<r[d].labelAngle&&0<M?C-=M:r[d].viewportMaximum===r[d].maximum&&r[d].viewportMinimum===r[d].minimum&&0>r[d].labelAngle&&0<le?m+=le:r[d].viewportMaximum===r[d].maximum&&r[d].viewportMinimum===r[d].minimum&&0===r[d].labelAngle&&(0<le&&(m+=le),0<M&&(C-=M))),g.panEnabled?at=V(g.sessionVariables.axisX.height)?g.sessionVariables.axisX.height=at:g.sessionVariables.axisX.height:g.sessionVariables.axisX.height=at,M=Math.round(f.y2-at-c+H),x=Math.round(f.y2),r[d].lineCoordinates.x2=C,r[d].lineCoordinates.width=C-m,r[d].lineCoordinates.y1=M,r[d].lineCoordinates.y2=M,"inside"===r[d].labelPlacement&&0<d&&(r[d].lineCoordinates.y1=r[d-1].lineCoordinates.y2+H+(r[d].labelEffectiveHeight||0),r[d].lineCoordinates.y2=r[d].lineCoordinates.y1+r[d].lineThickness/2),"inside"===r[d].tickPlacement&&0<d&&(r[d].lineCoordinates.y1+=r[d].tickLength,r[d].lineCoordinates.y2=r[d].lineCoordinates.y1+r[d].lineThickness/2),r[d].bounds={x1:m,y1:M,x2:C,y2:x-(at+c-L[d]-H),width:C-m},r[d].bounds.height=r[d].bounds.y2-r[d].bounds.y1),H+=L[d]+r[d].margin;if(u&&0<u.length)for(d=0;d<u.length;d++)u[d].lineCoordinates.x1=Math.round(f.x1+De+de),u[d].lineCoordinates.x2=Math.round(f.x2-he-Wt>g.width-v?g.width-v:f.x2-he-Wt),u[d].lineCoordinates.width=Math.abs(C-m),u[d]._labels&&1<u[d]._labels.length&&(M="dateTime"===u[d].valueType?u[d]._labels[u[d]._labels.length-2]:u[d]._labels[u[d]._labels.length-1],k=(x=u[d]._labels[1]).textBlock.width*Math.cos(Math.PI/180*Math.abs(x.textBlock.angle))+(x.textBlock.height-M.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(x.textBlock.angle)),D=M.textBlock.width*Math.cos(Math.PI/180*Math.abs(M.textBlock.angle))+(M.textBlock.height-M.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(M.textBlock.angle))),g.panEnabled?ht=V(g.sessionVariables.axisX2.height)?g.sessionVariables.axisX2.height=ht:g.sessionVariables.axisX2.height:g.sessionVariables.axisX2.height=ht,M=Math.round(f.y1),x=u[d].lineCoordinates.y1=M+ht+ft-Ee,u[d].lineCoordinates.y2=M,"inside"===u[d].labelPlacement&&0<d&&(u[d].lineCoordinates.y1=u[d-1].lineCoordinates.y1-Ee-(u[d].labelEffectiveHeight||0)),"inside"===u[d].tickPlacement&&0<d&&(u[d].lineCoordinates.y1-=u[d].tickLength),u[d].bounds={x1:m,y1:M+(ht+ft-F[d]-Ee),x2:C,y2:x,width:C-m},u[d].bounds.height=u[d].bounds.y2-u[d].bounds.y1,Ee+=F[d]+u[d].margin;if(l&&0<l.length)for(d=0;d<l.length;d++)de=g.isNavigator?0:10,l[d]&&(m=Math.round(r[0]?r[0].lineCoordinates.x1:u[0].lineCoordinates.x1),de=l[d]._labels&&0<l[d]._labels.length?l[d]._labels[l[d]._labels.length-1].textBlock.height/2:v,M=Math.round(f.y1+ht+ft<Math.max(de,v)?Math.max(de,v):f.y1+ht+ft),C=Math.round(r[0]?r[0].lineCoordinates.x1:u[0].lineCoordinates.x1),de=0<r.length?0:l[d]._labels&&0<l[d]._labels.length?l[d]._labels[0].textBlock.height/2:v,x=Math.round(f.y2-at-c-de),l[d].lineCoordinates={x1:m-tt,y1:M,x2:C-tt,y2:x,height:Math.abs(x-M)},"inside"===l[d].labelPlacement&&0<d&&(l[d].lineCoordinates.x1=l[d-1].lineCoordinates.x1-tt-(l[d].labelEffectiveWidth||0),l[d].lineCoordinates.x2=l[d].lineCoordinates.x1+l[d].lineThickness/2),"inside"===l[d].tickPlacement&&0<d&&(l[d].lineCoordinates.x1-=l[d].tickLength,l[d].lineCoordinates.x2=l[d].lineCoordinates.x1+l[d].lineThickness/2),l[d].bounds={x1:m-(B[d]+tt),y1:M,x2:C-tt,y2:x,height:x-M},l[d].bounds.width=l[d].bounds.x2-l[d].bounds.x1,l[d].title&&(l[d]._titleTextBlock.maxWidth=0<l[d].titleMaxWidth&&l[d].titleMaxWidth<l[d].lineCoordinates.height?l[d].titleMaxWidth:l[d].lineCoordinates.height),tt+=B[d]+l[d].margin);if(a&&0<a.length)for(d=0;d<a.length;d++)a[d]&&(m=Math.round(r[0]?r[0].lineCoordinates.x2:u[0].lineCoordinates.x2),C=Math.round(m),de=a[d]._labels&&0<a[d]._labels.length?a[d]._labels[a[d]._labels.length-1].textBlock.height/2:0,M=Math.round(f.y1+ht+ft<Math.max(de,v)?Math.max(de,v):f.y1+ht+ft),de=0<r.length?0:a[d]._labels&&0<a[d]._labels.length?a[d]._labels[0].textBlock.height/2:0,x=Math.round(f.y2-(at+c+de)),a[d].lineCoordinates={x1:m+_t,y1:M,x2:m+_t,y2:x,height:Math.abs(x-M)},"inside"===a[d].labelPlacement&&0<d&&(a[d].lineCoordinates.x1=a[d-1].lineCoordinates.x2+_t+(a[d].labelEffectiveWidth||0),a[d].lineCoordinates.x2=a[d].lineCoordinates.x1+a[d].lineThickness/2),"inside"===a[d].tickPlacement&&0<d&&(a[d].lineCoordinates.x1+=a[d].tickLength,a[d].lineCoordinates.x2=a[d].lineCoordinates.x1+a[d].lineThickness/2),a[d].bounds={x1:m+_t,y1:M,x2:C+(j[d]+_t),y2:x,height:x-M},a[d].bounds.width=a[d].bounds.x2-a[d].bounds.x1,a[d].title&&(a[d]._titleTextBlock.maxWidth=0<a[d].titleMaxWidth&&a[d].titleMaxWidth<a[d].lineCoordinates.height?a[d].titleMaxWidth:a[d].lineCoordinates.height),_t+=j[d]+a[d].margin);if(r&&0<r.length)for(d=0;d<r.length;d++)r[d]&&(r[d].calculateValueToPixelConversionParameters(),r[d].calculateBreaksSizeInValues(),r[d]._labels&&1<r[d]._labels.length&&(W=(r[d].logarithmic?Math.log(r[d]._labels[1].position/r[d].viewportMinimum)/r[d].conversionParameters.lnLogarithmBase:r[d]._labels[1].position-r[d].viewportMinimum)*Math.abs(r[d].conversionParameters.pixelPerUnit)+r[d].lineCoordinates.x1,m=r[d].getApparentDifference(r[d].viewportMinimum,m=r[d]._labels[r[d]._labels.length-("dateTime"===r[d].valueType?2:1)].position),ie=r[d].logarithmic?(1<m?Math.log(m)/r[d].conversionParameters.lnLogarithmBase*Math.abs(r[d].conversionParameters.pixelPerUnit):0)+r[d].lineCoordinates.x1:(0<m?m*Math.abs(r[d].conversionParameters.pixelPerUnit):0)+r[d].lineCoordinates.x1));if(u&&0<u.length)for(d=0;d<u.length;d++)u[d].calculateValueToPixelConversionParameters(),u[d].calculateBreaksSizeInValues(),u[d]._labels&&1<u[d]._labels.length&&(W=(u[d].logarithmic?Math.log(u[d]._labels[1].position/u[d].viewportMinimum)/u[d].conversionParameters.lnLogarithmBase:u[d]._labels[1].position-u[d].viewportMinimum)*Math.abs(u[d].conversionParameters.pixelPerUnit)+u[d].lineCoordinates.x1,m=u[d].getApparentDifference(u[d].viewportMinimum,m=u[d]._labels[u[d]._labels.length-("dateTime"===u[d].valueType?2:1)].position),ie=u[d].logarithmic?(1<m?Math.log(m)/u[d].conversionParameters.lnLogarithmBase*Math.abs(u[d].conversionParameters.pixelPerUnit):0)+u[d].lineCoordinates.x1:(0<m?m*Math.abs(u[d].conversionParameters.pixelPerUnit):0)+u[d].lineCoordinates.x1);for(d=0;d<b.length;d++)"axisY"===b[d].type&&(b[d].calculateValueToPixelConversionParameters(),b[d].calculateBreaksSizeInValues());if(0<P){if(r&&0<r.length)for(d=0;d<r.length;d++)w=$[P-1][d]===$[P][d];else w=!0;if(u&&0<u.length)for(d=0;d<u.length;d++)Q=z[P-1][d]===z[P][d];else Q=!0;if(l&&0<l.length)for(d=0;d<l.length;d++)G=ne[P-1][d]===ne[P][d];else G=!0;if(a&&0<a.length)for(d=0;d<a.length;d++)K=se[P-1][d]===se[P][d];else K=!0}if(w&&Q&&G&&K)break;P++}if(r&&0<r.length)for(d=0;d<r.length;d++)r[d].calculateStripLinesThicknessInValues(),r[d].calculateBreaksInPixels();if(u&&0<u.length)for(d=0;d<u.length;d++)u[d].calculateStripLinesThicknessInValues(),u[d].calculateBreaksInPixels();if(l&&0<l.length)for(d=0;d<l.length;d++)l[d].calculateStripLinesThicknessInValues(),l[d].calculateBreaksInPixels();if(a&&0<a.length)for(d=0;d<a.length;d++)a[d].calculateStripLinesThicknessInValues(),a[d].calculateBreaksInPixels()}else{for(v=[],W=[],le=[],k=[],ie=[],D=[],$=[],z=[];4>P;){if(at=_t=tt=Wt=de=ft=c=se=ne=H=ht=0,r&&0<r.length)for(le=[],d=_t=0;d<r.length;d++)le.push(Math.ceil(r[d]?r[d].createLabelsAndCalculateWidth():0)),_t+=le[d],c+=r[d]&&!g.isNavigator?r[d].margin:0;else le.push(Math.ceil(r[0]?r[0].createLabelsAndCalculateWidth():0));if($.push(le),u&&0<u.length)for(k=[],d=at=0;d<u.length;d++)k.push(Math.ceil(u[d]?u[d].createLabelsAndCalculateWidth():0)),at+=k[d],ft+=u[d]?u[d].margin:0;else k.push(Math.ceil(u[0]?u[0].createLabelsAndCalculateWidth():0));if(z.push(k),l&&0<l.length)for(d=0;d<l.length;d++)l[d].lineCoordinates={},m=Math.round(f.x1+_t+c),C=Math.round(f.x2-at-ft>g.width-10?g.width-10:f.x2-at-ft),l[d].labelAutoFit&&!V(L)&&(0<!r.length&&(m=0>l[d].labelAngle?Math.max(m,L):0===l[d].labelAngle?Math.max(m,L/2):m),0<!u.length&&(C=0<l[d].labelAngle||0===l[d].labelAngle?C-F/2:C)),l[d].lineCoordinates.x1=m,l[d].lineCoordinates.x2=C,l[d].lineCoordinates.width=Math.abs(C-m),l[d].title&&(l[d]._titleTextBlock.maxWidth=0<l[d].titleMaxWidth&&l[d].titleMaxWidth<l[d].lineCoordinates.width?l[d].titleMaxWidth:l[d].lineCoordinates.width);if(a&&0<a.length)for(d=0;d<a.length;d++)a[d].lineCoordinates={},m=Math.round(f.x1+_t+c),C=Math.round(f.x2-at-ft>a[d].chart.width-10?a[d].chart.width-10:f.x2-at-ft),a[d]&&a[d].labelAutoFit&&!V(B)&&(0<!r.length&&(m=0<a[d].labelAngle?Math.max(m,B):0===a[d].labelAngle?Math.max(m,B/2):m),0<!u.length&&(C-=j/2)),a[d].lineCoordinates.x1=m,a[d].lineCoordinates.x2=C,a[d].lineCoordinates.width=Math.abs(C-m),a[d].title&&(a[d]._titleTextBlock.maxWidth=0<a[d].titleMaxWidth&&a[d].titleMaxWidth<a[d].lineCoordinates.width?a[d].titleMaxWidth:a[d].lineCoordinates.width);if(l&&0<l.length)for(v=[],d=tt=0;d<l.length;d++)v.push(Math.ceil(l[d]?l[d].createLabelsAndCalculateHeight():0)),tt+=v[d]+l[d].margin,de+=l[d].margin;else v.push(Math.ceil(l[0]?l[0].createLabelsAndCalculateHeight():0));if(ie.push(v),a&&0<a.length)for(W=[],d=0;d<a.length;d++)W.push(Math.ceil(a[d]?a[d].createLabelsAndCalculateHeight():0)),Wt+=a[d].margin;else W.push(Math.ceil(a[0]?a[0].createLabelsAndCalculateHeight():0));if(D.push(W),l&&0<l.length)for(d=0;d<l.length;d++)0<l[d]._labels.length&&(M=l[d]._labels[l[d]._labels.length-1],L=(x=l[d]._labels[0]).textBlock.width*Math.cos(Math.PI/180*Math.abs(x.textBlock.angle))+(x.textBlock.height-M.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(x.textBlock.angle)),F=M.textBlock.width*Math.cos(Math.PI/180*Math.abs(M.textBlock.angle))+(M.textBlock.height-M.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(M.textBlock.angle)));if(a&&0<a.length)for(d=0;d<a.length;d++)a[d]&&0<a[d]._labels.length&&(M=a[d]._labels[a[d]._labels.length-1],B=(x=a[d]._labels[0]).textBlock.width*Math.cos(Math.PI/180*Math.abs(x.textBlock.angle))+(x.textBlock.height-M.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(x.textBlock.angle)),j=M.textBlock.width*Math.cos(Math.PI/180*Math.abs(M.textBlock.angle))+(M.textBlock.height-M.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(M.textBlock.angle)));if(g.panEnabled)for(d=0;d<l.length;d++)v[d]=V(g.sessionVariables.axisY[d].height)?g.sessionVariables.axisY[d].height=v[d]:g.sessionVariables.axisY[d].height;else for(d=0;d<l.length;d++)g.sessionVariables.axisY[d].height=v[d];if(l&&0<l.length)for(d=l.length-1;0<=d;d--)M=Math.round(f.y2),x=Math.round(f.y2>l[d].chart.height?l[d].chart.height:f.y2),l[d].lineCoordinates.y1=M-(v[d]+l[d].margin+ht),l[d].lineCoordinates.y2=M-(v[d]+l[d].margin+ht),"inside"===l[d].labelPlacement&&0<d&&(l[d].lineCoordinates.y1=l[d].lineCoordinates.y1+v[d]-(l[d]._titleTextBlock?l[d]._titleTextBlock.height:0)-l[d].tickLength-(l[d].stripLineLabelEffectiveHeight||0)-5,l[d].lineCoordinates.y2=l[d].lineCoordinates.y1+l[d].lineThickness/2),"inside"===l[d].tickPlacement&&0<d&&(l[d].lineCoordinates.y1+=l[d].tickLength,l[d].lineCoordinates.y2=l[d].lineCoordinates.y1+l[d].lineThickness/2),l[d].bounds={x1:m,y1:M-(v[d]+ht+l[d].margin),x2:C,y2:x-(ht+l[d].margin),width:C-m,height:v[d]},l[d].title&&(l[d]._titleTextBlock.maxWidth=0<l[d].titleMaxWidth&&l[d].titleMaxWidth<l[d].lineCoordinates.width?l[d].titleMaxWidth:l[d].lineCoordinates.width),ht+=v[d]+l[d].margin;if(a&&0<a.length)for(d=a.length-1;0<=d;d--)a[d]&&(M=Math.round(f.y1),x=Math.round(f.y1+(W[d]+a[d].margin+H)),a[d].lineCoordinates.y1=x,a[d].lineCoordinates.y2=x,"inside"===a[d].labelPlacement&&0<d&&(a[d].lineCoordinates.y1=x-W[d]+(a[d]._titleTextBlock?a[d]._titleTextBlock.height:0)+a[d].tickLength+(a[d].stripLineLabelEffectiveHeight||0),a[d].lineCoordinates.y2=a[d].lineCoordinates.y1-a[d].lineThickness/2),"inside"===a[d].tickPlacement&&0<d&&(a[d].lineCoordinates.y1-=a[d].tickLength,a[d].lineCoordinates.y2=a[d].lineCoordinates.y1-a[d].lineThickness/2),a[d].bounds={x1:m,y1:M+(a[d].margin+H),x2:C,y2:x,width:C-m},a[d].bounds.height=a[d].bounds.y2-a[d].bounds.y1,a[d].title&&(a[d]._titleTextBlock.maxWidth=0<a[d].titleMaxWidth&&a[d].titleMaxWidth<a[d].lineCoordinates.width?a[d].titleMaxWidth:a[d].lineCoordinates.width),H+=W[d]+a[d].margin);if(r&&0<r.length)for(d=0;d<r.length;d++){if(de=r[d]._labels&&0<r[d]._labels.length?r[d]._labels[0].textBlock.fontSize/2:0,m=Math.round(f.x1+c),M=a&&0<a.length?Math.round(a[0]?a[0].lineCoordinates.y2:f.y1<Math.max(de,10)?Math.max(de,10):f.y1):f.y1<Math.max(de,10)?Math.max(de,10):f.y1,C=Math.round(f.x1+_t+c),x=l&&0<l.length?Math.round(l[0]?l[0].lineCoordinates.y1:f.y2-tt>g.height-Math.max(de,10)?g.height-Math.max(de,10):f.y2-tt):f.y2>g.height-Math.max(de,10)?g.height-Math.max(de,10):f.y2,l&&0<l.length)for(de=0;de<l.length;de++)l[de]&&l[de].labelAutoFit&&(C=l[de].lineCoordinates.x1,m=0>l[de].labelAngle||0===l[de].labelAngle?C-_t:m);if(a&&0<a.length)for(de=0;de<a.length;de++)a[de]&&a[de].labelAutoFit&&(m=(C=a[de].lineCoordinates.x1)-_t);r[d].lineCoordinates={x1:C-ne,y1:M,x2:C-ne,y2:x,height:Math.abs(x-M)},"inside"===r[d].labelPlacement&&0<d&&(r[d].lineCoordinates.x1=r[d].lineCoordinates.x1-(le[d]-(r[d]._titleTextBlock?r[d]._titleTextBlock.height:0))+r[d].tickLength+(r[d].stripLineLabelEffectiveWidth||0),r[d].lineCoordinates.x2=r[d].lineCoordinates.x1+r[d].lineThickness/2),"inside"===r[d].tickPlacement&&0<d&&(r[d].lineCoordinates.x1-=r[d].tickLength,r[d].lineCoordinates.x2=r[d].lineCoordinates.x1+r[d].lineThickness/2),r[d].bounds={x1:C-(le[d]+ne),y1:M,x2:C-ne,y2:x,height:x-M},r[d].bounds.width=r[d].bounds.x2-r[d].bounds.x1,r[d].title&&(r[d]._titleTextBlock.maxWidth=0<r[d].titleMaxWidth&&r[d].titleMaxWidth<r[d].lineCoordinates.height?r[d].titleMaxWidth:r[d].lineCoordinates.height),r[d].calculateValueToPixelConversionParameters(),r[d].calculateBreaksSizeInValues(),ne+=le[d]+r[d].margin}if(u&&0<u.length)for(d=0;d<u.length;d++){if(de=u[d]._labels&&0<u[d]._labels.length?u[d]._labels[0].textBlock.fontSize/2:0,m=Math.round(f.x1-c),M=a&&0<a.length?Math.round(a[0]?a[0].lineCoordinates.y2:f.y1<Math.max(de,10)?Math.max(de,10):f.y1):f.y1<Math.max(de,10)?Math.max(de,10):f.y1,C=Math.round(f.x2-at-ft),x=l&&0<l.length?Math.round(l[0]?l[0].lineCoordinates.y1:f.y2-tt>g.height-Math.max(de,10)?g.height-Math.max(de,10):f.y2-tt):f.y2>g.height-Math.max(de,10)?g.height-Math.max(de,10):f.y2,l&&0<l.length)for(de=0;de<l.length;de++)l[de]&&l[de].labelAutoFit&&(C=0>l[de].labelAngle?Math.max(C,L):0===l[de].labelAngle?Math.max(C,L/2):C,m=0>l[de].labelAngle||0===l[de].labelAngle?C-at:m);if(a&&0<a.length)for(de=0;de<a.length;de++)a[de]&&a[de].labelAutoFit&&(m=(C=a[de].lineCoordinates.x2)-at);u[d].lineCoordinates={x1:C+se,y1:M,x2:C+se,y2:x,height:Math.abs(x-M)},"inside"===u[d].labelPlacement&&0<d&&(u[d].lineCoordinates.x1=u[d].lineCoordinates.x1+(k[d]-(u[d]._titleTextBlock?u[d]._titleTextBlock.height:0)-2)-u[d].tickLength-(u[d].stripLineLabelEffectiveWidth||0),u[d].lineCoordinates.x2=u[d].lineCoordinates.x1+u[d].lineThickness/2),"inside"===u[d].tickPlacement&&0<d&&(u[d].lineCoordinates.x1+=u[d].tickLength,u[d].lineCoordinates.x2=u[d].lineCoordinates.x1+u[d].lineThickness/2),u[d].bounds={x1:u[d].lineCoordinates.x1,y1:M,x2:C+k[d]+se,y2:x,width:C-m,height:x-M},u[d].bounds.width=u[d].bounds.x2-u[d].bounds.x1,u[d].title&&(u[d]._titleTextBlock.maxWidth=0<u[d].titleMaxWidth&&u[d].titleMaxWidth<u[d].lineCoordinates.height?u[d].titleMaxWidth:u[d].lineCoordinates.height),u[d].calculateValueToPixelConversionParameters(),u[d].calculateBreaksSizeInValues(),se+=k[d]+u[d].margin}for(d=0;d<b.length;d++)"axisY"===b[d].type&&(b[d].calculateValueToPixelConversionParameters(),b[d].calculateBreaksSizeInValues());if(0<P){if(r&&0<r.length)for(d=0;d<r.length;d++)w=$[P-1][d]===$[P][d];else w=!0;if(u&&0<u.length)for(d=0;d<u.length;d++)Q=z[P-1][d]===z[P][d];else Q=!0;if(l&&0<l.length)for(d=0;d<l.length;d++)G=ie[P-1][d]===ie[P][d];else G=!0;if(a&&0<a.length)for(d=0;d<a.length;d++)K=D[P-1][d]===D[P][d];else K=!0}if(w&&Q&&G&&K)break;P++}if(l&&0<l.length)for(d=0;d<l.length;d++)l[d].calculateStripLinesThicknessInValues(),l[d].calculateBreaksInPixels();if(a&&0<a.length)for(d=0;d<a.length;d++)a[d].calculateStripLinesThicknessInValues(),a[d].calculateBreaksInPixels();if(r&&0<r.length)for(d=0;d<r.length;d++)r[d].calculateStripLinesThicknessInValues(),r[d].calculateBreaksInPixels();if(u&&0<u.length)for(d=0;d<u.length;d++)u[d].calculateStripLinesThicknessInValues(),u[d].calculateBreaksInPixels()}},oe.render=function(r,u,l,a,c){var f=r[0]?r[0].chart:u[0].chart;if(c=f.ctx,f.alignVerticalAxes&&f.alignVerticalAxes(),c.save(),c.beginPath(),r&&r.length&&c.rect(5,r[0].bounds.y1,r[0].chart.width-10,r[r.length-1].bounds.y2),u&&u.length&&c.rect(5,u[u.length-1].bounds.y1,u[0].chart.width-10,u[0].bounds.y2),c.clip(),r&&0<r.length)for(var m=0;m<r.length;m++)r[m].renderLabelsTicksAndTitle();if(u&&0<u.length)for(m=0;m<u.length;m++)u[m].renderLabelsTicksAndTitle();if(c.restore(),l&&0<l.length)for(m=0;m<l.length;m++)l[m].renderLabelsTicksAndTitle();if(a&&0<a.length)for(m=0;m<a.length;m++)a[m].renderLabelsTicksAndTitle();if(f.preparePlotArea(),f=f.plotArea,c.save(),c.beginPath(),c.rect(f.x1,f.y1,Math.abs(f.x2-f.x1),Math.abs(f.y2-f.y1)),c.clip(),r&&0<r.length)for(m=0;m<r.length;m++)r[m].renderStripLinesOfThicknessType("value");if(u&&0<u.length)for(m=0;m<u.length;m++)u[m].renderStripLinesOfThicknessType("value");if(l&&0<l.length)for(m=0;m<l.length;m++)l[m].renderStripLinesOfThicknessType("value");if(a&&0<a.length)for(m=0;m<a.length;m++)a[m].renderStripLinesOfThicknessType("value");if(r&&0<r.length)for(m=0;m<r.length;m++)r[m].renderInterlacedColors();if(u&&0<u.length)for(m=0;m<u.length;m++)u[m].renderInterlacedColors();if(l&&0<l.length)for(m=0;m<l.length;m++)l[m].renderInterlacedColors();if(a&&0<a.length)for(m=0;m<a.length;m++)a[m].renderInterlacedColors();if(c.restore(),r&&0<r.length)for(m=0;m<r.length;m++)r[m].renderGrid(),Y&&(r[m].createMask(),r[m].renderBreaksBackground());if(u&&0<u.length)for(m=0;m<u.length;m++)u[m].renderGrid(),Y&&(u[m].createMask(),u[m].renderBreaksBackground());if(l&&0<l.length)for(m=0;m<l.length;m++)l[m].renderGrid(),Y&&(l[m].createMask(),l[m].renderBreaksBackground());if(a&&0<a.length)for(m=0;m<a.length;m++)a[m].renderGrid(),Y&&(a[m].createMask(),a[m].renderBreaksBackground());if(r&&0<r.length)for(m=0;m<r.length;m++)r[m].renderAxisLine();if(u&&0<u.length)for(m=0;m<u.length;m++)u[m].renderAxisLine();if(l&&0<l.length)for(m=0;m<l.length;m++)l[m].renderAxisLine();if(a&&0<a.length)for(m=0;m<a.length;m++)a[m].renderAxisLine();if(r&&0<r.length)for(m=0;m<r.length;m++)r[m].renderStripLinesOfThicknessType("pixel");if(u&&0<u.length)for(m=0;m<u.length;m++)u[m].renderStripLinesOfThicknessType("pixel");if(l&&0<l.length)for(m=0;m<l.length;m++)l[m].renderStripLinesOfThicknessType("pixel");if(a&&0<a.length)for(m=0;m<a.length;m++)a[m].renderStripLinesOfThicknessType("pixel")},oe.prototype.calculateStripLinesThicknessInValues=function(){for(var r=0;r<this.stripLines.length;r++)if(null!==this.stripLines[r].startValue&&null!==this.stripLines[r].endValue){var u=Math.min(this.stripLines[r].startValue,this.stripLines[r].endValue),l=Math.max(this.stripLines[r].startValue,this.stripLines[r].endValue),a=this.getApparentDifference(u,l);this.stripLines[r].value=this.convertPixelToValue(Math.abs(this.convertValueToPixel(u)+this.convertValueToPixel(l))/2),this.stripLines[r].thickness=a,this.stripLines[r]._thicknessType="value"}},oe.prototype.calculateBreaksSizeInValues=function(){for(var c,r="left"===this._position||"right"===this._position?this.lineCoordinates.height||this.chart.height:this.lineCoordinates.width||this.chart.width,u=this.scaleBreaks?this.scaleBreaks._appliedBreaks:[],l=this.conversionParameters.pixelPerUnit||r/(this.logarithmic?this.conversionParameters.maximum/this.conversionParameters.minimum:this.conversionParameters.maximum-this.conversionParameters.minimum),a=this.scaleBreaks&&!V(this.scaleBreaks.options.spacing),f=0;f<u.length;f++)c=a||!V(u[f].options.spacing),u[f].spacing=Un(u[f].spacing,r,8,c?.1*r:8,c?0:3)<<0,u[f].size=0>u[f].spacing?0:Math.abs(u[f].spacing/l),this.logarithmic&&(u[f].size=Math.pow(this.logarithmBase,u[f].size))},oe.prototype.calculateBreaksInPixels=function(){if(!(this.scaleBreaks&&0>=this.scaleBreaks._appliedBreaks.length)){var r=this.scaleBreaks?this.scaleBreaks._appliedBreaks:[];r.length&&(this.scaleBreaks.firstBreakIndex=this.scaleBreaks.lastBreakIndex=null);for(var u=0;u<r.length&&!(r[u].startValue>this.conversionParameters.maximum);u++)r[u].endValue<this.conversionParameters.minimum||(V(this.scaleBreaks.firstBreakIndex)&&(this.scaleBreaks.firstBreakIndex=u),r[u].startValue>=this.conversionParameters.minimum&&(r[u].startPixel=this.convertValueToPixel(r[u].startValue),this.scaleBreaks.lastBreakIndex=u),r[u].endValue<=this.conversionParameters.maximum&&(r[u].endPixel=this.convertValueToPixel(r[u].endValue)))}},oe.prototype.renderLabelsTicksAndTitle=function(){var v,b,r=this,u=!1,l=0,a=0,c=1,f=0;if(0!==this.labelAngle&&360!==this.labelAngle&&(c=1.2),typeof this.options.interval>"u"){if("bottom"===this._position||"top"===this._position)if(this.logarithmic&&!this.equidistantInterval&&this.labelAutoFit){l=[],c=0!==this.labelAngle&&360!==this.labelAngle?1:1.2;for(var m,M=this.viewportMaximum,C=this.lineCoordinates.width/Math.log(this.range),g=this._labels.length-1;0<=g&&!((v=this._labels[g]).position<this.viewportMinimum);g--)v.position>this.viewportMaximum||!(g===this._labels.length-1||m<Math.log(M/v.position)*C/c)||(l.push(v),M=v.position,m=v.textBlock.width*Math.abs(Math.cos(Math.PI/180*this.labelAngle))+v.textBlock.height*Math.abs(Math.sin(Math.PI/180*this.labelAngle)));this._labels=l}else{for(g=0;g<this._labels.length;g++)(v=this._labels[g]).position<this.viewportMinimum||(l+=m=v.textBlock.width*Math.abs(Math.cos(Math.PI/180*this.labelAngle))+v.textBlock.height*Math.abs(Math.sin(Math.PI/180*this.labelAngle)));l>this.lineCoordinates.width*c&&this.labelAutoFit&&(u=!0)}if("left"===this._position||"right"===this._position)if(this.logarithmic&&!this.equidistantInterval&&this.labelAutoFit){var x;for(l=[],M=this.viewportMaximum,C=this.lineCoordinates.height/Math.log(this.range),g=this._labels.length-1;0<=g&&!((v=this._labels[g]).position<this.viewportMinimum);g--)v.position>this.viewportMaximum||!(g===this._labels.length-1||x<Math.log(M/v.position)*C)||(l.push(v),M=v.position,x=v.textBlock.height*Math.abs(Math.cos(Math.PI/180*this.labelAngle))+v.textBlock.width*Math.abs(Math.sin(Math.PI/180*this.labelAngle)));this._labels=l}else{for(g=0;g<this._labels.length;g++)(v=this._labels[g]).position<this.viewportMinimum||(a+=x=v.textBlock.height*Math.abs(Math.cos(Math.PI/180*this.labelAngle))+v.textBlock.width*Math.abs(Math.sin(Math.PI/180*this.labelAngle)));a>this.lineCoordinates.height*c&&this.labelAutoFit&&(u=!0)}}if(this.logarithmic&&!this.equidistantInterval&&this.labelAutoFit&&this._labels.sort(function(d,w){return d.position-w.position}),g=0,"bottom"===this._position){for(g=0;g<this._labels.length;g++)(v=this._labels[g]).position<this.viewportMinimum||v.position>this.viewportMaximum||(b=this.getPixelCoordinatesOnAxis(v.position),this.tickThickness&&"inside"!=this.tickPlacement&&(this.ctx.lineWidth=this.tickThickness,this.ctx.strokeStyle=this.tickColor,a=this.ctx.lineWidth%2==1?.5+(b.x<<0):b.x<<0,this.ctx.beginPath(),this.ctx.moveTo(a,b.y<<0),this.ctx.lineTo(a,b.y+this.tickLength<<0),this.ctx.stroke()),u&&f++%2!=0&&this.labelAutoFit||(0===v.textBlock.angle?(b.x-=v.textBlock.width/2,b.y="inside"===this.labelPlacement?b.y-(("inside"===this.tickPlacement?this.tickLength:0)+v.textBlock.height-v.textBlock.fontSize/2):b.y+("inside"===this.tickPlacement?0:this.tickLength)+v.textBlock.fontSize/2+5):(b.x="inside"===this.labelPlacement?0>this.labelAngle?b.x:b.x-v.textBlock.width*Math.cos(Math.PI/180*this.labelAngle):b.x-(0>this.labelAngle?v.textBlock.width*Math.cos(Math.PI/180*this.labelAngle):0),b.y="inside"===this.labelPlacement?0>this.labelAngle?b.y-("inside"===this.tickPlacement?this.tickLength:0)-5:b.y-("inside"===this.tickPlacement?this.tickLength:0)-Math.abs(v.textBlock.width*Math.sin(Math.PI/180*this.labelAngle)+5):b.y+("inside"===this.tickPlacement?0:this.tickLength)+Math.abs(0>this.labelAngle?v.textBlock.width*Math.sin(Math.PI/180*this.labelAngle)-5:5)),v.textBlock.x=b.x,v.textBlock.y=b.y));"inside"===this.tickPlacement&&this.chart.addEventListener("dataAnimationIterationEnd",function(){for(g=0;g<r._labels.length;g++)if(!((v=r._labels[g]).position<r.viewportMinimum||v.position>r.viewportMaximum)&&(b=r.getPixelCoordinatesOnAxis(v.position),r.tickThickness)){r.ctx.lineWidth=r.tickThickness,r.ctx.strokeStyle=r.tickColor;var d=r.ctx.lineWidth%2==1?.5+(b.x<<0):b.x<<0;r.ctx.save(),r.ctx.beginPath(),r.ctx.moveTo(d,b.y<<0),r.ctx.lineTo(d,b.y-r.tickLength<<0),r.ctx.stroke(),r.ctx.restore()}},this),this.title&&(this._titleTextBlock.measureText(),this._titleTextBlock.x=this.lineCoordinates.x1+this.lineCoordinates.width/2-this._titleTextBlock.width/2,this._titleTextBlock.y=this.bounds.y2-this._titleTextBlock.height+this._titleTextBlock.fontSize/2-1,this.titleMaxWidth=this._titleTextBlock.maxWidth,this._titleTextBlock.render(!0))}else if("top"===this._position){for(g=0;g<this._labels.length;g++)(v=this._labels[g]).position<this.viewportMinimum||v.position>this.viewportMaximum||(b=this.getPixelCoordinatesOnAxis(v.position),this.tickThickness&&"inside"!=this.tickPlacement&&(this.ctx.lineWidth=this.tickThickness,this.ctx.strokeStyle=this.tickColor,a=this.ctx.lineWidth%2==1?.5+(b.x<<0):b.x<<0,this.ctx.beginPath(),this.ctx.moveTo(a,b.y<<0),this.ctx.lineTo(a,b.y-this.tickLength<<0),this.ctx.stroke()),u&&f++%2!=0&&this.labelAutoFit||(0===v.textBlock.angle?(b.x-=v.textBlock.width/2,b.y="inside"===this.labelPlacement?b.y+this.labelFontSize/2+("inside"===this.tickPlacement?this.tickLength:0)+5:b.y-(("inside"===this.tickPlacement?0:this.tickLength)+v.textBlock.height-v.textBlock.fontSize/2)):(b.x="inside"===this.labelPlacement?0<this.labelAngle?b.x:b.x-v.textBlock.width*Math.cos(Math.PI/180*this.labelAngle):b.x+(v.textBlock.height-this.labelFontSize)*Math.sin(Math.PI/180*this.labelAngle)-(0<this.labelAngle?v.textBlock.width*Math.cos(Math.PI/180*this.labelAngle):0),b.y="inside"===this.labelPlacement?0<this.labelAngle?b.y+("inside"===this.tickPlacement?this.tickLength:0)+5:b.y-v.textBlock.width*Math.sin(Math.PI/180*this.labelAngle)+("inside"===this.tickPlacement?this.tickLength:0)+5:b.y-(("inside"===this.tickPlacement?0:this.tickLength)+((v.textBlock.height-v.textBlock.fontSize/2)*Math.cos(Math.PI/180*this.labelAngle)+(0<this.labelAngle?v.textBlock.width*Math.sin(Math.PI/180*this.labelAngle):0)))),v.textBlock.x=b.x,v.textBlock.y=b.y));"inside"===this.tickPlacement&&this.chart.addEventListener("dataAnimationIterationEnd",function(){for(g=0;g<r._labels.length;g++)if(!((v=r._labels[g]).position<r.viewportMinimum||v.position>r.viewportMaximum)&&(b=r.getPixelCoordinatesOnAxis(v.position),r.tickThickness)){r.ctx.lineWidth=r.tickThickness,r.ctx.strokeStyle=r.tickColor;var d=r.ctx.lineWidth%2==1?.5+(b.x<<0):b.x<<0;r.ctx.save(),r.ctx.beginPath(),r.ctx.moveTo(d,b.y<<0),r.ctx.lineTo(d,b.y+r.tickLength<<0),r.ctx.stroke(),r.ctx.restore()}},this),this.title&&(this._titleTextBlock.measureText(),this._titleTextBlock.x=this.lineCoordinates.x1+this.lineCoordinates.width/2-this._titleTextBlock.width/2,this._titleTextBlock.y=this.bounds.y1+this._titleTextBlock.fontSize/2+1,this.titleMaxWidth=this._titleTextBlock.maxWidth,this._titleTextBlock.render(!0))}else if("left"===this._position){for(g=0;g<this._labels.length;g++)(v=this._labels[g]).position<this.viewportMinimum||v.position>this.viewportMaximum||(b=this.getPixelCoordinatesOnAxis(v.position),this.tickThickness&&"inside"!=this.tickPlacement&&(this.ctx.lineWidth=this.tickThickness,this.ctx.strokeStyle=this.tickColor,a=this.ctx.lineWidth%2==1?.5+(b.y<<0):b.y<<0,this.ctx.beginPath(),this.ctx.moveTo(b.x<<0,a),this.ctx.lineTo(b.x-this.tickLength<<0,a),this.ctx.stroke()),u&&f++%2!=0&&this.labelAutoFit||(0===this.labelAngle?(v.textBlock.y=b.y,v.textBlock.x="inside"===this.labelPlacement?b.x+("inside"===this.tickPlacement?this.tickLength:0)+5:b.x-v.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)-("inside"===this.tickPlacement?0:this.tickLength)-5):(v.textBlock.y="inside"===this.labelPlacement?b.y:b.y-v.textBlock.width*Math.sin(Math.PI/180*this.labelAngle),v.textBlock.x="inside"===this.labelPlacement?b.x+("inside"===this.tickPlacement?this.tickLength:0)+5:0<this.labelAngle?b.x-v.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)-("inside"===this.tickPlacement?0:this.tickLength)-5:b.x-v.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)+(v.textBlock.height-v.textBlock.fontSize/2-5)*Math.sin(Math.PI/180*this.labelAngle)-("inside"===this.tickPlacement?0:this.tickLength))));"inside"===this.tickPlacement&&this.chart.addEventListener("dataAnimationIterationEnd",function(){for(g=0;g<r._labels.length;g++)if(!((v=r._labels[g]).position<r.viewportMinimum||v.position>r.viewportMaximum)&&(b=r.getPixelCoordinatesOnAxis(v.position),r.tickThickness)){r.ctx.lineWidth=r.tickThickness,r.ctx.strokeStyle=r.tickColor;var d=r.ctx.lineWidth%2==1?.5+(b.y<<0):b.y<<0;r.ctx.save(),r.ctx.beginPath(),r.ctx.moveTo(b.x<<0,d),r.ctx.lineTo(b.x+r.tickLength<<0,d),r.ctx.stroke(),r.ctx.restore()}},this),this.title&&(this._titleTextBlock.measureText(),this._titleTextBlock.x=this.bounds.x1+this._titleTextBlock.fontSize/2+1,this._titleTextBlock.y=this.lineCoordinates.height/2+this._titleTextBlock.width/2+this.lineCoordinates.y1,this.titleMaxWidth=this._titleTextBlock.maxWidth,this._titleTextBlock.render(!0))}else if("right"===this._position){for(g=0;g<this._labels.length;g++)(v=this._labels[g]).position<this.viewportMinimum||v.position>this.viewportMaximum||(b=this.getPixelCoordinatesOnAxis(v.position),this.tickThickness&&"inside"!=this.tickPlacement&&(this.ctx.lineWidth=this.tickThickness,this.ctx.strokeStyle=this.tickColor,a=this.ctx.lineWidth%2==1?.5+(b.y<<0):b.y<<0,this.ctx.beginPath(),this.ctx.moveTo(b.x<<0,a),this.ctx.lineTo(b.x+this.tickLength<<0,a),this.ctx.stroke()),u&&f++%2!=0&&this.labelAutoFit||(0===this.labelAngle?(v.textBlock.y=b.y,v.textBlock.x="inside"===this.labelPlacement?b.x-v.textBlock.width-("inside"===this.tickPlacement?this.tickLength:0)-5:b.x+("inside"===this.tickPlacement?0:this.tickLength)+5):(v.textBlock.y="inside"===this.labelPlacement?b.y-v.textBlock.width*Math.sin(Math.PI/180*this.labelAngle):0>this.labelAngle?b.y:b.y-(v.textBlock.height-v.textBlock.fontSize/2-5)*Math.cos(Math.PI/180*this.labelAngle),v.textBlock.x="inside"===this.labelPlacement?b.x-v.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)-("inside"===this.tickPlacement?this.tickLength:0)-5:0<this.labelAngle?b.x+(v.textBlock.height-v.textBlock.fontSize/2-5)*Math.sin(Math.PI/180*this.labelAngle)+("inside"===this.tickPlacement?0:this.tickLength):b.x+("inside"===this.tickPlacement?0:this.tickLength)+5)));"inside"===this.tickPlacement&&this.chart.addEventListener("dataAnimationIterationEnd",function(){for(g=0;g<r._labels.length;g++)if(!((v=r._labels[g]).position<r.viewportMinimum||v.position>r.viewportMaximum)&&(b=r.getPixelCoordinatesOnAxis(v.position),r.tickThickness)){r.ctx.lineWidth=r.tickThickness,r.ctx.strokeStyle=r.tickColor;var d=r.ctx.lineWidth%2==1?.5+(b.y<<0):b.y<<0;r.ctx.save(),r.ctx.beginPath(),r.ctx.moveTo(b.x<<0,d),r.ctx.lineTo(b.x-r.tickLength<<0,d),r.ctx.stroke(),r.ctx.restore()}},this),this.title&&(this._titleTextBlock.measureText(),this._titleTextBlock.x=this.bounds.x2-this._titleTextBlock.fontSize/2-1,this._titleTextBlock.y=this.lineCoordinates.height/2-this._titleTextBlock.width/2+this.lineCoordinates.y1,this.titleMaxWidth=this._titleTextBlock.maxWidth,this._titleTextBlock.render(!0))}if(f=0,"inside"===this.labelPlacement)this.chart.addEventListener("dataAnimationIterationEnd",function(){for(g=0;g<r._labels.length;g++)(v=r._labels[g]).position<r.viewportMinimum||v.position>r.viewportMaximum||u&&f++%2!=0&&r.labelAutoFit||(r.ctx.save(),r.ctx.beginPath(),v.textBlock.render(!0),r.ctx.restore())},this);else for(g=0;g<this._labels.length;g++)(v=this._labels[g]).position<this.viewportMinimum||v.position>this.viewportMaximum||u&&f++%2!=0&&this.labelAutoFit||v.textBlock.render(!0)},oe.prototype.renderInterlacedColors=function(){var u,l,r=this.chart.plotArea.ctx,a=this.chart.plotArea,c=0;if(u=!0,"bottom"!==this._position&&"top"!==this._position||!this.interlacedColor){if(("left"===this._position||"right"===this._position)&&this.interlacedColor)for(r.fillStyle=this.interlacedColor,c=0;c<this._labels.length;c++)u?(l=this.getPixelCoordinatesOnAxis(this._labels[c].position),u=this.getPixelCoordinatesOnAxis(c+1>this._labels.length-1?this.viewportMaximum:this._labels[c+1].position),r.fillRect(a.x1,Math.min(l.y,u.y),Math.abs(a.x1-a.x2),Math.abs(u.y-l.y)),u=!1):u=!0}else for(r.fillStyle=this.interlacedColor,c=0;c<this._labels.length;c++)u?(u=this.getPixelCoordinatesOnAxis(this._labels[c].position),l=this.getPixelCoordinatesOnAxis(c+1>this._labels.length-1?this.viewportMaximum:this._labels[c+1].position),r.fillRect(Math.min(l.x,u.x),a.y1,Math.abs(l.x-u.x),Math.abs(a.y1-a.y2)),u=!1):u=!0;r.beginPath()},oe.prototype.renderStripLinesOfThicknessType=function(r){if(this.stripLines&&0<this.stripLines.length&&r){var l,a,u=this,c=0,f=0,m=!1;a=!1;var M=[],C=[],x=!1;for(c=0;c<this.stripLines.length;c++){var g=this.stripLines[c];g._thicknessType===r&&("pixel"===r&&(g.value<this.viewportMinimum||g.value>this.viewportMaximum||V(g.value)||isNaN(this.range))||"value"===r&&(g.startValue<=this.viewportMinimum&&g.endValue<=this.viewportMinimum||g.startValue>=this.viewportMaximum&&g.endValue>=this.viewportMaximum||V(g.startValue)||V(g.endValue)||isNaN(this.range))||M.push(g))}for(c=0;c<this._stripLineLabels.length;c++)if(g=this.stripLines[c],!((l=this._stripLineLabels[c]).position<this.viewportMinimum||l.position>this.viewportMaximum||isNaN(this.range)))if(a=this.getPixelCoordinatesOnAxis(l.position),"outside"===l.stripLine.labelPlacement){if(g&&(this.ctx.strokeStyle=g.color,this.ctx.lineWidth="pixel"===g._thicknessType?g.thickness:this.tickThickness),"bottom"===this._position){var v=this.ctx.lineWidth%2==1?.5+(a.x<<0):a.x<<0;this.ctx.beginPath(),this.ctx.moveTo(v,a.y<<0),this.ctx.lineTo(v,a.y+this.tickLength<<0),this.ctx.stroke(),0===this.labelAngle?(a.x-=l.textBlock.width/2,a.y+=this.tickLength+l.textBlock.fontSize/2+5):(a.x-=0>this.labelAngle?l.textBlock.width*Math.cos(Math.PI/180*this.labelAngle):0,a.y+=this.tickLength+Math.abs(0>this.labelAngle?l.textBlock.width*Math.sin(Math.PI/180*this.labelAngle)-5:5))}else"top"===this._position?(v=this.ctx.lineWidth%2==1?.5+(a.x<<0):a.x<<0,this.ctx.beginPath(),this.ctx.moveTo(v,a.y<<0),this.ctx.lineTo(v,a.y-this.tickLength<<0),this.ctx.stroke(),0===this.labelAngle?(a.x-=l.textBlock.width/2,a.y-=this.tickLength+l.textBlock.height-l.textBlock.fontSize/2):(a.x+=(l.textBlock.height-this.tickLength-this.labelFontSize/2)*Math.sin(Math.PI/180*this.labelAngle)-(0<this.labelAngle?l.textBlock.width*Math.cos(Math.PI/180*this.labelAngle):0),a.y-=this.tickLength+(l.textBlock.height*Math.cos(Math.PI/180*this.labelAngle)+(0<this.labelAngle?l.textBlock.width*Math.sin(Math.PI/180*this.labelAngle):0)))):"left"===this._position?(v=this.ctx.lineWidth%2==1?.5+(a.y<<0):a.y<<0,this.ctx.beginPath(),this.ctx.moveTo(a.x<<0,v),this.ctx.lineTo(a.x-this.tickLength<<0,v),this.ctx.stroke(),0===this.labelAngle?a.x=a.x-l.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)-this.tickLength-5:(a.y-=l.textBlock.width*Math.sin(Math.PI/180*this.labelAngle),a.x=0<this.labelAngle?a.x-l.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)-this.tickLength-5:a.x-l.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)+(l.textBlock.height-l.textBlock.fontSize/2-5)*Math.sin(Math.PI/180*this.labelAngle)-this.tickLength)):"right"===this._position&&(v=this.ctx.lineWidth%2==1?.5+(a.y<<0):a.y<<0,this.ctx.beginPath(),this.ctx.moveTo(a.x<<0,v),this.ctx.lineTo(a.x+this.tickLength<<0,v),this.ctx.stroke(),0===this.labelAngle?a.x=a.x+this.tickLength+5:(a.y=0>this.labelAngle?a.y:a.y-(l.textBlock.height-l.textBlock.fontSize/2-5)*Math.cos(Math.PI/180*this.labelAngle),a.x=0<this.labelAngle?a.x+(l.textBlock.height-l.textBlock.fontSize/2-5)*Math.sin(Math.PI/180*this.labelAngle)+this.tickLength:a.x+this.tickLength+5));l.textBlock.x=a.x,l.textBlock.y=a.y,C.push(l)}else g._thicknessType===r&&(l.textBlock.angle=-90,"bottom"===this._position?(l.textBlock.maxWidth=this.options.stripLines[c].labelMaxWidth?this.options.stripLines[c].labelMaxWidth:this.chart.plotArea.height-3,l.textBlock.measureText(),a.x-l.textBlock.height-g.thickness/2>this.chart.plotArea.x1?V(g.startValue)?a.x-=l.textBlock.height-l.textBlock.fontSize/2+g.thickness/2:a.x-=l.textBlock.height/2-l.textBlock.fontSize/2:(l.textBlock.angle=90,V(g.startValue)?a.x+=l.textBlock.height-l.textBlock.fontSize/2+g.thickness/2:a.x+=l.textBlock.height/2-l.textBlock.fontSize/2),a.y=-90===l.textBlock.angle?"near"===l.stripLine.labelAlign?this.chart.plotArea.y2-3:"center"===l.stripLine.labelAlign?(this.chart.plotArea.y2+this.chart.plotArea.y1+l.textBlock.width)/2:this.chart.plotArea.y1+l.textBlock.width+3:"near"===l.stripLine.labelAlign?this.chart.plotArea.y2-l.textBlock.width-3:"center"===l.stripLine.labelAlign?(this.chart.plotArea.y2+this.chart.plotArea.y1-l.textBlock.width)/2:this.chart.plotArea.y1+3):"top"===this._position?(l.textBlock.maxWidth=this.options.stripLines[c].labelMaxWidth?this.options.stripLines[c].labelMaxWidth:this.chart.plotArea.height-3,l.textBlock.measureText(),a.x-l.textBlock.height-g.thickness/2>this.chart.plotArea.x1?V(g.startValue)?a.x-=l.textBlock.height-l.textBlock.fontSize/2+g.thickness/2:a.x-=l.textBlock.height/2-l.textBlock.fontSize/2:(l.textBlock.angle=90,V(g.startValue)?a.x+=l.textBlock.height-l.textBlock.fontSize/2+g.thickness/2:a.x+=l.textBlock.height/2-l.textBlock.fontSize/2),a.y=-90===l.textBlock.angle?"near"===l.stripLine.labelAlign?this.chart.plotArea.y1+l.textBlock.width+3:"center"===l.stripLine.labelAlign?(this.chart.plotArea.y2+this.chart.plotArea.y1+l.textBlock.width)/2:this.chart.plotArea.y2-3:"near"===l.stripLine.labelAlign?this.chart.plotArea.y1+3:"center"===l.stripLine.labelAlign?(this.chart.plotArea.y2+this.chart.plotArea.y1-l.textBlock.width)/2:this.chart.plotArea.y2-l.textBlock.width-3):"left"===this._position?(l.textBlock.maxWidth=this.options.stripLines[c].labelMaxWidth?this.options.stripLines[c].labelMaxWidth:this.chart.plotArea.width-3,l.textBlock.angle=0,l.textBlock.measureText(),a.y-l.textBlock.height-g.thickness/2>this.chart.plotArea.y1?V(g.startValue)?a.y-=l.textBlock.height-l.textBlock.fontSize/2+g.thickness/2:a.y-=l.textBlock.height/2-l.textBlock.fontSize/2:V(g.startValue)?a.y+=l.textBlock.height-l.textBlock.fontSize/2+g.thickness/2:a.y+=l.textBlock.height/2-l.textBlock.fontSize+3,a.x="near"===l.stripLine.labelAlign?this.chart.plotArea.x1+3:"center"===l.stripLine.labelAlign?(this.chart.plotArea.x2+this.chart.plotArea.x1)/2-l.textBlock.width/2:this.chart.plotArea.x2-l.textBlock.width-3):"right"===this._position&&(l.textBlock.maxWidth=this.options.stripLines[c].labelMaxWidth?this.options.stripLines[c].labelMaxWidth:this.chart.plotArea.width-3,l.textBlock.angle=0,l.textBlock.measureText(),a.y-l.textBlock.height-g.thickness/2>this.chart.plotArea.y1?V(g.startValue)?a.y-=l.textBlock.height-l.textBlock.fontSize/2+g.thickness/2:a.y-=l.textBlock.height/2-l.textBlock.fontSize/2:V(g.startValue)?a.y+=l.textBlock.height-l.textBlock.fontSize/2+g.thickness/2:a.y-=l.textBlock.height/2-l.textBlock.fontSize/2+3,a.x="near"===l.stripLine.labelAlign?this.chart.plotArea.x2-l.textBlock.width-3:"center"===l.stripLine.labelAlign?(this.chart.plotArea.x2+this.chart.plotArea.x1)/2-l.textBlock.width/2:this.chart.plotArea.x1+3),l.textBlock.x=a.x,l.textBlock.y=a.y,C.push(l));if(!x){for(a=!1,this.ctx.save(),this.ctx.beginPath(),this.ctx.rect(this.chart.plotArea.x1,this.chart.plotArea.y1,this.chart.plotArea.width,this.chart.plotArea.height),this.ctx.clip(),c=0;c<M.length;c++)(g=M[c]).showOnTop?m||(m=!0,this.chart.addEventListener("dataAnimationIterationEnd",function(){for(this.ctx.save(),this.ctx.beginPath(),this.ctx.rect(this.chart.plotArea.x1,this.chart.plotArea.y1,this.chart.plotArea.width,this.chart.plotArea.height),this.ctx.clip(),f=0;f<M.length;f++)(g=M[f]).showOnTop&&g.render();this.ctx.restore()},g)):g.render();for(c=0;c<C.length;c++)(l=C[c]).stripLine.showOnTop?a||(a=!0,this.chart.addEventListener("dataAnimationIterationEnd",function(){for(f=0;f<C.length;f++)"inside"===(l=C[f]).stripLine.labelPlacement&&l.stripLine.showOnTop&&(u.ctx.save(),u.ctx.beginPath(),u.ctx.rect(u.chart.plotArea.x1,u.chart.plotArea.y1,u.chart.plotArea.width,u.chart.plotArea.height),u.ctx.clip(),l.textBlock.render(!0),u.ctx.restore())},l.textBlock)):"inside"===l.stripLine.labelPlacement&&l.textBlock.render(!0);this.ctx.restore(),x=!0}if(x)for(a=!1,c=0;c<C.length;c++)"outside"===(l=C[c]).stripLine.labelPlacement&&l.textBlock.render(!0)}},oe.prototype.renderBreaksBackground=function(){this.chart._breaksCanvas&&this.scaleBreaks&&0<this.scaleBreaks._appliedBreaks.length&&this.maskCanvas&&(this.chart._breaksCanvasCtx.save(),this.chart._breaksCanvasCtx.beginPath(),this.chart._breaksCanvasCtx.rect(this.chart.plotArea.x1,this.chart.plotArea.y1,this.chart.plotArea.width,this.chart.plotArea.height),this.chart._breaksCanvasCtx.clip(),this.chart._breaksCanvasCtx.drawImage(this.maskCanvas,0,0,this.chart.width,this.chart.height),this.chart._breaksCanvasCtx.restore())},oe.prototype.createMask=function(){if(this.scaleBreaks&&0<this.scaleBreaks._appliedBreaks.length){var r=this.scaleBreaks._appliedBreaks;Y?(this.maskCanvas=vi(this.chart.width,this.chart.height),this.maskCtx=this.maskCanvas.getContext("2d")):(this.maskCanvas=this.chart.plotArea.canvas,this.maskCtx=this.chart.plotArea.ctx),this.maskCtx.save(),this.maskCtx.beginPath(),this.maskCtx.rect(this.chart.plotArea.x1,this.chart.plotArea.y1,this.chart.plotArea.width,this.chart.plotArea.height),this.maskCtx.clip();for(var u=0;u<r.length;u++)r[u].endValue<this.viewportMinimum||r[u].startValue>this.viewportMaximum||isNaN(this.range)||r[u].render(this.maskCtx);this.maskCtx.restore()}},oe.prototype.renderCrosshair=function(r,u){isFinite(this.minimum)&&isFinite(this.maximum)&&this.crosshair.render(r,u)},oe.prototype.showCrosshair=function(r){V(r)||r<this.viewportMinimum||r>this.viewportMaximum||("top"===this._position||"bottom"===this._position?this.crosshair.render(this.convertValueToPixel(r),null,r):this.crosshair.render(null,this.convertValueToPixel(r),r))},oe.prototype.renderGrid=function(){if(this.gridThickness&&0<this.gridThickness){var r=this.chart.ctx;r.save();var u,l=this.chart.plotArea;if(r.lineWidth=this.gridThickness,r.strokeStyle=this.gridColor,r.setLineDash&&r.setLineDash($e(this.gridDashType,this.gridThickness)),"bottom"===this._position||"top"===this._position)for(a=0;a<this._labels.length;a++)this._labels[a].position<this.viewportMinimum||this._labels[a].position>this.viewportMaximum||this._labels[a].breaksLabelType||(r.beginPath(),u=this.getPixelCoordinatesOnAxis(this._labels[a].position),r.moveTo(u=r.lineWidth%2==1?.5+(u.x<<0):u.x<<0,l.y1<<0),r.lineTo(u,l.y2<<0),r.stroke());else if("left"===this._position||"right"===this._position)for(var a=0;a<this._labels.length;a++)this._labels[a].position<this.viewportMinimum||this._labels[a].position>this.viewportMaximum||this._labels[a].breaksLabelType||(r.beginPath(),u=this.getPixelCoordinatesOnAxis(this._labels[a].position),r.moveTo(l.x1<<0,u=r.lineWidth%2==1?.5+(u.y<<0):u.y<<0),r.lineTo(l.x2<<0,u),r.stroke());r.restore()}},oe.prototype.renderAxisLine=function(){var c,f,r=this.chart.ctx,u=Y?this.chart._preRenderCtx:r,l=Math.ceil(this.tickThickness/(this.reversed?-2:2)),a=Math.ceil(this.tickThickness/(this.reversed?2:-2));if(u.save(),"bottom"===this._position||"top"===this._position){if(this.lineThickness){this.reversed?(c=this.lineCoordinates.x2,f=this.lineCoordinates.x1):(c=this.lineCoordinates.x1,f=this.lineCoordinates.x2),u.lineWidth=this.lineThickness,u.strokeStyle=this.lineColor?this.lineColor:"black",u.setLineDash&&u.setLineDash($e(this.lineDashType,this.lineThickness));var m=this.lineThickness%2==1?.5+(this.lineCoordinates.y1<<0):this.lineCoordinates.y1<<0;if(u.beginPath(),this.scaleBreaks&&!V(this.scaleBreaks.firstBreakIndex))if(V(this.scaleBreaks.lastBreakIndex))c=this.scaleBreaks._appliedBreaks[this.scaleBreaks.firstBreakIndex].endPixel+a;else for(var M=this.scaleBreaks.firstBreakIndex;M<=this.scaleBreaks.lastBreakIndex;M++)u.moveTo(c,m),u.lineTo(this.scaleBreaks._appliedBreaks[M].startPixel+l,m),c=this.scaleBreaks._appliedBreaks[M].endPixel+a;c&&(u.moveTo(c,m),u.lineTo(f,m)),u.stroke()}}else if(("left"===this._position||"right"===this._position)&&this.lineThickness){if(this.reversed?(c=this.lineCoordinates.y1,f=this.lineCoordinates.y2):(c=this.lineCoordinates.y2,f=this.lineCoordinates.y1),u.lineWidth=this.lineThickness,u.strokeStyle=this.lineColor,u.setLineDash&&u.setLineDash($e(this.lineDashType,this.lineThickness)),m=this.lineThickness%2==1?.5+(this.lineCoordinates.x1<<0):this.lineCoordinates.x1<<0,u.beginPath(),this.scaleBreaks&&!V(this.scaleBreaks.firstBreakIndex))if(V(this.scaleBreaks.lastBreakIndex))c=this.scaleBreaks._appliedBreaks[this.scaleBreaks.firstBreakIndex].endPixel+l;else for(M=this.scaleBreaks.firstBreakIndex;M<=this.scaleBreaks.lastBreakIndex;M++)u.moveTo(m,c),u.lineTo(m,this.scaleBreaks._appliedBreaks[M].startPixel+a),c=this.scaleBreaks._appliedBreaks[M].endPixel+l;c&&(u.moveTo(m,c),u.lineTo(m,f)),u.stroke()}Y&&(r.drawImage(this.chart._preRenderCanvas,0,0,this.chart.width,this.chart.height),this.chart._breaksCanvasCtx&&this.chart._breaksCanvasCtx.drawImage(this.chart._preRenderCanvas,0,0,this.chart.width,this.chart.height),u.clearRect(0,0,this.chart.width,this.chart.height)),u.restore()},oe.prototype.getPixelCoordinatesOnAxis=function(r){var u={};return("bottom"===this._position||"top"===this._position)&&(u.x=this.convertValueToPixel(r),u.y=this.lineCoordinates.y1),("left"===this._position||"right"===this._position)&&(u.y=this.convertValueToPixel(r),u.x=this.lineCoordinates.x2),u},oe.prototype.convertPixelToValue=function(r){if(typeof r>"u")return null;var u,l=0,c=0,a=(l=!0,this.scaleBreaks?this.scaleBreaks._appliedBreaks:[]);if(c="number"==typeof r?r:"left"===this._position||"right"===this._position?r.y:r.x,this.logarithmic){if(r=u=Math.pow(this.logarithmBase,(c-this.conversionParameters.reference)/this.conversionParameters.pixelPerUnit),c<=this.conversionParameters.reference==("left"===this._position||"right"===this._position)!==this.reversed){for(c=0;c<a.length;c++)if(!(a[c].endValue<this.conversionParameters.minimum))if(l)if(a[c].startValue<this.conversionParameters.minimum){if(1<a[c].size&&this.conversionParameters.minimum*Math.pow(a[c].endValue/a[c].startValue,Math.log(u)/Math.log(a[c].size))<a[c].endValue){r=Math.pow(a[c].endValue/a[c].startValue,Math.log(u)/Math.log(a[c].size));break}r*=a[c].endValue/this.conversionParameters.minimum/Math.pow(a[c].size,Math.log(a[c].endValue/this.conversionParameters.minimum)/Math.log(a[c].endValue/a[c].startValue)),u/=Math.pow(a[c].size,Math.log(a[c].endValue/this.conversionParameters.minimum)/Math.log(a[c].endValue/a[c].startValue)),l=!1}else{if(!(u>a[c].startValue/this.conversionParameters.minimum))break;if((u/=a[c].startValue/this.conversionParameters.minimum)<a[c].size){r*=Math.pow(a[c].endValue/a[c].startValue,1===a[c].size?1:Math.log(u)/Math.log(a[c].size))/u;break}r*=a[c].endValue/a[c].startValue/a[c].size,u/=a[c].size,l=!1}else{if(!(u>a[c].startValue/a[c-1].endValue))break;if((u/=a[c].startValue/a[c-1].endValue)<a[c].size){r*=Math.pow(a[c].endValue/a[c].startValue,1===a[c].size?1:Math.log(u)/Math.log(a[c].size))/u;break}r*=a[c].endValue/a[c].startValue/a[c].size,u/=a[c].size}}else for(c=a.length-1;0<=c;c--)if(!(a[c].startValue>this.conversionParameters.minimum))if(l)if(a[c].endValue>this.conversionParameters.minimum){if(1<a[c].size&&this.conversionParameters.minimum*Math.pow(a[c].endValue/a[c].startValue,Math.log(u)/Math.log(a[c].size))>a[c].startValue){r=Math.pow(a[c].endValue/a[c].startValue,Math.log(u)/Math.log(a[c].size));break}r*=a[c].startValue/this.conversionParameters.minimum*Math.pow(a[c].size,Math.log(a[c].startValue/this.conversionParameters.minimum)/Math.log(a[c].endValue/a[c].startValue))*u,u*=Math.pow(a[c].size,Math.log(this.conversionParameters.minimum/a[c].startValue)/Math.log(a[c].endValue/a[c].startValue)),l=!1}else{if(!(u<a[c].endValue/this.conversionParameters.minimum))break;if((u/=a[c].endValue/this.conversionParameters.minimum)>1/a[c].size){r*=Math.pow(a[c].endValue/a[c].startValue,1>=a[c].size?1:Math.log(u)/Math.log(a[c].size))*u;break}r/=a[c].endValue/a[c].startValue/a[c].size,u*=a[c].size,l=!1}else{if(!(u<a[c].endValue/a[c+1].startValue))break;if((u/=a[c].endValue/a[c+1].startValue)>1/a[c].size){r*=Math.pow(a[c].endValue/a[c].startValue,1>=a[c].size?1:Math.log(u)/Math.log(a[c].size))*u;break}r/=a[c].endValue/a[c].startValue/a[c].size,u*=a[c].size}l=r*this.viewportMinimum}else{if(r=u=(c-this.conversionParameters.reference)/this.conversionParameters.pixelPerUnit,c<=this.conversionParameters.reference==("left"===this._position||"right"===this._position)!==this.reversed){for(c=0;c<a.length;c++)if(!(a[c].endValue<this.conversionParameters.minimum))if(l)if(a[c].startValue<this.conversionParameters.minimum){if(a[c].size&&this.conversionParameters.minimum+u*(a[c].endValue-a[c].startValue)/a[c].size<a[c].endValue){r=0>=a[c].size?0:u*(a[c].endValue-a[c].startValue)/a[c].size;break}r+=a[c].endValue-this.conversionParameters.minimum-a[c].size*(a[c].endValue-this.conversionParameters.minimum)/(a[c].endValue-a[c].startValue),u-=a[c].size*(a[c].endValue-this.conversionParameters.minimum)/(a[c].endValue-a[c].startValue),l=!1}else{if(!(u>a[c].startValue-this.conversionParameters.minimum))break;if((u-=a[c].startValue-this.conversionParameters.minimum)<a[c].size){r+=(a[c].endValue-a[c].startValue)*(0===a[c].size?1:u/a[c].size)-u;break}r+=a[c].endValue-a[c].startValue-a[c].size,u-=a[c].size,l=!1}else{if(!(u>a[c].startValue-a[c-1].endValue))break;if((u-=a[c].startValue-a[c-1].endValue)<a[c].size){r+=(a[c].endValue-a[c].startValue)*(0===a[c].size?1:u/a[c].size)-u;break}r+=a[c].endValue-a[c].startValue-a[c].size,u-=a[c].size}}else for(c=a.length-1;0<=c;c--)if(!(a[c].startValue>this.conversionParameters.minimum))if(l)if(a[c].endValue>this.conversionParameters.minimum){if(a[c].size&&this.conversionParameters.minimum+u*(a[c].endValue-a[c].startValue)/a[c].size>a[c].startValue){r=0>=a[c].size?0:u*(a[c].endValue-a[c].startValue)/a[c].size;break}r+=a[c].startValue-this.conversionParameters.minimum+a[c].size*(this.conversionParameters.minimum-a[c].startValue)/(a[c].endValue-a[c].startValue),u+=a[c].size*(this.conversionParameters.minimum-a[c].startValue)/(a[c].endValue-a[c].startValue),l=!1}else{if(!(u<a[c].endValue-this.conversionParameters.minimum))break;if((u-=a[c].endValue-this.conversionParameters.minimum)>-1*a[c].size){r+=(a[c].endValue-a[c].startValue)*(0===a[c].size?1:u/a[c].size)+u;break}r-=a[c].endValue-a[c].startValue-a[c].size,u+=a[c].size,l=!1}else{if(!(u<a[c].endValue-a[c+1].startValue))break;if((u-=a[c].endValue-a[c+1].startValue)>-1*a[c].size){r+=(a[c].endValue-a[c].startValue)*(0===a[c].size?1:u/a[c].size)+u;break}r-=a[c].endValue-a[c].startValue-a[c].size,u+=a[c].size}l=this.conversionParameters.minimum+r}return l},oe.prototype.convertValueToPixel=function(r){return r=this.getApparentDifference(this.conversionParameters.minimum,r,r),this.logarithmic?this.conversionParameters.reference+this.conversionParameters.pixelPerUnit*Math.log(r/this.conversionParameters.minimum)/this.conversionParameters.lnLogarithmBase+.5<<0:"axisX"===this.type?this.conversionParameters.reference+this.conversionParameters.pixelPerUnit*(r-this.conversionParameters.minimum)+.5<<0:this.conversionParameters.reference+this.conversionParameters.pixelPerUnit*(r-this.conversionParameters.minimum)+.5},oe.prototype.getApparentDifference=function(r,u,l,a){var c=this.scaleBreaks?this.scaleBreaks._appliedBreaks:[];if(this.logarithmic){l=V(l)?u/r:l;for(var f=0;f<c.length&&!(u<c[f].startValue);f++)r>c[f].endValue||(r<=c[f].startValue&&u>=c[f].endValue?l=l/c[f].endValue*c[f].startValue*c[f].size:r>=c[f].startValue&&u>=c[f].endValue?l=l/c[f].endValue*r*Math.pow(c[f].size,Math.log(c[f].endValue/r)/Math.log(c[f].endValue/c[f].startValue)):r<=c[f].startValue&&u<=c[f].endValue?l=l/u*c[f].startValue*Math.pow(c[f].size,Math.log(u/c[f].startValue)/Math.log(c[f].endValue/c[f].startValue)):!a&&r>c[f].startValue&&u<c[f].endValue&&(l=r*Math.pow(c[f].size,Math.log(u/r)/Math.log(c[f].endValue/c[f].startValue))))}else for(l=V(l)?Math.abs(u-r):l,f=0;f<c.length&&!(u<c[f].startValue);f++)r>c[f].endValue||(r<=c[f].startValue&&u>=c[f].endValue?l=l-c[f].endValue+c[f].startValue+c[f].size:r>c[f].startValue&&u>=c[f].endValue?l=l-c[f].endValue+r+c[f].size*(c[f].endValue-r)/(c[f].endValue-c[f].startValue):r<=c[f].startValue&&u<c[f].endValue?l=l-u+c[f].startValue+c[f].size*(u-c[f].startValue)/(c[f].endValue-c[f].startValue):!a&&r>c[f].startValue&&u<c[f].endValue&&(l=r+c[f].size*(u-r)/(c[f].endValue-c[f].startValue)));return l},oe.prototype.setViewPortRange=function(r,u){this.sessionVariables.newViewportMinimum=this.viewportMinimum=Math.min(r,u),this.sessionVariables.newViewportMaximum=this.viewportMaximum=Math.max(r,u)},oe.prototype.getXValueAt=function(r){if(!r)return null;var u=null;return"left"===this._position?u=this.convertPixelToValue(r.y):"bottom"===this._position&&(u=this.convertPixelToValue(r.x)),u},oe.prototype.calculateValueToPixelConversionParameters=function(r){r=this.scaleBreaks?this.scaleBreaks._appliedBreaks:[];var u={pixelPerUnit:null,minimum:null,reference:null},l=this.lineCoordinates.width,a=this.lineCoordinates.height;if(l="bottom"===this._position||"top"===this._position?l:a,a=Math.abs(this.range),this.logarithmic)for(var c=0;c<r.length&&!(this.viewportMaximum<r[c].startValue);c++)this.viewportMinimum>r[c].endValue||(this.viewportMinimum>=r[c].startValue&&this.viewportMaximum<=r[c].endValue?l=0:this.viewportMinimum<=r[c].startValue&&this.viewportMaximum>=r[c].endValue?(a=a/r[c].endValue*r[c].startValue,l=0<r[c].spacing.toString().indexOf("%")?l*(1-parseFloat(r[c].spacing)/100):l-Math.min(r[c].spacing,.1*l)):this.viewportMinimum>r[c].startValue&&this.viewportMaximum>=r[c].endValue?(a=a/r[c].endValue*this.viewportMinimum,l=0<r[c].spacing.toString().indexOf("%")?l*(1-parseFloat(r[c].spacing)/100*Math.log(r[c].endValue/this.viewportMinimum)/Math.log(r[c].endValue/r[c].startValue)):l-Math.min(r[c].spacing,.1*l)*Math.log(r[c].endValue/this.viewportMinimum)/Math.log(r[c].endValue/r[c].startValue)):this.viewportMinimum<=r[c].startValue&&this.viewportMaximum<r[c].endValue&&(a=a/this.viewportMaximum*r[c].startValue,l=0<r[c].spacing.toString().indexOf("%")?l*(1-parseFloat(r[c].spacing)/100*Math.log(this.viewportMaximum/r[c].startValue)/Math.log(r[c].endValue/r[c].startValue)):l-Math.min(r[c].spacing,.1*l)*Math.log(this.viewportMaximum/r[c].startValue)/Math.log(r[c].endValue/r[c].startValue)));else for(c=0;c<r.length&&!(this.viewportMaximum<r[c].startValue);c++)this.viewportMinimum>r[c].endValue||(this.viewportMinimum>=r[c].startValue&&this.viewportMaximum<=r[c].endValue?l=0:this.viewportMinimum<=r[c].startValue&&this.viewportMaximum>=r[c].endValue?(a=a-r[c].endValue+r[c].startValue,l=0<r[c].spacing.toString().indexOf("%")?l*(1-parseFloat(r[c].spacing)/100):l-Math.min(r[c].spacing,.1*l)):this.viewportMinimum>r[c].startValue&&this.viewportMaximum>=r[c].endValue?(a=a-r[c].endValue+this.viewportMinimum,l=0<r[c].spacing.toString().indexOf("%")?l*(1-parseFloat(r[c].spacing)/100*(r[c].endValue-this.viewportMinimum)/(r[c].endValue-r[c].startValue)):l-Math.min(r[c].spacing,.1*l)*(r[c].endValue-this.viewportMinimum)/(r[c].endValue-r[c].startValue)):this.viewportMinimum<=r[c].startValue&&this.viewportMaximum<r[c].endValue&&(a=a-this.viewportMaximum+r[c].startValue,l=0<r[c].spacing.toString().indexOf("%")?l*(1-parseFloat(r[c].spacing)/100*(this.viewportMaximum-r[c].startValue)/(r[c].endValue-r[c].startValue)):l-Math.min(r[c].spacing,.1*l)*(this.viewportMaximum-r[c].startValue)/(r[c].endValue-r[c].startValue)));u.minimum=this.viewportMinimum,u.maximum=this.viewportMaximum,u.range=a,("bottom"===this._position||"top"===this._position)&&(this.logarithmic?(u.lnLogarithmBase=Math.log(this.logarithmBase),u.pixelPerUnit=(this.reversed?-1:1)*l*u.lnLogarithmBase/Math.log(Math.abs(a))):u.pixelPerUnit=(this.reversed?-1:1)*l/Math.abs(a),u.reference=this.reversed?this.lineCoordinates.x2:this.lineCoordinates.x1),("left"===this._position||"right"===this._position)&&(this.logarithmic?(u.lnLogarithmBase=Math.log(this.logarithmBase),u.pixelPerUnit=(this.reversed?1:-1)*l*u.lnLogarithmBase/Math.log(Math.abs(a))):u.pixelPerUnit=(this.reversed?1:-1)*l/Math.abs(a),u.reference=this.reversed?this.lineCoordinates.y1:this.lineCoordinates.y2),this.conversionParameters=u},oe.prototype.calculateAxisParameters=function(){if(this.logarithmic)this.calculateLogarithmicAxisParameters();else{var l=this.chart.layoutManager.getFreeSpace(),r=!1,u=!1;"bottom"===this._position||"top"===this._position?(this.maxWidth=l.width,this.maxHeight=l.height):(this.maxWidth=l.height,this.maxHeight=l.width),l="axisX"===this.type?"xySwapped"===this.chart.plotInfo.axisPlacement?62:70:"xySwapped"===this.chart.plotInfo.axisPlacement?50:40;var a,c,f,m=4;if("axisX"===this.type&&(m=600>this.maxWidth?8:6),l=Math.max(m,Math.floor(this.maxWidth/l)),m=0,!V(this.options.viewportMinimum)&&!V(this.options.viewportMaximum)&&this.options.viewportMinimum>=this.options.viewportMaximum&&(this.viewportMinimum=this.viewportMaximum=null),!V(this.options.viewportMinimum)||V(this.sessionVariables.newViewportMinimum)||isNaN(this.sessionVariables.newViewportMinimum)?(null===this.viewportMinimum||isNaN(this.viewportMinimum))&&(this.viewportMinimum=this.minimum):this.viewportMinimum=this.sessionVariables.newViewportMinimum,!V(this.options.viewportMaximum)||V(this.sessionVariables.newViewportMaximum)||isNaN(this.sessionVariables.newViewportMaximum)?(null===this.viewportMaximum||isNaN(this.viewportMaximum))&&(this.viewportMaximum=this.maximum):this.viewportMaximum=this.sessionVariables.newViewportMaximum,this.scaleBreaks)for(m=0;m<this.scaleBreaks._appliedBreaks.length;m++)if((!V(this.sessionVariables.newViewportMinimum)&&this.sessionVariables.newViewportMinimum>=this.scaleBreaks._appliedBreaks[m].startValue||!V(this.options.minimum)&&this.options.minimum>=this.scaleBreaks._appliedBreaks[m].startValue||!V(this.options.viewportMinimum)&&this.viewportMinimum>=this.scaleBreaks._appliedBreaks[m].startValue)&&(!V(this.sessionVariables.newViewportMaximum)&&this.sessionVariables.newViewportMaximum<=this.scaleBreaks._appliedBreaks[m].endValue||!V(this.options.maximum)&&this.options.maximum<=this.scaleBreaks._appliedBreaks[m].endValue||!V(this.options.viewportMaximum)&&this.viewportMaximum<=this.scaleBreaks._appliedBreaks[m].endValue)){this.scaleBreaks._appliedBreaks.splice(m,1);break}if("axisX"===this.type){if(this.dataSeries&&0<this.dataSeries.length)for(a=0;a<this.dataSeries.length;a++)"dateTime"===this.dataSeries[a].xValueType&&(u=!0);(c=null!==this.viewportMaximum?this.viewportMaximum:this.dataInfo.viewPortMax)-(a=null!==this.viewportMinimum?this.viewportMinimum:this.dataInfo.viewPortMin)==0&&(c+=m=typeof this.options.interval>"u"?.4:this.options.interval,a-=m),this.dataInfo.minDiff!==1/0?f=this.dataInfo.minDiff:1<c-a?f=.5*Math.abs(c-a):(f=1,u&&(r=!0))}else"axisY"===this.type&&(a=null!==this.viewportMinimum?this.viewportMinimum:this.dataInfo.viewPortMin,c=null!==this.viewportMaximum?this.viewportMaximum:this.dataInfo.viewPortMax,isFinite(a)||isFinite(c)?isFinite(a)?isFinite(c)||(c=a):a=c:(c=typeof this.options.interval>"u"?-1/0:this.options.interval,a=typeof this.options.interval<"u"||isFinite(this.dataInfo.minDiff)?0:1/0),0===a&&0===c?(c+=9,a=0):c-a==0?(c+=m=Math.min(Math.abs(.01*Math.abs(c)),5),a-=m):a>c?(m=Math.min(.01*Math.abs(this.getApparentDifference(c,a,null,!0)),5),0<=c?a=c-m:c=isFinite(a)?a+m:0):(m=Math.min(.01*Math.abs(this.getApparentDifference(a,c,null,!0)),.05),0!==c&&(c+=m),0!==a&&(a-=m)),f=this.dataInfo.minDiff!==1/0?this.dataInfo.minDiff:1<c-a?.5*Math.abs(c-a):1,this.includeZero&&(null===this.viewportMinimum||isNaN(this.viewportMinimum))&&0<a&&(a=0),this.includeZero&&(null===this.viewportMaximum||isNaN(this.viewportMaximum))&&0>c&&(c=0));m=this.getApparentDifference(isNaN(this.viewportMinimum)||null===this.viewportMinimum?a:this.viewportMinimum,isNaN(this.viewportMaximum)||null===this.viewportMaximum?c:this.viewportMaximum,null,!0),"axisX"===this.type&&u?(this.valueType="dateTime",this.intervalType||(m/1<=l?(this.interval=1,this.intervalType="millisecond"):m/2<=l?(this.interval=2,this.intervalType="millisecond"):m/5<=l?(this.interval=5,this.intervalType="millisecond"):m/10<=l?(this.interval=10,this.intervalType="millisecond"):m/20<=l?(this.interval=20,this.intervalType="millisecond"):m/50<=l?(this.interval=50,this.intervalType="millisecond"):m/100<=l?(this.interval=100,this.intervalType="millisecond"):m/200<=l?(this.interval=200,this.intervalType="millisecond"):m/250<=l?(this.interval=250,this.intervalType="millisecond"):m/300<=l?(this.interval=300,this.intervalType="millisecond"):m/400<=l?(this.interval=400,this.intervalType="millisecond"):m/500<=l?(this.interval=500,this.intervalType="millisecond"):m/(1*et.secondDuration)<=l?(this.interval=1,this.intervalType="second"):m/(2*et.secondDuration)<=l?(this.interval=2,this.intervalType="second"):m/(5*et.secondDuration)<=l?(this.interval=5,this.intervalType="second"):m/(10*et.secondDuration)<=l?(this.interval=10,this.intervalType="second"):m/(15*et.secondDuration)<=l?(this.interval=15,this.intervalType="second"):m/(20*et.secondDuration)<=l?(this.interval=20,this.intervalType="second"):m/(30*et.secondDuration)<=l?(this.interval=30,this.intervalType="second"):m/(1*et.minuteDuration)<=l?(this.interval=1,this.intervalType="minute"):m/(2*et.minuteDuration)<=l?(this.interval=2,this.intervalType="minute"):m/(5*et.minuteDuration)<=l?(this.interval=5,this.intervalType="minute"):m/(10*et.minuteDuration)<=l?(this.interval=10,this.intervalType="minute"):m/(15*et.minuteDuration)<=l?(this.interval=15,this.intervalType="minute"):m/(20*et.minuteDuration)<=l?(this.interval=20,this.intervalType="minute"):m/(30*et.minuteDuration)<=l?(this.interval=30,this.intervalType="minute"):m/(1*et.hourDuration)<=l?(this.interval=1,this.intervalType="hour"):m/(2*et.hourDuration)<=l?(this.interval=2,this.intervalType="hour"):m/(3*et.hourDuration)<=l?(this.interval=3,this.intervalType="hour"):m/(6*et.hourDuration)<=l?(this.interval=6,this.intervalType="hour"):m/(1*et.dayDuration)<=l?(this.interval=1,this.intervalType="day"):m/(2*et.dayDuration)<=l?(this.interval=2,this.intervalType="day"):m/(4*et.dayDuration)<=l?(this.interval=4,this.intervalType="day"):m/(1*et.weekDuration)<=l?(this.interval=1,this.intervalType="week"):m/(2*et.weekDuration)<=l?(this.interval=2,this.intervalType="week"):m/(3*et.weekDuration)<=l?(this.interval=3,this.intervalType="week"):m/(1*et.monthDuration)<=l?(this.interval=1,this.intervalType="month"):m/(2*et.monthDuration)<=l?(this.interval=2,this.intervalType="month"):m/(3*et.monthDuration)<=l?(this.interval=3,this.intervalType="month"):m/(6*et.monthDuration)<=l?(this.interval=6,this.intervalType="month"):(this.interval=m/(1*et.yearDuration)<=l?1:m/(2*et.yearDuration)<=l?2:m/(4*et.yearDuration)<=l?4:Math.floor(oe.getNiceNumber(m/(l-1),!0)/et.yearDuration),this.intervalType="year")),(null===this.viewportMinimum||isNaN(this.viewportMinimum))&&(this.viewportMinimum=a-f/2),(null===this.viewportMaximum||isNaN(this.viewportMaximum))&&(this.viewportMaximum=c+f/2),r?this.autoValueFormatString="MMM DD YYYY HH:mm":"year"===this.intervalType?this.autoValueFormatString="YYYY":"month"===this.intervalType?this.autoValueFormatString="MMM YYYY":"week"===this.intervalType||"day"===this.intervalType?this.autoValueFormatString="MMM DD YYYY":"hour"===this.intervalType||"minute"===this.intervalType?this.autoValueFormatString="hh:mm TT":"second"===this.intervalType?this.autoValueFormatString="hh:mm:ss TT":"millisecond"===this.intervalType&&(this.autoValueFormatString="fff'ms'"),this.valueFormatString||(this.valueFormatString=this.autoValueFormatString)):(this.intervalType="number",m=oe.getNiceNumber(m,!1),this.interval=this.options&&0<this.options.interval?this.options.interval:oe.getNiceNumber(m/(l-1),!0),(null===this.viewportMinimum||isNaN(this.viewportMinimum))&&(this.viewportMinimum="axisX"===this.type?a-f/2:Math.floor(a/this.interval)*this.interval),(null===this.viewportMaximum||isNaN(this.viewportMaximum))&&(this.viewportMaximum="axisX"===this.type?c+f/2:Math.ceil(c/this.interval)*this.interval),0===this.viewportMaximum&&0===this.viewportMinimum&&(0===this.options.viewportMinimum?this.viewportMaximum+=10:0===this.options.viewportMaximum&&(this.viewportMinimum-=10),this.options&&typeof this.options.interval>"u"&&(this.interval=oe.getNiceNumber((this.viewportMaximum-this.viewportMinimum)/(l-1),!0)))),(null===this.minimum||null===this.maximum)&&("axisX"===this.type?((c=null!==this.maximum?this.maximum:this.dataInfo.max)-(a=null!==this.minimum?this.minimum:this.dataInfo.min)==0&&(c+=m=typeof this.options.interval>"u"?.4:this.options.interval,a-=m),f=this.dataInfo.minDiff!==1/0?this.dataInfo.minDiff:1<c-a?.5*Math.abs(c-a):1):"axisY"===this.type&&(a=null!==this.minimum?this.minimum:this.dataInfo.min,c=null!==this.maximum?this.maximum:this.dataInfo.max,isFinite(a)||isFinite(c)?0===a&&0===c?(c+=9,a=0):c-a==0?(c+=m=Math.min(Math.abs(.01*Math.abs(c)),5),a-=m):a>c?(m=Math.min(.01*Math.abs(this.getApparentDifference(c,a,null,!0)),5),0<=c?a=c-m:c=isFinite(a)?a+m:0):(m=Math.min(.01*Math.abs(this.getApparentDifference(a,c,null,!0)),.05),0!==c&&(c+=m),0!==a&&(a-=m)):(c=typeof this.options.interval>"u"?-1/0:this.options.interval,a=typeof this.options.interval<"u"||isFinite(this.dataInfo.minDiff)?0:1/0),f=this.dataInfo.minDiff!==1/0?this.dataInfo.minDiff:1<c-a?.5*Math.abs(c-a):1,this.includeZero&&(null===this.minimum||isNaN(this.minimum))&&0<a&&(a=0),this.includeZero&&(null===this.maximum||isNaN(this.maximum))&&0>c&&(c=0)),Math.abs(this.getApparentDifference(a,c,null,!0)),"axisX"===this.type&&u?(this.valueType="dateTime",(null===this.minimum||isNaN(this.minimum))&&(this.minimum=a-f/2,this.minimum=Math.min(this.minimum,null===this.sessionVariables.viewportMinimum||isNaN(this.sessionVariables.viewportMinimum)?1/0:this.sessionVariables.viewportMinimum)),(null===this.maximum||isNaN(this.maximum))&&(this.maximum=c+f/2,this.maximum=Math.max(this.maximum,null===this.sessionVariables.viewportMaximum||isNaN(this.sessionVariables.viewportMaximum)?-1/0:this.sessionVariables.viewportMaximum))):(this.intervalType=this.valueType="number",null===this.minimum&&(this.minimum="axisX"===this.type?a-f/2:Math.floor(a/this.interval)*this.interval,this.minimum=Math.min(this.minimum,null===this.sessionVariables.viewportMinimum||isNaN(this.sessionVariables.viewportMinimum)?1/0:this.sessionVariables.viewportMinimum)),null===this.maximum&&(this.maximum="axisX"===this.type?c+f/2:Math.ceil(c/this.interval)*this.interval,this.maximum=Math.max(this.maximum,null===this.sessionVariables.viewportMaximum||isNaN(this.sessionVariables.viewportMaximum)?-1/0:this.sessionVariables.viewportMaximum)),0===this.maximum&&0===this.minimum&&(0===this.options.minimum?this.maximum+=10:0===this.options.maximum&&(this.minimum-=10)))),V(this.sessionVariables.newViewportMinimum)&&(this.viewportMinimum=Math.max(this.viewportMinimum,this.minimum)),V(this.sessionVariables.newViewportMaximum)&&(this.viewportMaximum=Math.min(this.viewportMaximum,this.maximum)),this.range=this.viewportMaximum-this.viewportMinimum,this.intervalStartPosition="axisX"===this.type&&u?this.getLabelStartPoint(new Date(this.viewportMinimum),this.intervalType,this.interval):Math.floor((this.viewportMinimum+.2*this.interval)/this.interval)*this.interval,this.valueFormatString||(this.valueFormatString=oe.generateValueFormatString(this.range,2))}},oe.prototype.calculateLogarithmicAxisParameters=function(){var u,a,c,f,m,l=this.chart.layoutManager.getFreeSpace(),r=Math.log(this.logarithmBase);if("bottom"===this._position||"top"===this._position?(this.maxWidth=l.width,this.maxHeight=l.height):(this.maxWidth=l.height,this.maxHeight=l.width),l="axisX"===this.type?500>this.maxWidth?7:Math.max(7,Math.floor(this.maxWidth/100)):Math.max(Math.floor(this.maxWidth/50),3),m=1,(null===this.viewportMinimum||isNaN(this.viewportMinimum))&&(this.viewportMinimum=this.minimum),(null===this.viewportMaximum||isNaN(this.viewportMaximum))&&(this.viewportMaximum=this.maximum),this.scaleBreaks)for(m=0;m<this.scaleBreaks._appliedBreaks.length;m++)if((!V(this.sessionVariables.newViewportMinimum)&&this.sessionVariables.newViewportMinimum>=this.scaleBreaks._appliedBreaks[m].startValue||!V(this.options.minimum)&&this.options.minimum>=this.scaleBreaks._appliedBreaks[m].startValue||!V(this.options.viewportMinimum)&&this.viewportMinimum>=this.scaleBreaks._appliedBreaks[m].startValue)&&(!V(this.sessionVariables.newViewportMaximum)&&this.sessionVariables.newViewportMaximum<=this.scaleBreaks._appliedBreaks[m].endValue||!V(this.options.maximum)&&this.options.maximum<=this.scaleBreaks._appliedBreaks[m].endValue||!V(this.options.viewportMaximum)&&this.viewportMaximum<=this.scaleBreaks._appliedBreaks[m].endValue)){this.scaleBreaks._appliedBreaks.splice(m,1);break}"axisX"===this.type?((c=null!==this.viewportMaximum?this.viewportMaximum:this.dataInfo.viewPortMax)/(a=null!==this.viewportMinimum?this.viewportMinimum:this.dataInfo.viewPortMin)==1&&(c*=m=Math.pow(this.logarithmBase,typeof this.options.interval>"u"?.4:this.options.interval),a/=m),f=this.dataInfo.minDiff!==1/0?this.dataInfo.minDiff:c/a>this.logarithmBase?c/a*Math.pow(this.logarithmBase,.5):this.logarithmBase):"axisY"===this.type&&(c=null!==this.viewportMaximum?this.viewportMaximum:this.dataInfo.viewPortMax,0>=(a=null!==this.viewportMinimum?this.viewportMinimum:this.dataInfo.viewPortMin)&&!isFinite(c)?(c=typeof this.options.interval>"u"?0:this.options.interval,a=1):0>=a?a=c:isFinite(c)||(c=a),1===a&&1===c?(c*=this.logarithmBase-1/this.logarithmBase,a=1):c/a==1?(c*=m=Math.min(c*Math.pow(this.logarithmBase,.01),Math.pow(this.logarithmBase,5)),a/=m):a>c?(m=Math.min(a/c*Math.pow(this.logarithmBase,.01),Math.pow(this.logarithmBase,5)),1<=c?a=c/m:c=a*m):(m=Math.min(c/a*Math.pow(this.logarithmBase,.01),Math.pow(this.logarithmBase,.04)),1!==c&&(c*=m),1!==a&&(a/=m)),f=this.dataInfo.minDiff!==1/0?this.dataInfo.minDiff:c/a>this.logarithmBase?c/a*Math.pow(this.logarithmBase,.5):this.logarithmBase,this.includeZero&&(null===this.viewportMinimum||isNaN(this.viewportMinimum))&&1<a&&(a=1),this.includeZero&&(null===this.viewportMaximum||isNaN(this.viewportMaximum))&&1>c&&(c=1)),m=(isNaN(this.viewportMaximum)||null===this.viewportMaximum?c:this.viewportMaximum)/(isNaN(this.viewportMinimum)||null===this.viewportMinimum?a:this.viewportMinimum);var M=(isNaN(this.viewportMaximum)||null===this.viewportMaximum?c:this.viewportMaximum)-(isNaN(this.viewportMinimum)||null===this.viewportMinimum?a:this.viewportMinimum);if(this.intervalType="number",m=Math.pow(this.logarithmBase,oe.getNiceNumber(Math.abs(Math.log(m)/r),!1)),this.options&&0<this.options.interval?this.interval=this.options.interval:(this.interval=oe.getNiceExponent(Math.log(m)/r/(l-1),!0),u=oe.getNiceNumber(M/(l-1),!0)),(null===this.viewportMinimum||isNaN(this.viewportMinimum))&&(this.viewportMinimum="axisX"===this.type?a/Math.sqrt(f):Math.pow(this.logarithmBase,this.interval*Math.floor(Math.log(a)/r/this.interval))),(null===this.viewportMaximum||isNaN(this.viewportMaximum))&&(this.viewportMaximum="axisX"===this.type?c*Math.sqrt(f):Math.pow(this.logarithmBase,this.interval*Math.ceil(Math.log(c)/r/this.interval))),1===this.viewportMaximum&&1===this.viewportMinimum&&(1===this.options.viewportMinimum?this.viewportMaximum*=this.logarithmBase-1/this.logarithmBase:1===this.options.viewportMaximum&&(this.viewportMinimum/=this.logarithmBase-1/this.logarithmBase),this.options&&typeof this.options.interval>"u"&&(this.interval=oe.getNiceExponent(Math.ceil(Math.log(m)/r)/(l-1)),u=oe.getNiceNumber((this.viewportMaximum-this.viewportMinimum)/(l-1),!0))),(null===this.minimum||null===this.maximum)&&("axisX"===this.type?((c=null!==this.maximum?this.maximum:this.dataInfo.max)/(a=null!==this.minimum?this.minimum:this.dataInfo.min)==1&&(c*=m=Math.pow(this.logarithmBase,typeof this.options.interval>"u"?.4:this.options.interval),a/=m),f=this.dataInfo.minDiff!==1/0?this.dataInfo.minDiff:c/a>this.logarithmBase?c/a*Math.pow(this.logarithmBase,.5):this.logarithmBase):"axisY"===this.type&&(a=null!==this.minimum?this.minimum:this.dataInfo.min,c=null!==this.maximum?this.maximum:this.dataInfo.max,isFinite(a)||isFinite(c)?1===a&&1===c?(c*=this.logarithmBase,a/=this.logarithmBase):c/a==1?(c*=m=Math.pow(this.logarithmBase,this.interval),a/=m):a>c?(m=Math.min(a/c*.01,5),1<=c?a=c/m:c=a*m):(m=Math.min(c/a*Math.pow(this.logarithmBase,.01),Math.pow(this.logarithmBase,.04)),1!==c&&(c*=m),1!==a&&(a/=m)):(c=typeof this.options.interval>"u"?0:this.options.interval,a=1),f=this.dataInfo.minDiff!==1/0?this.dataInfo.minDiff:c/a>this.logarithmBase?c/a*Math.pow(this.logarithmBase,.5):this.logarithmBase,this.includeZero&&(null===this.minimum||isNaN(this.minimum))&&1<a&&(a=1),this.includeZero&&(null===this.maximum||isNaN(this.maximum))&&1>c&&(c=1)),this.intervalType="number",null===this.minimum&&(this.minimum="axisX"===this.type?a/Math.sqrt(f):Math.pow(this.logarithmBase,this.interval*Math.floor(Math.log(a)/r/this.interval)),V(null===this.sessionVariables.viewportMinimum||isNaN(this.sessionVariables.viewportMinimum)?typeof this.sessionVariables.newViewportMinimum>"u"?1/0:this.sessionVariables.newViewportMinimum:this.sessionVariables.viewportMinimum)||(this.minimum=Math.min(this.minimum,null===this.sessionVariables.viewportMinimum||isNaN(this.sessionVariables.viewportMinimum)?typeof this.sessionVariables.newViewportMinimum>"u"?1/0:this.sessionVariables.newViewportMinimum:this.sessionVariables.viewportMinimum))),null===this.maximum&&(this.maximum="axisX"===this.type?c*Math.sqrt(f):Math.pow(this.logarithmBase,this.interval*Math.ceil(Math.log(c)/r/this.interval)),V(null===this.sessionVariables.viewportMaximum||isNaN(this.sessionVariables.viewportMaximum)?typeof this.sessionVariables.newViewportMaximum>"u"?0:this.sessionVariables.newViewportMaximum:this.sessionVariables.viewportMaximum)||(this.maximum=Math.max(this.maximum,null===this.sessionVariables.viewportMaximum||isNaN(this.sessionVariables.viewportMaximum)?typeof this.sessionVariables.newViewportMaximum>"u"?0:this.sessionVariables.newViewportMaximum:this.sessionVariables.viewportMaximum))),1===this.maximum&&1===this.minimum&&(1===this.options.minimum?this.maximum*=this.logarithmBase-1/this.logarithmBase:1===this.options.maximum&&(this.minimum/=this.logarithmBase-1/this.logarithmBase))),this.viewportMinimum=Math.max(this.viewportMinimum,this.minimum),this.viewportMaximum=Math.min(this.viewportMaximum,this.maximum),this.viewportMinimum>this.viewportMaximum&&(!this.options.viewportMinimum&&!this.options.minimum||this.options.viewportMaximum||this.options.maximum?this.options.viewportMinimum||this.options.minimum||!this.options.viewportMaximum&&!this.options.maximum||(this.viewportMinimum=this.minimum=(this.options.viewportMaximum||this.options.maximum)/Math.pow(this.logarithmBase,2*Math.ceil(this.interval))):this.viewportMaximum=this.maximum=this.options.viewportMinimum||this.options.minimum),a=Math.pow(this.logarithmBase,Math.floor(Math.log(this.viewportMinimum)/(r*this.interval)+.2)*this.interval),this.range=this.viewportMaximum/this.viewportMinimum,this.noTicks=l,!this.options.interval&&this.range<Math.pow(this.logarithmBase,8>this.viewportMaximum||3>l?2:3)){for(r=Math.floor(this.viewportMinimum/u+.5)*u;r<this.viewportMinimum;)r+=u;this.equidistantInterval=!1,this.intervalStartPosition=r,this.interval=u}else this.options.interval||(u=Math.ceil(this.interval),this.range>this.interval&&(this.interval=u,a=Math.pow(this.logarithmBase,Math.floor(Math.log(this.viewportMinimum)/(r*this.interval)+.2)*this.interval))),this.equidistantInterval=!0,this.intervalStartPosition=a;if(!this.valueFormatString&&(this.valueFormatString="#,##0.##",1>this.viewportMinimum)&&(r=Math.floor(Math.abs(Math.log(this.viewportMinimum)/Math.LN10))+2,(isNaN(r)||!isFinite(r))&&(r=2),2<r))for(m=0;m<r-2;m++)this.valueFormatString+="#"},oe.generateValueFormatString=function(r,u){var l="#,##0.",a=u;1>r&&(a+=Math.floor(Math.abs(Math.log(r)/Math.LN10)),isNaN(a)||!isFinite(a))&&(a=u);for(var c=0;c<a;c++)l+="#";return l},oe.getNiceExponent=function(r,u){var l=Math.floor(Math.log(r)/Math.LN10),a=r/Math.pow(10,l);return a=0>l?1>=a?1:5>=a?5:10:Math.max(Math.floor(a),1),Number(-20>l?a*Math.pow(10,l):(a*Math.pow(10,l)).toFixed(20))},oe.getNiceNumber=function(r,u){var l=Math.floor(Math.log(r)/Math.LN10),a=r/Math.pow(10,l);return a=u?1.5>a?1:3>a?2:7>a?5:10:1>=a?1:2>=a?2:5>=a?5:10,Number(-20>l?a*Math.pow(10,l):(a*Math.pow(10,l)).toFixed(20))},oe.prototype.getLabelStartPoint=function(){var r=et[this.intervalType+"Duration"]*this.interval;return r=new Date(Math.floor(this.viewportMinimum/r)*r),"millisecond"!==this.intervalType&&("second"===this.intervalType?0<r.getMilliseconds()&&(r.setSeconds(r.getSeconds()+1),r.setMilliseconds(0)):"minute"===this.intervalType?(0<r.getSeconds()||0<r.getMilliseconds())&&(r.setMinutes(r.getMinutes()+1),r.setSeconds(0),r.setMilliseconds(0)):"hour"===this.intervalType?(0<r.getMinutes()||0<r.getSeconds()||0<r.getMilliseconds())&&(r.setHours(r.getHours()+1),r.setMinutes(0),r.setSeconds(0),r.setMilliseconds(0)):"day"===this.intervalType?(0<r.getHours()||0<r.getMinutes()||0<r.getSeconds()||0<r.getMilliseconds())&&(r.setDate(r.getDate()+1),r.setHours(0),r.setMinutes(0),r.setSeconds(0),r.setMilliseconds(0)):"week"===this.intervalType?(0<r.getDay()||0<r.getHours()||0<r.getMinutes()||0<r.getSeconds()||0<r.getMilliseconds())&&(r.setDate(r.getDate()+(7-r.getDay())),r.setHours(0),r.setMinutes(0),r.setSeconds(0),r.setMilliseconds(0)):"month"===this.intervalType?(1<r.getDate()||0<r.getHours()||0<r.getMinutes()||0<r.getSeconds()||0<r.getMilliseconds())&&(r.setMonth(r.getMonth()+1),r.setDate(1),r.setHours(0),r.setMinutes(0),r.setSeconds(0),r.setMilliseconds(0)):"year"===this.intervalType&&(0<r.getMonth()||1<r.getDate()||0<r.getHours()||0<r.getMinutes()||0<r.getSeconds()||0<r.getMilliseconds())&&(r.setFullYear(r.getFullYear()+1),r.setMonth(0),r.setDate(1),r.setHours(0),r.setMinutes(0),r.setSeconds(0),r.setMilliseconds(0))),r},xi(st,Bt),xi(Ct,Bt),Ct.prototype.createUserOptions=function(r){if(typeof r<"u"||this.options._isPlaceholder){var u=0;this.parent.options._isPlaceholder&&this.parent.createUserOptions(),this.options._isPlaceholder||(an(this.parent[this.optionsName]),u=this.parent.options[this.optionsName].indexOf(this.options)),this.options=typeof r>"u"?{}:r,this.parent.options[this.optionsName][u]=this.options}},Ct.prototype.render=function(r){if(0!==this.spacing||0!==this.options.lineThickness&&(typeof this.options.lineThickness<"u"||0!==this.parent.lineThickness)){var u=this.ctx,l=this.ctx.globalAlpha;this.ctx=r||this.ctx,this.ctx.save(),this.ctx.beginPath(),this.ctx.rect(this.chart.plotArea.x1,this.chart.plotArea.y1,this.chart.plotArea.width,this.chart.plotArea.height),this.ctx.clip();var f,m,M,C,x,g,a=this.scaleBreaks.parent.getPixelCoordinatesOnAxis(this.startValue),c=this.scaleBreaks.parent.getPixelCoordinatesOnAxis(this.endValue);this.ctx.strokeStyle=this.lineColor,this.ctx.fillStyle=this.color,this.ctx.beginPath(),this.ctx.globalAlpha=1,Xe(this.id),r=Math.max(this.spacing,3);var v=Math.max(0,this.lineThickness);if(this.ctx.lineWidth=v,this.ctx.setLineDash&&this.ctx.setLineDash($e(this.lineDashType,v)),"bottom"===this.scaleBreaks.parent._position||"top"===this.scaleBreaks.parent._position){if(m=v%2==1?.5+(c.x<<0):c.x<<0,"top"===this.scaleBreaks.parent._position?(c=this.chart.plotArea.y1,M=this.chart.plotArea.y2+v/2+.5<<0):(c=this.chart.plotArea.y2,M=this.chart.plotArea.y1-v/2+.5<<0,r*=-1),this.bounds={x1:(a=v%2==1?.5+(a.x<<0):a.x<<0)-v/2,y1:c,x2:m+v/2,y2:M},this.ctx.moveTo(a,c),"straight"===this.type||"top"===this.scaleBreaks.parent._position&&0>=r||"bottom"===this.scaleBreaks.parent._position&&0<=r)this.ctx.lineTo(a,M),this.ctx.lineTo(m,M),this.ctx.lineTo(m,c);else if("wavy"===this.type){C=a,f=.5,g=(M-(x=c))/r/3;for(var b=0;b<g;b++)this.ctx.bezierCurveTo(C+f*r,x+r,C+f*r,x+2*r,C,x+3*r),x+=3*r,f*=-1;for(this.ctx.bezierCurveTo(C+f*r,x+r,C+f*r,x+2*r,C,x+3*r),f*=-1,this.ctx.lineTo(C=m,x),b=0;b<g;b++)this.ctx.bezierCurveTo(C+f*r,x-r,C+f*r,x-2*r,C,x-3*r),x-=3*r,f*=-1}else if("zigzag"===this.type){for(f=-1,C=a+r,g=(M-(x=c+r))/r/2,b=0;b<g;b++)this.ctx.lineTo(C,x),C+=2*f*r,x+=2*r,f*=-1;for(this.ctx.lineTo(C,x),C+=m-a,b=0;b<g+1;b++)this.ctx.lineTo(C,x),C+=2*f*r,x-=2*r,f*=-1;this.ctx.lineTo(C+f*r,x+r)}}else if("left"===this.scaleBreaks.parent._position||"right"===this.scaleBreaks.parent._position)if(M=v%2==1?.5+(a.y<<0):a.y<<0,"left"===this.scaleBreaks.parent._position?(a=this.chart.plotArea.x1,m=this.chart.plotArea.x2+v/2+.5<<0):(a=this.chart.plotArea.x2,m=this.chart.plotArea.x1-v/2+.5<<0,r*=-1),this.bounds={x1:a,y1:(c=v%2==1?.5+(c.y<<0):c.y<<0)-v/2,x2:m,y2:M+v/2},this.ctx.moveTo(a,c),"straight"===this.type||"left"===this.scaleBreaks.parent._position&&0>=r||"right"===this.scaleBreaks.parent._position&&0<=r)this.ctx.lineTo(m,c),this.ctx.lineTo(m,M),this.ctx.lineTo(a,M);else if("wavy"===this.type){for(x=c,f=.5,g=(m-(C=a))/r/3,b=0;b<g;b++)this.ctx.bezierCurveTo(C+r,x+f*r,C+2*r,x+f*r,C+3*r,x),C+=3*r,f*=-1;for(this.ctx.bezierCurveTo(C+r,x+f*r,C+2*r,x+f*r,C+3*r,x),f*=-1,this.ctx.lineTo(C,x=M),b=0;b<g;b++)this.ctx.bezierCurveTo(C-r,x+f*r,C-2*r,x+f*r,C-3*r,x),C-=3*r,f*=-1}else if("zigzag"===this.type){for(f=1,x=c-r,g=(m-(C=a+r))/r/2,b=0;b<g;b++)this.ctx.lineTo(C,x),x+=2*f*r,C+=2*r,f*=-1;for(this.ctx.lineTo(C,x),x+=M-c,b=0;b<g+1;b++)this.ctx.lineTo(C,x),x+=2*f*r,C-=2*r,f*=-1;this.ctx.lineTo(C+r,x+f*r)}0<v&&this.ctx.stroke(),this.ctx.closePath(),this.ctx.globalAlpha=this.fillOpacity,this.ctx.globalCompositeOperation="destination-over",this.ctx.fill(),this.ctx.restore(),this.ctx.globalAlpha=l,this.ctx=u}},xi(Ye,Bt),Ye.prototype.createUserOptions=function(r){if(typeof r<"u"||this.options._isPlaceholder){var u=0;this.parent.options._isPlaceholder&&this.parent.createUserOptions(),this.options._isPlaceholder||(an(this.parent.stripLines),u=this.parent.options.stripLines.indexOf(this.options)),this.options=typeof r>"u"?{}:r,this.parent.options.stripLines[u]=this.options}},Ye.prototype.render=function(){this.ctx.save();var r=this.parent.getPixelCoordinatesOnAxis(this.value),u=Math.abs("pixel"===this._thicknessType?this.thickness:Math.abs(this.parent.convertValueToPixel(this.endValue)-this.parent.convertValueToPixel(this.startValue)));if(0<u){var l=null===this.opacity?1:this.opacity;this.ctx.strokeStyle=this.color,this.ctx.beginPath();var c,f,m,M,a=this.ctx.globalAlpha;this.ctx.globalAlpha=l,Xe(this.id),this.ctx.lineWidth=u,this.ctx.setLineDash&&this.ctx.setLineDash($e(this.lineDashType,u)),"bottom"===this.parent._position||"top"===this.parent._position?(c=f=this.ctx.lineWidth%2==1?.5+(r.x<<0):r.x<<0,this.bounds={x1:c-u/2,y1:m=this.chart.plotArea.y1,x2:f+u/2,y2:M=this.chart.plotArea.y2}):("left"===this.parent._position||"right"===this.parent._position)&&(m=M=this.ctx.lineWidth%2==1?.5+(r.y<<0):r.y<<0,this.bounds={x1:c=this.chart.plotArea.x1,y1:m-u/2,x2:f=this.chart.plotArea.x2,y2:M+u/2}),this.ctx.moveTo(c,m),this.ctx.lineTo(f,M),this.ctx.stroke(),this.ctx.globalAlpha=a}this.ctx.restore()},xi(bi,Bt),bi.prototype.showAt=function(r){if(!this.enabled)return!1;var u=this.chart,l=!1;if(u.resetOverlayedCanvas(),u.clearedOverlayedCanvas=this.parent.type,this.chart.renderCrosshairs(this.parent),"xySwapped"===u.plotInfo.axisPlacement){if("bottom"===this.parent._position)for(var a=0;a<u.axisY.length;a++)this.parent===u.axisY[a]&&(u.axisY[a]._crosshairValue=r>=u.axisY[a].viewportMinimum&&r<=u.axisY[a].viewportMaximum?r:null);else if("top"===this.parent._position)for(a=0;a<u.axisY2.length;a++)this.parent===u.axisY2[a]&&(u.axisY2[a]._crosshairValue=r>=u.axisY2[a].viewportMinimum&&r<=u.axisY2[a].viewportMaximum?r:null);else if("left"===this.parent._position)for(a=0;a<u.axisX.length;a++)this.parent===u.axisX[a]&&(u.axisX[a]._crosshairValue=r>=u.axisX[a].viewportMinimum&&r<=u.axisX[a].viewportMaximum?r:null);else if("right"===this.parent._position)for(a=0;a<u.axisX2.length;a++)this.parent===u.axisX2[a]&&(u.axisX2[a]._crosshairValue=r>=u.axisX2[a].viewportMinimum&&r<=u.axisX2[a].viewportMaximum?r:null)}else if("bottom"===this.parent._position)for(a=0;a<u.axisX.length;a++)this.parent===u.axisX[a]&&(u.axisX[a]._crosshairValue=r>=u.axisX[a].viewportMinimum&&r<=u.axisX[a].viewportMaximum?r:null);else if("top"===this.parent._position)for(a=0;a<u.axisX2.length;a++)this.parent===u.axisX2[a]&&(u.axisX2[a]._crosshairValue=r>=u.axisX2[a].viewportMinimum&&r<=u.axisX2[a].viewportMaximum?r:null);else if("left"===this.parent._position)for(a=0;a<u.axisY.length;a++)this.parent===u.axisY[a]&&(u.axisY[a]._crosshairValue=r>=u.axisY[a].viewportMinimum&&r<=u.axisY[a].viewportMaximum?r:null);else if("right"===this.parent._position)for(a=0;a<u.axisY2.length;a++)this.parent===u.axisY2[a]&&(u.axisY2[a]._crosshairValue=r>=u.axisY2[a].viewportMinimum&&r<=u.axisY2[a].viewportMaximum?r:null);for(a=0;a<u.axisX.length;a++)r=u.axisX[a]._crosshairValue,u.axisX[a].crosshair&&u.axisX[a].crosshair.enabled&&!V(r)&&r>=u.axisX[a].viewportMinimum&&r<=u.axisX[a].viewportMaximum&&(u.axisX[a].showCrosshair(r),u.axisX[a].crosshair._updatedValue=r,this===u.axisX[a].crosshair&&(l=!0));for(a=0;a<u.axisX2.length;a++)r=u.axisX2[a]._crosshairValue,u.axisX2[a].crosshair&&u.axisX2[a].crosshair.enabled&&!V(r)&&r>=u.axisX2[a].viewportMinimum&&r<=u.axisX2[a].viewportMaximum&&(u.axisX2[a].showCrosshair(r),u.axisX2[a].crosshair._updatedValue=r,this===u.axisX2[a].crosshair&&(l=!0));for(a=0;a<u.axisY.length;a++)r=u.axisY[a]._crosshairValue,u.axisY[a].crosshair&&u.axisY[a].crosshair.enabled&&!V(r)&&r>=u.axisY[a].viewportMinimum&&r<=u.axisY[a].viewportMaximum&&(u.axisY[a].showCrosshair(r),u.axisY[a].crosshair._updatedValue=r,this===u.axisY[a].crosshair&&(l=!0));for(a=0;a<u.axisY2.length;a++)r=u.axisY2[a]._crosshairValue,u.axisY2[a].crosshair&&u.axisY2[a].crosshair.enabled&&!V(r)&&r>=u.axisY2[a].viewportMinimum&&r<=u.axisY2[a].viewportMaximum&&(u.axisY2[a].showCrosshair(r),u.axisY2[a].crosshair._updatedValue=r,this===u.axisY2[a].crosshair&&(l=!0));return this.chart.toolTip&&this.chart.toolTip._entries&&this.chart.toolTip.highlightObjects(this.chart.toolTip._entries),l},bi.prototype.hide=function(){this.chart.resetOverlayedCanvas(),this.chart.renderCrosshairs(this.parent),this._hidden=!0},bi.prototype.render=function(r,u,l){var a,c,f,m,M=null,C=null,x=null,g="";this.valueFormatString||("dateTime"===this.parent.valueType?this.valueFormatString=this.parent.valueFormatString:(x=0,x="xySwapped"===this.chart.plotInfo.axisPlacement?50<this.parent.range?0:500<this.chart.width&&25>this.parent.range?2:Math.floor(Math.abs(Math.log(this.parent.range)/Math.LN10))+(5>this.parent.range?2:10>this.parent.range?1:0):50<this.parent.range?0:Math.floor(Math.abs(Math.log(this.parent.range)/Math.LN10))+(5>this.parent.range?2:10>this.parent.range?1:0),this.valueFormatString=oe.generateValueFormatString(this.parent.range,x)));var v=null===this.opacity?1:this.opacity,b=Math.abs("pixel"===this._thicknessType?this.thickness:this.parent.conversionParameters.pixelPerUnit*this.thickness),d=this.chart.overlaidCanvasCtx,w=d.globalAlpha;if(d.beginPath(),d.strokeStyle=this.color,d.lineWidth=b,d.save(),this.labelFontSize=Math.abs(V(this.options.labelFontSize)?this.parent.labelFontSize:this.labelFontSize),this.labelMaxWidth=V(this.options.labelMaxWidth)?.3*this.chart.width:this.labelMaxWidth,this.labelMaxHeight=V(this.options.labelWrap)||this.labelWrap?.3*this.chart.height:2*this.labelFontSize,0<b&&d.setLineDash&&d.setLineDash($e(this.lineDashType,b)),x=new Ze(d,{x:0,y:0,padding:{top:2,right:3,bottom:2,left:4},backgroundColor:this.labelBackgroundColor,borderColor:this.labelBorderColor,borderThickness:this.labelBorderThickness,cornerRadius:this.labelCornerRadius,maxWidth:this.labelMaxWidth,maxHeight:this.labelMaxHeight,angle:this.labelAngle,text:g,horizontalAlign:"left",fontSize:this.labelFontSize,fontFamily:this.labelFontFamily,fontWeight:this.labelFontWeight,fontColor:this.labelFontColor,fontStyle:this.labelFontStyle,textBaseline:"middle"}),this.snapToDataPoint){var P=0;if(g=[],"xySwapped"===this.chart.plotInfo.axisPlacement){var k=null;"bottom"===this.parent._position||"top"===this.parent._position?P=this.parent.dataSeries[0].axisX.convertPixelToValue({y:u}):("left"===this.parent._position||"right"===this.parent._position)&&(P=this.parent.convertPixelToValue({y:u}));for(var D=0;D<this.parent.dataSeries.length;D++)(k=this.parent.dataSeries[D].getDataPointAtX(P,!0))&&0<=k.index&&(k.dataSeries=this.parent.dataSeries[D],null!==k.dataPoint.y&&k.dataSeries.visible&&g.push(k));if(k=null,0===g.length)return;if(g.sort(function(ie,le){return ie.distance-le.distance}),k=Math.abs(r-this.parent.convertValueToPixel(g[0].dataPoint.y)),D=0,"rangeBar"===g[0].dataSeries.type||"error"===g[0].dataSeries.type){k=Math.abs(r-this.parent.convertValueToPixel(g[D].dataPoint.y[0]));var L=0;for(P=0;P<g.length;P++)if(g[P].dataPoint.y&&g[P].dataPoint.y.length)for(var F=0;F<g[P].dataPoint.y.length;F++)(L=Math.abs(r-this.parent.convertValueToPixel(g[P].dataPoint.y[F])))<k&&(k=L,D=P);else(L=Math.abs(r-this.parent.convertValueToPixel(g[P].dataPoint.y)))<k&&(k=L,D=P)}else if("stackedBar"===g[0].dataSeries.type){k=Math.abs(r-this.parent.convertValueToPixel(g[0].dataPoint.y));var B=L=0;for(P=D=0;P<g.length;P++)if(g[P].dataPoint.y&&g[P].dataPoint.y.length)for(F=0;F<g[P].dataPoint.y.length;F++)(L=Math.abs(r-this.parent.convertValueToPixel(g[P].dataPoint.y[F])))<k&&(k=L,D=P);else B+=g[P].dataPoint.y,(L=Math.abs(r-this.parent.convertValueToPixel(B)))<k&&(k=L,D=P)}else if("stackedBar100"===g[0].dataSeries.type){k=Math.abs(r-this.parent.convertValueToPixel(g[0].dataPoint.y));var j=B=L=0;for(P=0;P<g.length;P++)if(g[P].dataPoint.y&&g[P].dataPoint.y.length)for(F=0;F<g[P].dataPoint.y.length;F++)(L=Math.abs(r-this.parent.convertValueToPixel(g[P].dataPoint.y[F])))<k&&(k=L,D=P);else B+=g[P].dataPoint.y,j=g[P].dataPoint.x.getTime?g[P].dataPoint.x.getTime():g[P].dataPoint.x,j=B/g[P].dataSeries.plotUnit.dataPointYSums[j]*100,(L=Math.abs(r-this.parent.convertValueToPixel(j)))<k&&(k=L,D=P)}else for(k=Math.abs(r-this.parent.convertValueToPixel(g[0].dataPoint.y)),P=D=L=0;P<g.length;P++)if(g[P].dataPoint.y&&g[P].dataPoint.y.length)for(F=0;F<g[P].dataPoint.y.length;F++)(L=Math.abs(r-this.parent.convertValueToPixel(g[P].dataPoint.y[F])))<k&&(k=L,D=P);else(L=Math.abs(r-this.parent.convertValueToPixel(g[P].dataPoint.y)))<k&&(k=L,D=P);if(F=g[D],"bottom"===this.parent._position||"top"===this.parent._position){if(a=0,"rangeBar"===F.dataSeries.type||"error"===F.dataSeries.type){for(k=Math.abs(r-this.parent.convertValueToPixel(F.dataPoint.y[0])),P=L=0;P<F.dataPoint.y.length;P++)(L=Math.abs(r-this.parent.convertValueToPixel(F.dataPoint.y[P])))<k&&(k=L,a=P);M=d.lineWidth%2==1?.5+(this.parent.convertValueToPixel(F.dataPoint.y[a])<<0):this.parent.convertValueToPixel(F.dataPoint.y[a])<<0,this.value=F.dataPoint.y[a],x.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:F.dataPoint.y[a]}):V(this.options.label)?ii(V(l)?F.dataPoint.y[a]:l,this.valueFormatString,this.chart._cultureInfo):this.label}else if("stackedBar"===F.dataSeries.type){for(k=Math.abs(r-this.parent.convertValueToPixel(g[0].dataPoint.y)),B=L=0,P=D;0<=P;P--)B+=g[P].dataPoint.y,(L=Math.abs(r-this.parent.convertValueToPixel(B)))<k&&(k=L,a=P);M=d.lineWidth%2==1?.5+(this.parent.convertValueToPixel(B)<<0):this.parent.convertValueToPixel(B)<<0,this.value=B,x.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:F.dataPoint.y}):V(this.options.label)?ii(V(l)?F.dataPoint.y:l,this.valueFormatString,this.chart._cultureInfo):this.label}else if("stackedBar100"===F.dataSeries.type){for(k=Math.abs(r-this.parent.convertValueToPixel(g[0].dataPoint.y)),j=B=L=0,P=D;0<=P;P--)B+=g[P].dataPoint.y,j=g[P].dataPoint.x.getTime?g[P].dataPoint.x.getTime():g[P].dataPoint.x,j=B/g[P].dataSeries.plotUnit.dataPointYSums[j]*100,(L=Math.abs(r-this.parent.convertValueToPixel(j)))<k&&(k=L,a=P);M=d.lineWidth%2==1?.5+(this.parent.convertValueToPixel(j)<<0):this.parent.convertValueToPixel(j)<<0,this.value=j,x.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:j}):V(this.options.label)?ii(V(l)?j:l,this.valueFormatString,this.chart._cultureInfo):this.label}else M=d.lineWidth%2==1?.5+(this.parent.convertValueToPixel(F.dataPoint.y)<<0):this.parent.convertValueToPixel(F.dataPoint.y)<<0,this.value=F.dataPoint.y,x.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:F.dataPoint.y}):V(this.options.label)?ii(V(l)?F.dataPoint.y:l,this.valueFormatString,this.chart._cultureInfo):this.label;a=c=M,this.bounds={x1:a-b/2,y1:f=this.chart.plotArea.y1,x2:c+b/2,y2:m=this.chart.plotArea.y2},x.x=a-x.measureText().width/2,x.x+x.width>this.chart.bounds.x2?x.x=this.chart.bounds.x2-x.width:x.x<this.chart.bounds.x1&&(x.x=this.chart.bounds.x1),x.y=this.parent.lineCoordinates.y2+("top"===this.parent._position?-x.height+this.parent.tickLength:x.fontSize/2)+2,x.y+x.height>this.chart.bounds.y2?x.y=this.chart.bounds.y2-x.height:x.y<this.chart.bounds.y1&&(x.y=this.chart.bounds.y1)}else if("left"===this.parent._position||"right"===this.parent._position){if(f=m=C=d.lineWidth%2==1?.5+(this.parent.convertValueToPixel(F.dataPoint.x)<<0):this.parent.convertValueToPixel(F.dataPoint.x)<<0,this.bounds={x1:a=this.chart.plotArea.x1,y1:f-b/2,x2:c=this.chart.plotArea.x2,y2:m+b/2},j=!1,this.parent.labels)for(g=Math.ceil(this.parent.interval),P=0;P<this.parent.viewportMaximum;P+=g){if(!this.parent.labels[P]){j=!1;break}j=!0}if(j){if("axisX"===this.parent.type)for(P=this.parent.convertPixelToValue({y:u}),k=null,D=0;D<this.parent.dataSeries.length;D++)(k=this.parent.dataSeries[D].getDataPointAtX(P,!0))&&0<=k.index&&(x.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:F.dataPoint.x}):V(this.options.label)?k.dataPoint.label:this.label)}else x.text="dateTime"!==this.parent.valueType||this.parent.logarithmic?this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:F.dataPoint.x}):V(this.options.label)?ii(F.dataPoint.x,this.valueFormatString,this.chart._cultureInfo):this.label:this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:F.dataPoint.x}):V(this.options.label)?cs(F.dataPoint.x,this.valueFormatString,this.chart._cultureInfo):this.label;this.value=F.dataPoint.x,x.y=m+x.fontSize/2-x.measureText().height/2+2,x.y-x.fontSize/2<this.chart.bounds.y1?x.y=this.chart.bounds.y1+x.fontSize/2+2:x.y+x.measureText().height-x.fontSize/2>this.chart.bounds.y2&&(x.y=this.chart.bounds.y2-x.measureText().height+x.fontSize/2),"left"===this.parent._position?x.x=this.parent.lineCoordinates.x2-x.measureText().width:"right"===this.parent._position&&(x.x=this.parent.lineCoordinates.x2)}}else if("bottom"===this.parent._position||"top"===this.parent._position){for(P=this.parent.convertPixelToValue({x:r}),D=0;D<this.parent.dataSeries.length;D++)(k=this.parent.dataSeries[D].getDataPointAtX(P,!0))&&0<=k.index&&(k.dataSeries=this.parent.dataSeries[D],null!==k.dataPoint.y&&k.dataSeries.visible&&g.push(k));if(0===g.length)return;if(g.sort(function(ie,le){return ie.distance-le.distance}),F=g[0],a=c=M=d.lineWidth%2==1?.5+(this.parent.convertValueToPixel(F.dataPoint.x)<<0):this.parent.convertValueToPixel(F.dataPoint.x)<<0,this.bounds={x1:a-b/2,y1:f=this.chart.plotArea.y1,x2:c+b/2,y2:m=this.chart.plotArea.y2},j=!1,this.parent.labels)for(g=Math.ceil(this.parent.interval),P=0;P<this.parent.viewportMaximum;P+=g){if(!this.parent.labels[P]){j=!1;break}j=!0}if(j){if("axisX"===this.parent.type)for(P=this.parent.convertPixelToValue({x:r}),k=null,D=0;D<this.parent.dataSeries.length;D++)(k=this.parent.dataSeries[D].getDataPointAtX(P,!0))&&0<=k.index&&(x.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:F.dataPoint.x}):V(this.options.label)?k.dataPoint.label:this.label)}else x.text="dateTime"!==this.parent.valueType||this.parent.logarithmic?this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:F.dataPoint.x}):V(this.options.label)?ii(F.dataPoint.x,this.valueFormatString,this.chart._cultureInfo):this.label:this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:F.dataPoint.x}):V(this.options.label)?cs(F.dataPoint.x,this.valueFormatString,this.chart._cultureInfo):this.label;this.value=F.dataPoint.x,x.x=a-x.measureText().width/2,x.x+x.width>this.chart.bounds.x2&&(x.x=this.chart.bounds.x2-x.width),x.x<this.chart.bounds.x1&&(x.x=this.chart.bounds.x1),"bottom"===this.parent._position?x.y=this.parent.lineCoordinates.y2+x.fontSize/2+2:"top"===this.parent._position&&(x.y=this.parent.lineCoordinates.y1-x.height+x.fontSize/2+2)}else if("left"===this.parent._position||"right"===this.parent._position){for(!V(this.parent.dataSeries)&&0<this.parent.dataSeries.length&&(P=this.parent.dataSeries[0].axisX.convertPixelToValue({x:r})),D=0;D<this.parent.dataSeries.length;D++)(k=this.parent.dataSeries[D].getDataPointAtX(P,!0))&&0<=k.index&&(k.dataSeries=this.parent.dataSeries[D],null!==k.dataPoint.y&&k.dataSeries.visible&&g.push(k));if(0===g.length)return;if(g.sort(function(ie,le){return ie.distance-le.distance}),D=0,"rangeColumn"===g[0].dataSeries.type||"rangeArea"===g[0].dataSeries.type||"error"===g[0].dataSeries.type||"rangeSplineArea"===g[0].dataSeries.type||"candlestick"===g[0].dataSeries.type||"ohlc"===g[0].dataSeries.type||"boxAndWhisker"===g[0].dataSeries.type)for(k=Math.abs(u-this.parent.convertValueToPixel(g[0].dataPoint.y[0])),P=L=0;P<g.length;P++)if(g[P].dataPoint.y&&g[P].dataPoint.y.length)for(F=0;F<g[P].dataPoint.y.length;F++)(L=Math.abs(u-this.parent.convertValueToPixel(g[P].dataPoint.y[F])))<k&&(k=L,D=P);else(L=Math.abs(u-this.parent.convertValueToPixel(g[P].dataPoint.y)))<k&&(k=L,D=P);else if("stackedColumn"===g[0].dataSeries.type||"stackedArea"===g[0].dataSeries.type)for(k=Math.abs(u-this.parent.convertValueToPixel(g[0].dataPoint.y)),P=B=L=0;P<g.length;P++)if(g[P].dataPoint.y&&g[P].dataPoint.y.length)for(F=0;F<g[P].dataPoint.y.length;F++)(L=Math.abs(u-this.parent.convertValueToPixel(g[P].dataPoint.y[F])))<k&&(k=L,D=P);else B+=g[P].dataPoint.y,(L=Math.abs(u-this.parent.convertValueToPixel(B)))<k&&(k=L,D=P);else if("stackedColumn100"===g[0].dataSeries.type||"stackedArea100"===g[0].dataSeries.type)for(k=Math.abs(u-this.parent.convertValueToPixel(g[0].dataPoint.y)),P=j=B=L=0;P<g.length;P++)if(g[P].dataPoint.y&&g[P].dataPoint.y.length)for(F=0;F<g[P].dataPoint.y.length;F++)(L=Math.abs(u-this.parent.convertValueToPixel(g[P].dataPoint.y[F])))<k&&(k=L,D=P);else B+=g[P].dataPoint.y,j=g[P].dataPoint.x.getTime?g[P].dataPoint.x.getTime():g[P].dataPoint.x,j=B/g[P].dataSeries.plotUnit.dataPointYSums[j]*100,(L=Math.abs(u-this.parent.convertValueToPixel(j)))<k&&(k=L,D=P);else for(k=Math.abs(u-this.parent.convertValueToPixel(g[0].dataPoint.y)),P=L=0;P<g.length;P++)if(g[P].dataPoint.y&&g[P].dataPoint.y.length)for(F=0;F<g[P].dataPoint.y.length;F++)(L=Math.abs(u-this.parent.convertValueToPixel(g[P].dataPoint.y[F])))<k&&(k=L,D=P);else(L=Math.abs(u-this.parent.convertValueToPixel(g[P].dataPoint.y)))<k&&(k=L,D=P);if(a=0,"rangeColumn"===(F=g[D]).dataSeries.type||"rangeArea"===F.dataSeries.type||"error"===F.dataSeries.type||"rangeSplineArea"===F.dataSeries.type||"candlestick"===F.dataSeries.type||"ohlc"===F.dataSeries.type||"boxAndWhisker"===F.dataSeries.type){for(k=Math.abs(u-this.parent.convertValueToPixel(F.dataPoint.y[0])),P=L=0;P<F.dataPoint.y.length;P++)(L=Math.abs(u-this.parent.convertValueToPixel(F.dataPoint.y[P])))<k&&(k=L,a=P);C=d.lineWidth%2==1?.5+(this.parent.convertValueToPixel(F.dataPoint.y[a])<<0):this.parent.convertValueToPixel(F.dataPoint.y[a])<<0,x.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:F.dataPoint.y[a]}):V(this.options.label)?ii(V(l)?F.dataPoint.y[a]:l,this.valueFormatString,this.chart._cultureInfo):this.label,this.value=F.dataPoint.y[a]}else if("stackedColumn"===F.dataSeries.type||"stackedArea"===F.dataSeries.type){for(k=Math.abs(u-this.parent.convertValueToPixel(g[0].dataPoint.y)),B=L=0,P=D;0<=P;P--)B+=g[P].dataPoint.y,(L=Math.abs(u-this.parent.convertValueToPixel(B)))<k&&(k=L,a=P);C=d.lineWidth%2==1?.5+(this.parent.convertValueToPixel(B)<<0):this.parent.convertValueToPixel(B)<<0,x.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:F.dataPoint.y}):V(this.options.label)?ii(V(l)?F.dataPoint.y:l,this.valueFormatString,this.chart._cultureInfo):this.label,this.value=B}else if("stackedColumn100"===F.dataSeries.type||"stackedArea100"===F.dataSeries.type){for(k=Math.abs(u-this.parent.convertValueToPixel(g[0].dataPoint.y)),B=L=0,P=D;0<=P;P--)B+=g[P].dataPoint.y,j=g[P].dataPoint.x.getTime?g[P].dataPoint.x.getTime():g[P].dataPoint.x,j=B/g[P].dataSeries.plotUnit.dataPointYSums[j]*100,(L=Math.abs(u-this.parent.convertValueToPixel(j)))<k&&(k=L,a=P);C=d.lineWidth%2==1?.5+(this.parent.convertValueToPixel(j)<<0):this.parent.convertValueToPixel(j)<<0,x.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:j}):V(this.options.label)?ii(V(l)?j:l,this.valueFormatString,this.chart._cultureInfo):this.label,this.value=j}else"waterfall"===F.dataSeries.type?(C=d.lineWidth%2==1?.5+(this.parent.convertValueToPixel(F.dataSeries.dataPointEOs[F.index].cumulativeSum)<<0):this.parent.convertValueToPixel(F.dataSeries.dataPointEOs[F.index].cumulativeSum)<<0,x.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:F.dataSeries.dataPointEOs[F.index].cumulativeSum}):V(this.options.label)?ii(V(l)?F.dataSeries.dataPointEOs[F.index].cumulativeSum:l,this.valueFormatString,this.chart._cultureInfo):this.label,this.value=F.dataSeries.dataPointEOs[F.index].cumulativeSum):(C=d.lineWidth%2==1?(V(r)?u:this.parent.convertValueToPixel(F.dataPoint.y)<<0)+.5:V(r)?u:this.parent.convertValueToPixel(F.dataPoint.y)<<0,x.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:V(l)?F.dataPoint.y:l}):V(this.options.label)?ii(V(l)?F.dataPoint.y:l,this.valueFormatString,this.chart._cultureInfo):this.label,this.value=F.dataPoint.y);f=m=C,this.bounds={x1:a=this.chart.plotArea.x1,y1:f-b/2,x2:c=this.chart.plotArea.x2,y2:m+b/2},x.y=m+x.fontSize/2-x.measureText().height/2+2,x.y-x.fontSize/2<this.chart.bounds.y1?x.y=this.chart.bounds.y1+x.fontSize/2+2:x.y+x.measureText().height-x.fontSize/2>this.chart.bounds.y2&&(x.y=this.chart.bounds.y2-x.measureText().height+x.fontSize/2),"left"===this.parent._position?x.x=this.parent.lineCoordinates.x2-x.measureText().width:"right"===this.parent._position&&(x.x=this.parent.lineCoordinates.x2)}g=null,d.globalAlpha=v,("bottom"===this.parent._position||"top"===this.parent._position)&&("top"===this.parent._position&&x.y-x.fontSize/2<this.chart.bounds.y1&&(x.y=this.chart.bounds.y1+x.fontSize/2),"bottom"===this.parent._position&&this.parent.lineCoordinates.y2-x.fontSize/2+x.measureText().height>this.chart.bounds.y2&&(x.y=this.chart.bounds.y2-x.height+x.fontSize/2+2),a>=this.parent.convertValueToPixel(this.parent.reversed?this.parent.viewportMaximum:this.parent.viewportMinimum)&&c<=this.parent.convertValueToPixel(this.parent.reversed?this.parent.viewportMinimum:this.parent.viewportMaximum)&&(0<b&&(d.moveTo(a,f),d.lineTo(c,m),d.stroke(),this._hidden=!1),d.restore())),("left"===this.parent._position||"right"===this.parent._position)&&("left"===this.parent._position&&x.x<this.chart.bounds.x1&&(x.x=this.chart.bounds.x1),"right"===this.parent._position&&x.x+x.measureText().width>this.chart.bounds.x2&&(x.x=this.chart.bounds.x2-x.measureText().width),m>=this.parent.convertValueToPixel(this.parent.reversed?this.parent.viewportMinimum:this.parent.viewportMaximum)&&f<=this.parent.convertValueToPixel(this.parent.reversed?this.parent.viewportMaximum:this.parent.viewportMinimum)&&(0<b&&(d.moveTo(a,f),d.lineTo(c,m),d.stroke(),this._hidden=!1),d.restore()))}else{if("bottom"===this.parent._position||"top"===this.parent._position?(a=c=M=d.lineWidth%2==1?.5+(r<<0):r<<0,this.bounds={x1:a-b/2,y1:f=this.chart.plotArea.y1,x2:c+b/2,y2:m=this.chart.plotArea.y2}):("left"===this.parent._position||"right"===this.parent._position)&&(f=m=C=d.lineWidth%2==1?.5+(u<<0):u<<0,this.bounds={x1:a=this.chart.plotArea.x1,y1:f-b/2,x2:c=this.chart.plotArea.x2,y2:m+b/2}),"xySwapped"===this.chart.plotInfo.axisPlacement)if("left"===this.parent._position||"right"===this.parent._position){if(j=!1,this.parent.labels)for(g=Math.ceil(this.parent.interval),P=0;P<this.parent.viewportMaximum;P+=g){if(!this.parent.labels[P]){j=!1;break}j=!0}if(j){if("axisX"===this.parent.type)for(P=this.parent.convertPixelToValue({y:u}),k=null,D=0;D<this.parent.dataSeries.length;D++)(k=this.parent.dataSeries[D].getDataPointAtX(P,!0))&&0<=k.index&&(x.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:V(l)?this.parent.convertPixelToValue(r):l}):V(this.options.label)?k.dataPoint.label:this.label)}else x.text="dateTime"!==this.parent.valueType||this.parent.logarithmic?this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:V(l)?this.parent.convertPixelToValue(u):l}):V(this.options.label)?ii(V(l)?this.parent.convertPixelToValue(u):l,this.valueFormatString,this.chart._cultureInfo):this.label:this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:V(l)?this.parent.convertPixelToValue(u):l}):V(this.options.label)?cs(V(l)?this.parent.convertPixelToValue(u):l,this.valueFormatString,this.chart._cultureInfo):this.label;x.y=u+x.fontSize/2-x.measureText().height/2+2,x.y-x.fontSize/2<this.chart.bounds.y1?x.y=this.chart.bounds.y1+x.fontSize/2+2:x.y+x.measureText().height-x.fontSize/2>this.chart.bounds.y2&&(x.y=this.chart.bounds.y2-x.measureText().height+x.fontSize/2),"left"===this.parent._position?x.x=this.parent.lineCoordinates.x1-x.measureText().width:"right"===this.parent._position&&(x.x=this.parent.lineCoordinates.x2)}else("bottom"===this.parent._position||"top"===this.parent._position)&&(x.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:V(l)?this.parent.convertPixelToValue(r):l}):V(this.options.label)?ii(V(l)?this.parent.convertPixelToValue(r):l,this.valueFormatString,this.chart._cultureInfo):this.label,x.x=a-x.measureText().width/2,x.x+x.width>this.chart.bounds.x2&&(x.x=this.chart.bounds.x2-x.width),x.x<this.chart.bounds.x1&&(x.x=this.chart.bounds.x1),"bottom"===this.parent._position?x.y=this.parent.lineCoordinates.y2+x.fontSize/2+2:"top"===this.parent._position&&(x.y=this.parent.lineCoordinates.y1-x.height+x.fontSize/2+2));else if("bottom"===this.parent._position||"top"===this.parent._position){if(j=!1,g="",this.parent.labels)for(g=Math.ceil(this.parent.interval),P=0;P<this.parent.viewportMaximum;P+=g){if(!this.parent.labels[P]){j=!1;break}j=!0}if(j){if("axisX"===this.parent.type)for(P=this.parent.convertPixelToValue({x:r}),k=null,D=0;D<this.parent.dataSeries.length;D++)(k=this.parent.dataSeries[D].getDataPointAtX(P,!0))&&0<=k.index&&(x.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:V(l)?this.parent.convertPixelToValue(r):l}):V(this.options.label)?V(l)?k.dataPoint.label:l:this.label)}else x.text="dateTime"!==this.parent.valueType||this.parent.logarithmic?this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:V(l)?0<this.parent.dataSeries.length?this.parent.convertPixelToValue(r):"":l}):V(this.options.label)?ii(V(l)?this.parent.convertPixelToValue(r):l,this.valueFormatString,this.chart._cultureInfo):this.label:this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:V(l)?this.parent.convertPixelToValue(r):l}):V(this.options.label)?cs(V(l)?this.parent.convertPixelToValue(r):l,this.valueFormatString,this.chart._cultureInfo):this.label;x.x=a-x.measureText().width/2,x.x+x.width>this.chart.bounds.x2&&(x.x=this.chart.bounds.x2-x.width),x.x<this.chart.bounds.x1&&(x.x=this.chart.bounds.x1),"bottom"===this.parent._position?x.y=this.parent.lineCoordinates.y2+x.fontSize/2+2:"top"===this.parent._position&&(x.y=this.parent.lineCoordinates.y1-x.height+x.fontSize/2+2)}else("left"===this.parent._position||"right"===this.parent._position)&&(x.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:V(l)?this.parent.convertPixelToValue(u):l}):V(this.options.label)?ii(V(l)?this.parent.convertPixelToValue(u):l,this.valueFormatString,this.chart._cultureInfo):this.label,x.y=u+x.fontSize/2-x.measureText().height/2+2,x.y-x.fontSize/2<this.chart.bounds.y1?x.y=this.chart.bounds.y1+x.fontSize/2+2:x.y+x.measureText().height-x.fontSize/2>this.chart.bounds.y2&&(x.y=this.chart.bounds.y2-x.measureText().height+x.fontSize/2),"left"===this.parent._position?x.x=this.parent.lineCoordinates.x2-x.measureText().width:"right"===this.parent._position&&(x.x=this.parent.lineCoordinates.x2));"left"===this.parent._position&&x.x<this.chart.bounds.x1?x.x=this.chart.bounds.x1:"right"===this.parent._position&&x.x+x.measureText().width>this.chart.bounds.x2?x.x=this.chart.bounds.x2-x.measureText().width:"top"===this.parent._position&&x.y-x.fontSize/2<this.chart.bounds.y1?x.y=this.chart.bounds.y1+x.fontSize/2:"bottom"===this.parent._position&&this.parent.lineCoordinates.y2-x.fontSize/2+x.measureText().height>this.chart.bounds.y2&&(x.y=this.chart.bounds.y2-x.height+x.fontSize/2+2),d.globalAlpha=v,0<b&&(d.moveTo(a,f),d.lineTo(c,m),d.stroke(),this._hidden=!1),d.restore(),this.value=this.parent.convertPixelToValue("bottom"===this.parent._position||"top"===this.parent._position?r:u)}("bottom"===this.parent._position||"top"===this.parent._position)&&(this._updatedValue=this.parent.convertPixelToValue(M)),("left"===this.parent._position||"right"===this.parent._position)&&(this._updatedValue=this.parent.convertPixelToValue(C)),this._textBlock=x,this._label=l,V(l)||this.renderLabel(),d.globalAlpha=w},bi.prototype.renderLabel=function(){V(this._textBlock)||V(this._textBlock.text)||!("number"==typeof this._textBlock.text.valueOf()||0<this._textBlock.text.length)||this._hidden||this._textBlock.render(!0),V(this._label)&&this.dispatchEvent("updated",{chart:this.chart,crosshair:this.options,axis:this.parent,value:this.value},this.parent)},xi(Gt,Bt),Gt.prototype._initialize=function(){if(this.updateOption("updated"),this.updateOption("hidden"),this.enabled){this.container=document.createElement("div"),this.container.setAttribute("class","canvasjs-chart-tooltip"),this.container.style.position="absolute",this.container.style.height="auto",this.container.style.boxShadow="1px 1px 2px 2px rgba(0,0,0,0.1)",this.container.style.zIndex="1000",this.container.style.pointerEvents="none",this.container.style.display="none";var r=document.createElement("div");r.style.width="auto",r.style.height="auto",r.style.minWidth="50px",r.style.lineHeight="normal",r.style.margin="0px 0px 0px 0px",r.style.padding="5px",r.style.fontFamily="Calibri, Arial, Georgia, serif",r.style.fontWeight="normal",r.style.fontStyle=Y?"italic":"normal",r.style.fontSize="14px",r.style.color="#000000",r.style.textShadow="1px 1px 1px rgba(0, 0, 0, 0.1)",r.style.textAlign="left",r.style.border="2px solid gray",r.style.background=Y?"rgba(255,255,255,.9)":"rgb(255,255,255)",r.style.textIndent="0px",r.style.whiteSpace="nowrap",r.style.borderRadius="5px",r.style.MozUserSelect="none",r.style.WebkitUserSelect="none",r.style.msUserSelect="none",r.style.userSelect="none",Y||(r.style.filter="alpha(opacity = 90)",r.style.filter="progid:DXImageTransform.Microsoft.Shadow(Strength=3, Direction=135, Color='#666666')"),r.innerText="Sample Tooltip",this.container.appendChild(r),this.contentDiv=this.container.firstChild,this.container.style.borderRadius=this.contentDiv.style.borderRadius,this.chart._canvasJSContainer.appendChild(this.container)}},Gt.prototype.mouseMoveHandler=function(r,u){this._lastUpdated&&4>(new Date).getTime()-this._lastUpdated||(this._lastUpdated=(new Date).getTime(),this.chart.resetOverlayedCanvas(),this._updateToolTip(r,u),!this._updatedEventParameters||isNaN(this._prevX)||isNaN(this._prevY)||this.dispatchEvent("updated",this._updatedEventParameters,this))},Gt.prototype._updateToolTip=function(r,u,l){if(l=typeof l>"u"||l,this.container||this._initialize(),this.enabled||this.hide(),!this.chart.disableToolTip){if(typeof r>"u"||typeof u>"u"){if(isNaN(this._prevX)||isNaN(this._prevY))return;r=this._prevX,u=this._prevY}else this._prevX=r,this._prevY=u;var a=null,c=null,f=[],m=0;if(this.shared&&this.enabled&&"none"!==this.chart.plotInfo.axisPlacement){var M=[];if(this.chart.axisX)for(var C=0;C<this.chart.axisX.length;C++){m=this.chart.axisX[C].convertPixelToValue("xySwapped"===this.chart.plotInfo.axisPlacement?{y:u}:{x:r});var x=null;for(a=0;a<this.chart.axisX[C].dataSeries.length;a++)(x=this.chart.axisX[C].dataSeries[a].getDataPointAtX(m,l))&&0<=x.index&&(x.dataSeries=this.chart.axisX[C].dataSeries[a],null!==x.dataPoint.y&&x.dataSeries.visible&&M.push(x));x=null}if(this.chart.axisX2)for(C=0;C<this.chart.axisX2.length;C++){for(m=this.chart.axisX2[C].convertPixelToValue("xySwapped"===this.chart.plotInfo.axisPlacement?{y:u}:{x:r}),x=null,a=0;a<this.chart.axisX2[C].dataSeries.length;a++)(x=this.chart.axisX2[C].dataSeries[a].getDataPointAtX(m,l))&&0<=x.index&&(x.dataSeries=this.chart.axisX2[C].dataSeries[a],null!==x.dataPoint.y&&x.dataSeries.visible&&M.push(x));x=null}if(0===M.length)return;for(M.sort(function(g,v){return g.distance-v.distance}),l=M[0],a=0;a<M.length;a++)M[a].dataPoint.x.valueOf()===l.dataPoint.x.valueOf()&&f.push(M[a]);M=null}else{if(a=this.chart.getDataPointAtXY(r,u,l))this.currentDataPointIndex=a.dataPointIndex,this.currentSeriesIndex=a.dataSeries.index;else if(Y)if(0<(a=ls(r,u,this.chart._eventManager.ghostCtx))&&typeof this.chart._eventManager.objectMap[a]<"u"){if("legendItem"===(a=this.chart._eventManager.objectMap[a]).objectType)return;this.currentSeriesIndex=a.dataSeriesIndex,this.currentDataPointIndex=0<=a.dataPointIndex?a.dataPointIndex:-1}else this.currentDataPointIndex=-1;else this.currentDataPointIndex=-1;if(0<=this.currentSeriesIndex){if(c=this.chart.data[this.currentSeriesIndex],x={},0<=this.currentDataPointIndex)a=c.dataPoints[this.currentDataPointIndex],x.dataSeries=c,x.dataPoint=a,x.index=this.currentDataPointIndex,x.distance=Math.abs(a.x-m),"waterfall"===c.type&&(x.cumulativeSumYStartValue=c.dataPointEOs[this.currentDataPointIndex].cumulativeSumYStartValue,x.cumulativeSum=c.dataPointEOs[this.currentDataPointIndex].cumulativeSum);else{if(!this.enabled||"line"!==c.type&&"stepLine"!==c.type&&"spline"!==c.type&&"area"!==c.type&&"stepArea"!==c.type&&"splineArea"!==c.type&&"stackedArea"!==c.type&&"stackedArea100"!==c.type&&"rangeArea"!==c.type&&"rangeSplineArea"!==c.type&&"candlestick"!==c.type&&"ohlc"!==c.type&&"boxAndWhisker"!==c.type)return;m=c.axisX.convertPixelToValue({x:r}),V(x=c.getDataPointAtX(m,l))||(x.dataSeries=c,this.currentDataPointIndex=x.index,a=x.dataPoint)}if(!V(x)&&!V(x.dataPoint)&&!V(x.dataPoint.y))if(x.dataSeries.axisY)if(0<x.dataPoint.y.length){for(a=l=0;a<x.dataPoint.y.length;a++)x.dataPoint.y[a]<x.dataSeries.axisY.viewportMinimum?l--:x.dataPoint.y[a]>x.dataSeries.axisY.viewportMaximum&&l++;l<x.dataPoint.y.length&&l>-x.dataPoint.y.length&&f.push(x)}else"column"===c.type||"bar"===c.type?0>x.dataPoint.y?0>x.dataSeries.axisY.viewportMinimum&&x.dataSeries.axisY.viewportMaximum>=x.dataPoint.y&&f.push(x):x.dataSeries.axisY.viewportMinimum<=x.dataPoint.y&&0<=x.dataSeries.axisY.viewportMaximum&&f.push(x):"bubble"===c.type?x.dataPoint.y>=x.dataSeries.axisY.viewportMinimum-(l=this.chart._eventManager.objectMap[c.dataPointIds[x.index]].size/2)&&x.dataPoint.y<=x.dataSeries.axisY.viewportMaximum+l&&f.push(x):"waterfall"===c.type?(l=0,x.cumulativeSumYStartValue<x.dataSeries.axisY.viewportMinimum?l--:x.cumulativeSumYStartValue>x.dataSeries.axisY.viewportMaximum&&l++,x.cumulativeSum<x.dataSeries.axisY.viewportMinimum?l--:x.cumulativeSum>x.dataSeries.axisY.viewportMaximum&&l++,2>l&&-2<l&&f.push(x)):(0<=x.dataSeries.type.indexOf("100")||"stackedColumn"===c.type||"stackedBar"===c.type||x.dataPoint.y>=x.dataSeries.axisY.viewportMinimum&&x.dataPoint.y<=x.dataSeries.axisY.viewportMaximum)&&f.push(x);else f.push(x)}}if(0<f.length){if(this.highlightObjects(f),this.enabled){if(l="",null!==(l=this.getToolTipInnerHTML({entries:f}))){if(this.contentDiv.innerHTML=l,this.isToolTipDefinedInData&&V(this.options.content)&&V(this.options.contentFormatter))for(m=this.contentDiv.getElementsByTagName("span"),a=0;a<m.length;a++)m[a]&&(m[a].style.color=m[a].getAttribute("data-color"));m=!1,"none"===this.container.style.display&&(m=!0,this.container.style.display="block");try{this.contentDiv.style.background=this.backgroundColor?this.backgroundColor:Y?"rgba(255,255,255,.9)":"rgb(255,255,255)",this.borderColor=this.contentDiv.style.borderRightColor=this.contentDiv.style.borderLeftColor=this.contentDiv.style.borderColor="waterfall"===f[0].dataSeries.type?this.options.borderColor?this.options.borderColor:f[0].dataPoint.color?f[0].dataPoint.color:0<f[0].dataPoint.y?f[0].dataSeries.risingColor:f[0].dataSeries.fallingColor:"error"===f[0].dataSeries.type?this.options.borderColor?this.options.borderColor:f[0].dataSeries.color?f[0].dataSeries.color:f[0].dataSeries._colorSet[c.index%f[0].dataSeries._colorSet.length]:this.options.borderColor?this.options.borderColor:f[0].dataPoint.color?f[0].dataPoint.color:f[0].dataSeries.color?f[0].dataSeries.color:f[0].dataSeries._colorSet[f[0].index%f[0].dataSeries._colorSet.length],this.contentDiv.style.borderWidth=this.borderThickness||0===this.borderThickness?this.borderThickness+"px":"2px",this.contentDiv.style.borderRadius=this.cornerRadius||0===this.cornerRadius?this.cornerRadius+"px":"5px",this.container.style.borderRadius=this.contentDiv.style.borderRadius,this.contentDiv.style.fontSize=this.fontSize||0===this.fontSize?this.fontSize+"px":"14px",this.contentDiv.style.color=this.fontColor?this.fontColor:"#000000",this.contentDiv.style.fontFamily=this.fontFamily?this.fontFamily:"Calibri, Arial, Georgia, serif;",this.contentDiv.style.fontWeight=this.fontWeight?this.fontWeight:"normal",this.contentDiv.style.fontStyle=this.fontStyle?this.fontStyle:Y?"italic":"normal"}catch{}"pie"===f[0].dataSeries.type||"doughnut"===f[0].dataSeries.type||"funnel"===f[0].dataSeries.type||"pyramid"===f[0].dataSeries.type||"bar"===f[0].dataSeries.type||"rangeBar"===f[0].dataSeries.type||"stackedBar"===f[0].dataSeries.type||"stackedBar100"===f[0].dataSeries.type?r=r-10-this.container.clientWidth:(r=f[0].dataSeries.axisX.convertValueToPixel(f[0].dataPoint.x)-this.container.clientWidth<<0,r-=10),0>r&&(r+=this.container.clientWidth+20),r+this.container.clientWidth>Math.max(this.chart.container.clientWidth,this.chart.width)&&(r=Math.max(0,Math.max(this.chart.container.clientWidth,this.chart.width)-this.container.clientWidth)),0<(u=10-(u=1!==f.length||this.shared||"line"!==f[0].dataSeries.type&&"stepLine"!==f[0].dataSeries.type&&"spline"!==f[0].dataSeries.type&&"area"!==f[0].dataSeries.type&&"stepArea"!==f[0].dataSeries.type&&"splineArea"!==f[0].dataSeries.type?"bar"===f[0].dataSeries.type||"rangeBar"===f[0].dataSeries.type||"stackedBar"===f[0].dataSeries.type||"stackedBar100"===f[0].dataSeries.type?f[0].dataSeries.axisX.convertValueToPixel(f[0].dataPoint.x):u:f[0].dataSeries.axisY.convertValueToPixel(f[0].dataPoint.y)))+this.container.clientHeight+5&&(u-=u+this.container.clientHeight+5-0),this.fixMozTransitionDelay(r,u),!this.animationEnabled||m?this.disableAnimation():(this.enableAnimation(),this.container.style.MozTransition=this.mozContainerTransition),this.positionLeft=r,this.positionBottom=u,this.container.style.left=r+"px",this.container.style.bottom=u+"px"}else this.hide(!1),this.enabled&&this.dispatchEvent("hidden",{chart:this.chart,toolTip:this},this);for(u=[],a=0;a<f.length;a++)u.push({xValue:f[a].dataPoint.x,dataPoint:f[a].dataPoint,dataSeries:f[a].dataSeries,dataPointIndex:f[a].index,dataSeriesIndex:f[a].dataSeries._index});this._updatedEventParameters={chart:this.chart,toolTip:this.options,content:l,entries:u},this._entries=f}}else this.hide(),this.enabled&&this.dispatchEvent("hidden",{chart:this.chart,toolTip:this},this)}},Gt.prototype.highlightObjects=function(r){var u=this.chart.overlaidCanvasCtx;(V(this.chart.clearedOverlayedCanvas)||"toolTip"===this.chart.clearedOverlayedCanvas)&&(this.chart.resetOverlayedCanvas(),u.clearRect(0,0,this.chart.width,this.chart.height),this.chart.clearedOverlayedCanvas="toolTip"),u.save();var l=this.chart.plotArea,a=0;for(u.beginPath(),u.rect(l.x1,l.y1,l.x2-l.x1,l.y2-l.y1),u.clip(),l=0;l<r.length;l++){var c=r[l];if((c=this.chart._eventManager.objectMap[c.dataSeries.dataPointIds[c.index]])&&c.objectType&&"dataPoint"===c.objectType){var f=(a=this.chart.data[c.dataSeriesIndex]).dataPoints[c.dataPointIndex],m=c.dataPointIndex;!1===f.highlightEnabled||!0!==a.highlightEnabled&&!0!==f.highlightEnabled||("line"===a.type||"stepLine"===a.type||"spline"===a.type||"scatter"===a.type||"area"===a.type||"stepArea"===a.type||"splineArea"===a.type||"stackedArea"===a.type||"stackedArea100"===a.type||"rangeArea"===a.type||"rangeSplineArea"===a.type?((f=a.getMarkerProperties(m,c.x1,c.y1,this.chart.overlaidCanvasCtx)).size=Math.max(1.5*f.size<<0,10),f.borderColor=f.borderColor||"#FFFFFF",f.borderThickness=f.borderThickness||Math.ceil(.1*f.size),Rt.drawMarkers([f]),typeof c.y2<"u"&&((f=a.getMarkerProperties(m,c.x1,c.y2,this.chart.overlaidCanvasCtx)).size=Math.max(1.5*f.size<<0,10),f.borderColor=f.borderColor||"#FFFFFF",f.borderThickness=f.borderThickness||Math.ceil(.1*f.size),Rt.drawMarkers([f]))):"bubble"===a.type?((f=a.getMarkerProperties(m,c.x1,c.y1,this.chart.overlaidCanvasCtx)).size=c.size,f.color="white",f.borderColor="white",u.globalAlpha=.3,Rt.drawMarkers([f]),u.globalAlpha=1):"column"===a.type||"stackedColumn"===a.type||"stackedColumn100"===a.type||"bar"===a.type||"rangeBar"===a.type||"stackedBar"===a.type||"stackedBar100"===a.type||"rangeColumn"===a.type||"waterfall"===a.type?Qt(u,c.x1,c.y1,c.x2,c.y2,"white",0,null,!1,!1,!1,!1,.3):"pie"===a.type||"doughnut"===a.type?Li(u,c.center,c.radius,"white",a.type,c.startAngle,c.endAngle,.3,c.percentInnerRadius):"funnel"===a.type||"pyramid"===a.type?_i(u,c.funnelSection,.3,"white"):"candlestick"===a.type?(u.globalAlpha=1,u.strokeStyle=c.color,u.lineWidth=2*c.borderThickness,a=u.lineWidth%2==0?0:.5,u.beginPath(),u.moveTo(c.x3-a,Math.min(c.y2,c.y3)),u.lineTo(c.x3-a,Math.min(c.y1,c.y4)),u.stroke(),u.beginPath(),u.moveTo(c.x3-a,Math.max(c.y1,c.y4)),u.lineTo(c.x3-a,Math.max(c.y2,c.y3)),u.stroke(),Qt(u,c.x1,Math.min(c.y1,c.y4),c.x2,Math.max(c.y1,c.y4),"transparent",2*c.borderThickness,c.color,!1,!1,!1,!1),u.globalAlpha=1):"ohlc"===a.type?(u.globalAlpha=1,u.strokeStyle=c.color,u.lineWidth=2*c.borderThickness,a=u.lineWidth%2==0?0:.5,u.beginPath(),u.moveTo(c.x3-a,c.y2),u.lineTo(c.x3-a,c.y3),u.stroke(),u.beginPath(),u.moveTo(c.x3,c.y1),u.lineTo(c.x1,c.y1),u.stroke(),u.beginPath(),u.moveTo(c.x3,c.y4),u.lineTo(c.x2,c.y4),u.stroke(),u.globalAlpha=1):"boxAndWhisker"===a.type?(u.save(),u.globalAlpha=1,u.strokeStyle=c.stemColor,u.lineWidth=2*c.stemThickness,0<c.stemThickness&&(u.beginPath(),u.moveTo(c.x3,c.y2+c.borderThickness/2),u.lineTo(c.x3,c.y1+c.whiskerThickness/2),u.stroke(),u.beginPath(),u.moveTo(c.x3,c.y4-c.whiskerThickness/2),u.lineTo(c.x3,c.y3-c.borderThickness/2),u.stroke()),u.beginPath(),Qt(u,c.x1-c.borderThickness/2,Math.max(c.y2+c.borderThickness/2,c.y3+c.borderThickness/2),c.x2+c.borderThickness/2,Math.min(c.y2-c.borderThickness/2,c.y3-c.borderThickness/2),"transparent",c.borderThickness,c.color,!1,!1,!1,!1),u.globalAlpha=1,u.strokeStyle=c.whiskerColor,u.lineWidth=2*c.whiskerThickness,0<c.whiskerThickness&&(u.beginPath(),u.moveTo(Math.floor(c.x3-c.whiskerLength/2),c.y4),u.lineTo(Math.ceil(c.x3+c.whiskerLength/2),c.y4),u.stroke(),u.beginPath(),u.moveTo(Math.floor(c.x3-c.whiskerLength/2),c.y1),u.lineTo(Math.ceil(c.x3+c.whiskerLength/2),c.y1),u.stroke()),u.globalAlpha=1,u.strokeStyle=c.lineColor,u.lineWidth=2*c.lineThickness,0<c.lineThickness&&(u.beginPath(),u.moveTo(c.x1,c.y5),u.lineTo(c.x2,c.y5),u.stroke()),u.restore(),u.globalAlpha=1):"error"===a.type&&te(u,c.x1,c.y1,c.x2,c.y2,"white",c.whiskerProperties,c.stemProperties,c.isXYSwapped,.3))}}u.restore(),u.globalAlpha=1,u.beginPath()},Gt.prototype.getToolTipInnerHTML=function(r){r=r.entries;var u=null,l=null,a=null,c=0,f="";this.isToolTipDefinedInData=!0;for(var m=0;m<r.length;m++)if(r[m].dataSeries.toolTipContent||r[m].dataPoint.toolTipContent){this.isToolTipDefinedInData=!1;break}if(this.isToolTipDefinedInData&&(this.content&&"function"==typeof this.content||this.contentFormatter))r={chart:this.chart,toolTip:this.options,entries:r},u=this.contentFormatter?this.contentFormatter(r):this.content(r);else if(this.shared&&"none"!==this.chart.plotInfo.axisPlacement){var M=null,C="";for(m=0;m<r.length;m++){if(l=r[m].dataSeries,a=r[m].dataPoint,c=r[m].index,f="",0===m&&this.isToolTipDefinedInData&&!this.content){if(this.chart.axisX&&0<this.chart.axisX.length?C+=typeof this.chart.axisX[0].labels[a.x]<"u"?this.chart.axisX[0].labels[a.x]:"{x}":this.chart.axisX2&&0<this.chart.axisX2.length&&(C+=typeof this.chart.axisX2[0].labels[a.x]<"u"?this.chart.axisX2[0].labels[a.x]:"{x}"),C+="</br>",!l.visible)continue;C=this.chart.replaceKeywordsWithValue(C,a,l,c)}null===a.toolTipContent||typeof a.toolTipContent>"u"&&null===l.options.toolTipContent||("line"===l.type||"stepLine"===l.type||"spline"===l.type||"area"===l.type||"stepArea"===l.type||"splineArea"===l.type||"column"===l.type||"bar"===l.type||"scatter"===l.type||"stackedColumn"===l.type||"stackedColumn100"===l.type||"stackedBar"===l.type||"stackedBar100"===l.type||"stackedArea"===l.type||"stackedArea100"===l.type||"waterfall"===l.type?(this.chart.axisX&&1<this.chart.axisX.length&&(f+=M!=l.axisXIndex?l.axisX.title?l.axisX.title+"<br/>":"X:{axisXIndex}<br/>":""),f+=a.toolTipContent?a.toolTipContent:l.toolTipContent?l.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span data-color='\""+(this.options.fontColor?"":"'{color}'")+"\"'>{name}:</span>&nbsp;&nbsp;{y}",M=l.axisXIndex):"bubble"===l.type?(this.chart.axisX&&1<this.chart.axisX.length&&(f+=M!=l.axisXIndex?l.axisX.title?l.axisX.title+"<br/>":"X:{axisXIndex}<br/>":""),f+=a.toolTipContent?a.toolTipContent:l.toolTipContent?l.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span data-color='\""+(this.options.fontColor?"":"'{color}'")+"\"'>{name}:</span>&nbsp;&nbsp;{y}, &nbsp;&nbsp;{z}"):"rangeColumn"===l.type||"rangeBar"===l.type||"rangeArea"===l.type||"rangeSplineArea"===l.type||"error"===l.type?(this.chart.axisX&&1<this.chart.axisX.length&&(f+=M!=l.axisXIndex?l.axisX.title?l.axisX.title+"<br/>":"X:{axisXIndex}<br/>":""),f+=a.toolTipContent?a.toolTipContent:l.toolTipContent?l.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span data-color='\""+(this.options.fontColor?"":"'{color}'")+"\"'>{name}:</span>&nbsp;&nbsp;{y[0]},&nbsp;{y[1]}"):"candlestick"===l.type||"ohlc"===l.type?(this.chart.axisX&&1<this.chart.axisX.length&&(f+=M!=l.axisXIndex?l.axisX.title?l.axisX.title+"<br/>":"X:{axisXIndex}<br/>":""),f+=a.toolTipContent?a.toolTipContent:l.toolTipContent?l.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span data-color='\""+(this.options.fontColor?"":"'{color}'")+"\"'>{name}:</span><br/>Open: &nbsp;&nbsp;{y[0]}<br/>High: &nbsp;&nbsp;&nbsp;{y[1]}<br/>Low:&nbsp;&nbsp;&nbsp;{y[2]}<br/>Close: &nbsp;&nbsp;{y[3]}"):"boxAndWhisker"===l.type&&(this.chart.axisX&&1<this.chart.axisX.length&&(f+=M!=l.axisXIndex?l.axisX.title?l.axisX.title+"<br/>":"X:{axisXIndex}<br/>":""),f+=a.toolTipContent?a.toolTipContent:l.toolTipContent?l.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span data-color='\""+(this.options.fontColor?"":"'{color}'")+"\"'>{name}:</span><br/>Minimum: &nbsp;{y[0]}<br/>Q1:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{y[1]}<br/>Q2:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{y[4]}<br/>Q3:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{y[2]}<br/>Maximum: &nbsp;{y[3]}"),null===u&&(u=""),l.visible&&(!0===this.reversed?(u=this.chart.replaceKeywordsWithValue(f,a,l,c)+u,m<r.length-1&&(u="</br>"+u)):(u+=this.chart.replaceKeywordsWithValue(f,a,l,c),m<r.length-1&&(u+="</br>"))))}null!==u&&(u=C+u)}else{if(l=r[0].dataSeries,null===(a=r[0].dataPoint).toolTipContent||typeof a.toolTipContent>"u"&&null===l.options.toolTipContent)return null;"line"===l.type||"stepLine"===l.type||"spline"===l.type||"area"===l.type||"stepArea"===l.type||"splineArea"===l.type||"column"===l.type||"bar"===l.type||"scatter"===l.type||"stackedColumn"===l.type||"stackedColumn100"===l.type||"stackedBar"===l.type||"stackedBar100"===l.type||"stackedArea"===l.type||"stackedArea100"===l.type||"waterfall"===l.type?f=a.toolTipContent?a.toolTipContent:l.toolTipContent?l.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span data-color='\""+(this.options.fontColor?"":"'{color}'")+"\"'>"+(a.label?"{label}":"{x}")+":</span>&nbsp;&nbsp;{y}":"bubble"===l.type?f=a.toolTipContent?a.toolTipContent:l.toolTipContent?l.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span data-color='\""+(this.options.fontColor?"":"'{color}'")+"\"'>"+(a.label?"{label}":"{x}")+":</span>&nbsp;&nbsp;{y}, &nbsp;&nbsp;{z}":"pie"===l.type||"doughnut"===l.type||"funnel"===l.type||"pyramid"===l.type?f=a.toolTipContent?a.toolTipContent:l.toolTipContent?l.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span data-color='\""+(this.options.fontColor?"":"'{color}'")+"\"'>"+(a.name?"{name}:</span>&nbsp;&nbsp;":a.label?"{label}:</span>&nbsp;&nbsp;":"</span>")+"{y}":"rangeColumn"===l.type||"rangeBar"===l.type||"rangeArea"===l.type||"rangeSplineArea"===l.type||"error"===l.type?f=a.toolTipContent?a.toolTipContent:l.toolTipContent?l.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span data-color='\""+(this.options.fontColor?"":"'{color}'")+"\"'>"+(a.label?"{label}":"{x}")+" :</span>&nbsp;&nbsp;{y[0]}, &nbsp;{y[1]}":"candlestick"===l.type||"ohlc"===l.type?f=a.toolTipContent?a.toolTipContent:l.toolTipContent?l.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span data-color='\""+(this.options.fontColor?"":"'{color}'")+"\"'>"+(a.label?"{label}":"{x}")+"</span><br/>Open: &nbsp;&nbsp;{y[0]}<br/>High: &nbsp;&nbsp;&nbsp;{y[1]}<br/>Low: &nbsp;&nbsp;&nbsp;&nbsp;{y[2]}<br/>Close: &nbsp;&nbsp;{y[3]}":"boxAndWhisker"===l.type&&(f=a.toolTipContent?a.toolTipContent:l.toolTipContent?l.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span data-color='\""+(this.options.fontColor?"":"'{color}'")+"\"'>"+(a.label?"{label}":"{x}")+"</span><br/>Minimum: &nbsp;{y[0]}<br/>Q1:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{y[1]}<br/>Q2:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{y[4]}<br/>Q3:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{y[2]}<br/>Maximum: &nbsp;{y[3]}"),null===u&&(u=""),u+=this.chart.replaceKeywordsWithValue(f,a,l,c=r[0].index)}return u},Gt.prototype.enableAnimation=function(){if(!this.container.style.WebkitTransition){var r=this.getContainerTransition(this.containerTransitionDuration);this.container.style.WebkitTransition=r,this.container.style.MsTransition=r,this.container.style.transition=r,this.container.style.MozTransition=this.mozContainerTransition}},Gt.prototype.disableAnimation=function(){this.container.style.WebkitTransition&&(this.container.style.WebkitTransition="",this.container.style.MozTransition="",this.container.style.MsTransition="",this.container.style.transition="")},Gt.prototype.hide=function(r){this.container&&(this.container.style.display="none",this.currentSeriesIndex=-1,this._prevY=this._prevX=NaN,(typeof r>"u"||r)&&this.chart.resetOverlayedCanvas())},Gt.prototype.show=function(r,u,l){this._updateToolTip(r,u,!(typeof l>"u")&&l)},Gt.prototype.showAtIndex=function(r,u){},Gt.prototype.showAtX=function(r,u){if(!this.enabled)return!1;this.chart.clearedOverlayedCanvas=null;var l,a,c,f=[];if(c=!1,u=!V(u)&&0<=u&&u<this.chart.data.length?u:0,this.shared)for(var m=0;m<this.chart.data.length;m++)(a=(l=this.chart.data[m]).getDataPointAtX(r,!1))&&a.dataPoint&&!V(a.dataPoint.y)&&l.visible&&(a.dataSeries=l,f.push(a));else(a=(l=this.chart.data[u]).getDataPointAtX(r,!1))&&a.dataPoint&&!V(a.dataPoint.y)&&l.visible&&(a.dataSeries=l,f.push(a));if(!(0<f.length))return this.hide(),!1;for(m=0;m<f.length;m++){if(a=f[m],(this.shared||0<=a.dataSeries.type.indexOf("100"))&&a.dataPoint.x>=a.dataSeries.axisX.viewportMinimum&&a.dataPoint.x<=a.dataSeries.axisX.viewportMaximum){c=!1;break}if(!(a.dataPoint.x<a.dataSeries.axisX.viewportMinimum||a.dataPoint.x>a.dataSeries.axisX.viewportMaximum||a.dataPoint.y<a.dataSeries.axisY.viewportMinimum||a.dataPoint.y>a.dataSeries.axisY.viewportMaximum)){c=!1;break}c=!0}if(c)return this.hide(),!1;if(this.highlightObjects(f),this._entries=f,m="",null===(m=this.getToolTipInnerHTML({entries:f})))return this.hide(!1),!1;if(this.contentDiv.innerHTML=m,this.isToolTipDefinedInData&&V(this.options.content)&&V(this.options.contentFormatter))for(a=this.contentDiv.getElementsByTagName("span"),m=0;m<a.length;m++)a[m]&&(a[m].style.color=a[m].getAttribute("data-color"));m=!1,"none"===this.container.style.display&&(m=!0,this.container.style.display="block");try{this.contentDiv.style.background=this.backgroundColor?this.backgroundColor:Y?"rgba(255,255,255,.9)":"rgb(255,255,255)",this.borderColor=this.contentDiv.style.borderRightColor=this.contentDiv.style.borderLeftColor=this.contentDiv.style.borderColor="waterfall"===f[0].dataSeries.type?this.options.borderColor?this.options.borderColor:f[0].dataPoint.color?f[0].dataPoint.color:0<f[0].dataPoint.y?f[0].dataSeries.risingColor:f[0].dataSeries.fallingColor:"error"===f[0].dataSeries.type?this.options.borderColor?this.options.borderColor:f[0].dataSeries.color?f[0].dataSeries.color:f[0].dataSeries._colorSet[l.index%f[0].dataSeries._colorSet.length]:this.options.borderColor?this.options.borderColor:f[0].dataPoint.color?f[0].dataPoint.color:f[0].dataSeries.color?f[0].dataSeries.color:f[0].dataSeries._colorSet[f[0].index%f[0].dataSeries._colorSet.length],this.contentDiv.style.borderWidth=this.borderThickness||0===this.borderThickness?this.borderThickness+"px":"2px",this.contentDiv.style.borderRadius=this.cornerRadius||0===this.cornerRadius?this.cornerRadius+"px":"5px",this.container.style.borderRadius=this.contentDiv.style.borderRadius,this.contentDiv.style.fontSize=this.fontSize||0===this.fontSize?this.fontSize+"px":"14px",this.contentDiv.style.color=this.fontColor?this.fontColor:"#000000",this.contentDiv.style.fontFamily=this.fontFamily?this.fontFamily:"Calibri, Arial, Georgia, serif;",this.contentDiv.style.fontWeight=this.fontWeight?this.fontWeight:"normal",this.contentDiv.style.fontStyle=this.fontStyle?this.fontStyle:Y?"italic":"normal"}catch{}return"pie"===f[0].dataSeries.type||"doughnut"===f[0].dataSeries.type||"funnel"===f[0].dataSeries.type||"pyramid"===f[0].dataSeries.type?l=mouseX-10-this.container.clientWidth:(l="bar"===f[0].dataSeries.type||"rangeBar"===f[0].dataSeries.type||"stackedBar"===f[0].dataSeries.type||"stackedBar100"===f[0].dataSeries.type?f[0].dataSeries.axisY.convertValueToPixel(f[0].dataPoint.y)-this.container.clientWidth<<0:f[0].dataSeries.axisX.convertValueToPixel(f[0].dataPoint.x)-this.container.clientWidth<<0,l-=10),0>l&&(l+=this.container.clientWidth+20),l+this.container.clientWidth>Math.max(this.chart.container.clientWidth,this.chart.width)&&(l=Math.max(0,Math.max(this.chart.container.clientWidth,this.chart.width)-this.container.clientWidth)),0<(f=10-(f=!(1!==f.length||this.shared||"line"!==f[0].dataSeries.type&&"stepLine"!==f[0].dataSeries.type&&"spline"!==f[0].dataSeries.type&&"area"!==f[0].dataSeries.type&&"stepArea"!==f[0].dataSeries.type&&"splineArea"!==f[0].dataSeries.type)||"bar"!==f[0].dataSeries.type&&"rangeBar"!==f[0].dataSeries.type&&"stackedBar"!==f[0].dataSeries.type&&"stackedBar100"!==f[0].dataSeries.type?f[0].dataSeries.axisY.convertValueToPixel(f[0].dataPoint.y):f[0].dataSeries.axisX.convertValueToPixel(f[0].dataPoint.x)))+this.container.clientHeight+5&&(f-=f+this.container.clientHeight+5-0),this.fixMozTransitionDelay(l,f),!this.animationEnabled||m?this.disableAnimation():(this.enableAnimation(),this.container.style.MozTransition=this.mozContainerTransition),this.container.style.left=l+"px",this.container.style.bottom=f+"px",!0},Gt.prototype.fixMozTransitionDelay=function(r,u){if(20<this.chart._eventManager.lastObjectId)this.mozContainerTransition=this.getContainerTransition(0);else{var l=parseFloat(this.container.style.left),a=(l=isNaN(l)?0:l,parseFloat(this.container.style.bottom));a=isNaN(a)?0:a,this.mozContainerTransition=10<Math.sqrt(Math.pow(l-r,2)+Math.pow(a-u,2))?this.getContainerTransition(.1):this.getContainerTransition(0)}},Gt.prototype.getContainerTransition=function(r){return"left "+r+"s ease-out 0s, bottom "+r+"s ease-out 0s"},li.prototype.reset=function(){this.lastObjectId=0,this.objectMap=[],this.rectangularRegionEventSubscriptions=[],this.previousDataPointEventObject=null,this.eventObjects=[],Y&&(this.ghostCtx.clearRect(0,0,this.chart.width,this.chart.height),this.ghostCtx.beginPath())},li.prototype.getNewObjectTrackingId=function(){return++this.lastObjectId},li.prototype.mouseEventHandler=function(r){if("mousemove"===r.type||"click"===r.type){var u=[],l=Xr(r),a=null;if((a=this.chart.getObjectAtXY(l.x,l.y,!1))&&typeof this.objectMap[a]<"u")if("dataPoint"===(a=this.objectMap[a]).objectType){var c=this.chart.data[a.dataSeriesIndex],f=c.dataPoints[a.dataPointIndex],m=a.dataPointIndex;a.eventParameter={x:l.x,y:l.y,dataPoint:f,dataSeries:c.options,dataPointIndex:m,dataSeriesIndex:c.index,chart:this.chart},a.eventContext={context:f,userContext:f,mouseover:"mouseover",mousemove:"mousemove",mouseout:"mouseout",click:"click"},u.push(a),(a=this.objectMap[c.id]).eventParameter={x:l.x,y:l.y,dataPoint:f,dataSeries:c.options,dataPointIndex:m,dataSeriesIndex:c.index,chart:this.chart},a.eventContext={context:c,userContext:c.options,mouseover:"mouseover",mousemove:"mousemove",mouseout:"mouseout",click:"click"},u.push(this.objectMap[c.id])}else"legendItem"===a.objectType&&(a.eventParameter={x:l.x,y:l.y,dataSeries:(c=this.chart.data[a.dataSeriesIndex]).options,dataPoint:f=null!==a.dataPointIndex?c.dataPoints[a.dataPointIndex]:null,dataPointIndex:a.dataPointIndex,dataSeriesIndex:a.dataSeriesIndex,chart:this.chart},a.eventContext={context:this.chart.legend,userContext:this.chart.legend.options,mouseover:"itemmouseover",mousemove:"itemmousemove",mouseout:"itemmouseout",click:"itemclick"},u.push(a));for(c=[],l=0;l<this.mouseoveredObjectMaps.length;l++){for(f=!0,a=0;a<u.length;a++)if(u[a].id===this.mouseoveredObjectMaps[l].id){f=!1;break}f?this.fireEvent(this.mouseoveredObjectMaps[l],"mouseout",r):c.push(this.mouseoveredObjectMaps[l])}for(this.mouseoveredObjectMaps=c,l=0;l<u.length;l++){for(c=!1,a=0;a<this.mouseoveredObjectMaps.length;a++)if(u[l].id===this.mouseoveredObjectMaps[a].id){c=!0;break}c||(this.fireEvent(u[l],"mouseover",r),this.mouseoveredObjectMaps.push(u[l])),"click"===r.type?this.fireEvent(u[l],"click",r):"mousemove"===r.type&&this.fireEvent(u[l],"mousemove",r)}}},li.prototype.fireEvent=function(r,u,l){if(r&&u){var a=r.eventParameter,c=r.eventContext,f=r.eventContext.userContext;f&&c&&f[c[u]]&&f[c[u]].call(f,a),"mouseout"!==u?f.cursor&&f.cursor!==l.target.style.cursor&&(l.target.style.cursor=f.cursor):(l.target.style.cursor=this.chart.panEnabled&&("itemmouseout"!==c.mouseout||f.dockInsidePlotArea)?"move":this.chart._defaultCursor,delete r.eventParameter,delete r.eventContext),"click"===u&&"dataPoint"===r.objectType&&this.chart.pieDoughnutClickHandler&&this.chart.pieDoughnutClickHandler.call(this.chart.data[r.dataSeriesIndex],a),"click"===u&&"dataPoint"===r.objectType&&this.chart.funnelPyramidClickHandler&&this.chart.funnelPyramidClickHandler.call(this.chart.data[r.dataSeriesIndex],a)}},bt.prototype.animate=function(r,u,l,a,c){var f=this;for(this.chart.isAnimating=!0,c=c||we.easing.linear,l&&this.animations.push({startTime:(new Date).getTime()+(r||0),duration:u,animationCallback:l,onComplete:a}),r=[];0<this.animations.length;)u=this.animations.shift(),l=(new Date).getTime(),a=0,u.startTime<=l&&(a=c(Math.min(l-u.startTime,u.duration),0,1,u.duration),a=Math.min(a,1),isNaN(a)||!isFinite(a))&&(a=1),1>a&&r.push(u),u.animationCallback(a),1<=a&&u.onComplete&&u.onComplete();this.animations=r,0<this.animations.length?this.animationRequestId=this.chart.requestAnimFrame.call(window,function(){f.animate.call(f)}):this.chart.isAnimating=!1},bt.prototype.cancelAllAnimations=function(){this.animations=[],this.animationRequestId&&this.chart.cancelRequestAnimFrame.call(window,this.animationRequestId),this.animationRequestId=null,this.chart.isAnimating=!1};var we={yScaleAnimation:function(r,u){if(0!==r){var l=u.dest,a=u.source.canvas,c=u.animationBase;l.drawImage(a,0,0,a.width,a.height,0,c-c*r,l.canvas.width/di,r*l.canvas.height/di)}},xScaleAnimation:function(r,u){if(0!==r){var l=u.dest,a=u.source.canvas,c=u.animationBase;l.drawImage(a,0,0,a.width,a.height,c-c*r,0,r*l.canvas.width/di,l.canvas.height/di)}},xClipAnimation:function(r,u){if(0!==r){var l=u.dest,a=u.source.canvas;l.save(),0<r&&l.drawImage(a,0,0,a.width*r,a.height,0,0,a.width*r/di,a.height/di),l.restore()}},fadeInAnimation:function(r,u){if(0!==r){var l=u.dest,a=u.source.canvas;l.save(),l.globalAlpha=r,l.drawImage(a,0,0,a.width,a.height,0,0,l.canvas.width/di,l.canvas.height/di),l.restore()}},easing:{linear:function(r,u,l,a){return l*r/a+u},easeOutQuad:function(r,u,l,a){return-l*(r/=a)*(r-2)+u},easeOutQuart:function(r,u,l,a){return-l*((r=r/a-1)*r*r*r-1)+u},easeInQuad:function(r,u,l,a){return l*(r/=a)*r+u},easeInQuart:function(r,u,l,a){return l*(r/=a)*r*r*r+u}}},Rt={drawMarker:function(r,u,l,a,c,f,m,M){if(l){var C=1;l.fillStyle=f||"#000000",l.strokeStyle=m||"#000000",l.lineWidth=M||0,l.setLineDash&&l.setLineDash($e("solid",M)),"circle"===a?(l.moveTo(r,u),l.beginPath(),l.arc(r,u,c/2,0,2*Math.PI,!1),f&&l.fill(),M&&(m?l.stroke():(C=l.globalAlpha,l.globalAlpha=.15,l.strokeStyle="black",l.stroke(),l.globalAlpha=C))):"square"===a?(l.beginPath(),l.rect(r-c/2,u-c/2,c,c),f&&l.fill(),M&&(m?l.stroke():(C=l.globalAlpha,l.globalAlpha=.15,l.strokeStyle="black",l.stroke(),l.globalAlpha=C))):"triangle"===a?(l.beginPath(),l.moveTo(r-c/2,u+c/2),l.lineTo(r+c/2,u+c/2),l.lineTo(r,u-c/2),l.closePath(),f&&l.fill(),M&&(m?l.stroke():(C=l.globalAlpha,l.globalAlpha=.15,l.strokeStyle="black",l.stroke(),l.globalAlpha=C)),l.beginPath()):"cross"===a&&(l.strokeStyle=f,l.lineWidth=c/4,l.beginPath(),l.moveTo(r-c/2,u-c/2),l.lineTo(r+c/2,u+c/2),l.stroke(),l.moveTo(r+c/2,u-c/2),l.lineTo(r-c/2,u+c/2),l.stroke())}},drawMarkers:function(r){for(var u=0;u<r.length;u++){var l=r[u];Rt.drawMarker(l.x,l.y,l.ctx,l.type,l.size,l.color,l.borderColor,l.borderThickness)}}};return E}(),O.version="v3.7.39 GA",window.CanvasJS&&O&&!window.CanvasJS.Chart&&(window.CanvasJS.Chart=O)})(),document.createElement("canvas").getContext||function(){function xi(){return this.context_||(this.context_=new $e(this))}function rs(O){return String(O).replace(/&/g,"&amp;").replace(/"/g,"&quot;")}function Lt(O){O.namespaces.g_vml_||O.namespaces.add("g_vml_","urn:schemas-microsoft-com:vml","#default#VML"),O.namespaces.g_o_||O.namespaces.add("g_o_","urn:schemas-microsoft-com:office:office","#default#VML"),O.styleSheets.ex_canvas_||((O=O.createStyleSheet()).owningElement.id="ex_canvas_",O.cssText="canvas{display:inline-block;overflow:hidden;text-align:left;width:300px;height:150px}")}function os(O){var q=O.srcElement;switch(O.propertyName){case"width":q.getContext().clearRect(),q.style.width=q.attributes.width.nodeValue+"px",q.firstChild.style.width=q.clientWidth+"px";break;case"height":q.getContext().clearRect(),q.style.height=q.attributes.height.nodeValue+"px",q.firstChild.style.height=q.clientHeight+"px"}}function Dn(O){(O=O.srcElement).firstChild&&(O.firstChild.style.width=O.clientWidth+"px",O.firstChild.style.height=O.clientHeight+"px")}function Xe(O,q){for(var ae=[[1,0,0],[0,1,0],[0,0,1]],ee=0;3>ee;ee++)for(var me=0;3>me;me++){for(var ye=0,Ue=0;3>Ue;Ue++)ye+=O[ee][Ue]*q[Ue][me];ae[ee][me]=ye}return ae}function Ss(O,q){q.fillStyle=O.fillStyle,q.lineCap=O.lineCap,q.lineJoin=O.lineJoin,q.lineWidth=O.lineWidth,q.miterLimit=O.miterLimit,q.shadowBlur=O.shadowBlur,q.shadowColor=O.shadowColor,q.shadowOffsetX=O.shadowOffsetX,q.shadowOffsetY=O.shadowOffsetY,q.strokeStyle=O.strokeStyle,q.globalAlpha=O.globalAlpha,q.font=O.font,q.textAlign=O.textAlign,q.textBaseline=O.textBaseline,q.arcScaleX_=O.arcScaleX_,q.arcScaleY_=O.arcScaleY_,q.lineScale_=O.lineScale_}function V(O){var ae=O.indexOf("(",3),q=O.indexOf(")",ae+1);return(4!=(ae=O.substring(ae+1,q).split(",")).length||"a"!=O.charAt(3))&&(ae[3]=1),ae}function an(O,q,ae){return Math.min(ae,Math.max(q,O))}function xr(O,q,ae){return 0>ae&&ae++,1<ae&&ae--,1>6*ae?O+6*(q-O)*ae:1>2*ae?q:2>3*ae?O+6*(q-O)*(2/3-ae):O}function Js(O){if(O in Ni)return Ni[O];var q,ae=1;if("#"==(O=String(O)).charAt(0))q=O;else if(/^rgb/.test(O)){ae=V(O),q="#";for(var ee,me=0;3>me;me++)ee=-1!=ae[me].indexOf("%")?Math.floor(parseFloat(ae[me])/100*255):+ae[me],q+=An[an(ee,0,255)];ae=+ae[3]}else if(/^hsl/.test(O)){if(me=ae=V(O),0>(q=parseFloat(me[0])/360%360)&&q++,ee=an(parseFloat(me[1])/100,0,1),me=an(parseFloat(me[2])/100,0,1),0==ee)ee=me=q=me;else{var ye=.5>me?me*(1+ee):me+ee-me*ee,Ue=2*me-ye;ee=xr(Ue,ye,q+1/3),me=xr(Ue,ye,q),q=xr(Ue,ye,q-1/3)}q="#"+An[Math.floor(255*ee)]+An[Math.floor(255*me)]+An[Math.floor(255*q)],ae=ae[3]}else q=Ps[O]||O;return Ni[O]={color:q,alpha:ae}}function $e(O){this.m_=[[1,0,0],[0,1,0],[0,0,1]],this.mStack_=[],this.aStack_=[],this.currentPath_=[],this.fillStyle=this.strokeStyle="#000",this.lineWidth=1,this.lineJoin="miter",this.lineCap="butt",this.miterLimit=1*Ze,this.globalAlpha=1,this.font="10px sans-serif",this.textAlign="left",this.textBaseline="alphabetic",this.canvas=O;var q="width:"+O.clientWidth+"px;height:"+O.clientHeight+"px;overflow:hidden;position:absolute",ae=O.ownerDocument.createElement("div");ae.style.cssText=q,O.appendChild(ae),(q=ae.cloneNode(!1)).style.backgroundColor="red",q.style.filter="alpha(opacity=0)",O.appendChild(q),this.element_=ae,this.lineScale_=this.arcScaleY_=this.arcScaleX_=1}function mt(O,q,ae,ee){O.currentPath_.push({type:"bezierCurveTo",cp1x:q.x,cp1y:q.y,cp2x:ae.x,cp2y:ae.y,x:ee.x,y:ee.y}),O.currentX_=ee.x,O.currentY_=ee.y}function Pn(O,q){var ae=(ee=Js(O.strokeStyle)).color,ee=ee.alpha*O.globalAlpha,me=O.lineScale_*O.lineWidth;1>me&&(ee*=me),q.push("<g_vml_:stroke",' opacity="',ee,'"',' joinstyle="',O.lineJoin,'"',' miterlimit="',O.miterLimit,'"',' endcap="',Ji[O.lineCap]||"square",'"',' weight="',me,'px"',' color="',ae,'" />')}function ls(O,q,ae,ee){var me=O.fillStyle,ye=O.arcScaleX_,Ue=O.arcScaleY_,pt=ee.x-ae.x,Zt=ee.y-ae.y;if(me instanceof Ds){var lt=0,Ge=ee=0,Se=0,$t=1;if("gradient"==me.type_){lt=me.x1_/ye,ae=me.y1_/Ue;var et=St(O,me.x0_/ye,me.y0_/Ue);lt=St(O,lt,ae),0>(lt=180*Math.atan2(lt.x-et.x,lt.y-et.y)/Math.PI)&&(lt+=360),1e-6>lt&&(lt=0)}else ee=((et=St(O,me.x0_,me.y0_)).x-ae.x)/pt,Ge=(et.y-ae.y)/Zt,$t=Kt.max(pt/=ye*Ze,Zt/=Ue*Ze),$t=2*me.r1_/$t-(Se=2*me.r0_/$t);(ye=me.colors_).sort(function(Ui,vr){return Ui.offset-vr.offset}),et=ye[0].color,ae=ye[(Ue=ye.length)-1].color,pt=ye[0].alpha*O.globalAlpha,O=ye[Ue-1].alpha*O.globalAlpha,Zt=[];for(var Hn=0;Hn<Ue;Hn++){var Yn=ye[Hn];Zt.push(Yn.offset*$t+Se+" "+Yn.color)}q.push('<g_vml_:fill type="',me.type_,'"',' method="none" focus="100%"',' color="',et,'"',' color2="',ae,'"',' colors="',Zt.join(","),'"',' opacity="',O,'"',' g_o_:opacity2="',pt,'"',' angle="',lt,'"',' focusposition="',ee,",",Ge,'" />')}else me instanceof vi?pt&&Zt&&q.push("<g_vml_:fill",' position="',-ae.x/pt*ye*ye,",",-ae.y/Zt*Ue*Ue,'"',' type="tile"',' src="',me.src_,'" />'):(me=Js(O.fillStyle),q.push('<g_vml_:fill color="',me.color,'" opacity="',me.alpha*O.globalAlpha,'" />'))}function St(O,q,ae){return{x:Ze*(q*(O=O.m_)[0][0]+ae*O[1][0]+O[2][0])-En,y:Ze*(q*O[0][1]+ae*O[1][1]+O[2][1])-En}}function ln(O,q,ae){isFinite(q[0][0])&&isFinite(q[0][1])&&isFinite(q[1][0])&&isFinite(q[1][1])&&isFinite(q[2][0])&&isFinite(q[2][1])&&(O.m_=q,ae&&(O.lineScale_=kn(Bt(q[0][0]*q[1][1]-q[0][1]*q[1][0]))))}function Ds(O){this.type_=O,this.r1_=this.y1_=this.x1_=this.r0_=this.y0_=this.x0_=0,this.colors_=[]}function vi(O,q){if(!O||1!=O.nodeType||"IMG"!=O.tagName)throw new kt("TYPE_MISMATCH_ERR");if("complete"!=O.readyState)throw new kt("INVALID_STATE_ERR");switch(q){case"repeat":case null:case"":this.repetition_="repeat";break;case"repeat-x":case"repeat-y":case"no-repeat":this.repetition_=q;break;default:throw new kt("SYNTAX_ERR")}this.src_=O.src,this.width_=O.width,this.height_=O.height}function kt(O){this.code=this[O],this.message=O+": DOM Exception "+this.code}var Kt=Math,It=Kt.round,Ri=Kt.sin,Un=Kt.cos,Bt=Kt.abs,kn=Kt.sqrt,Ze=10,En=Ze/2;navigator.userAgent.match(/MSIE ([\d.]+)?/);var gn=Array.prototype.slice;Lt(document);var Xt={init:function(O){(O=O||document).createElement("canvas"),O.attachEvent("onreadystatechange",function yr(O,q,ae){var ee=gn.call(arguments,2);return function(){return O.apply(q,ee.concat(gn.call(arguments)))}}(this.init_,this,O))},init_:function(O){O=O.getElementsByTagName("canvas");for(var q=0;q<O.length;q++)this.initElement(O[q])},initElement:function(O){if(!O.getContext){O.getContext=xi,Lt(O.ownerDocument),O.innerHTML="",O.attachEvent("onpropertychange",os),O.attachEvent("onresize",Dn);var q=O.attributes;q.width&&q.width.specified?O.style.width=q.width.nodeValue+"px":O.width=O.clientWidth,q.height&&q.height.specified?O.style.height=q.height.nodeValue+"px":O.height=O.clientHeight}return O}};Xt.init();for(var An=[],ze=0;16>ze;ze++)for(var In=0;16>In;In++)An[16*ze+In]=ze.toString(16)+In.toString(16);var Ps={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",grey:"#808080",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",oldlace:"#FDF5E6",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",whitesmoke:"#F5F5F5",yellowgreen:"#9ACD32"},Ni={},Y={},Ji={butt:"flat",round:"round"};(ze=$e.prototype).clearRect=function(){this.textMeasureEl_&&(this.textMeasureEl_.removeNode(!0),this.textMeasureEl_=null),this.element_.innerHTML=""},ze.beginPath=function(){this.currentPath_=[]},ze.moveTo=function(O,q){var ae=St(this,O,q);this.currentPath_.push({type:"moveTo",x:ae.x,y:ae.y}),this.currentX_=ae.x,this.currentY_=ae.y},ze.lineTo=function(O,q){var ae=St(this,O,q);this.currentPath_.push({type:"lineTo",x:ae.x,y:ae.y}),this.currentX_=ae.x,this.currentY_=ae.y},ze.bezierCurveTo=function(O,q,ae,ee,me,ye){me=St(this,me,ye),mt(this,O=St(this,O,q),ae=St(this,ae,ee),me)},ze.quadraticCurveTo=function(O,q,ae,ee){O=St(this,O,q),ae=St(this,ae,ee),mt(this,ee={x:this.currentX_+2/3*(O.x-this.currentX_),y:this.currentY_+2/3*(O.y-this.currentY_)},{x:ee.x+(ae.x-this.currentX_)/3,y:ee.y+(ae.y-this.currentY_)/3},ae)},ze.arc=function(O,q,ae,ee,me,ye){ae*=Ze;var Ue=ye?"at":"wa",pt=O+Un(ee)*ae-En,Zt=q+Ri(ee)*ae-En;ee=O+Un(me)*ae-En,me=q+Ri(me)*ae-En,pt!=ee||ye||(pt+=.125),O=St(this,O,q),pt=St(this,pt,Zt),ee=St(this,ee,me),this.currentPath_.push({type:Ue,x:O.x,y:O.y,radius:ae,xStart:pt.x,yStart:pt.y,xEnd:ee.x,yEnd:ee.y})},ze.rect=function(O,q,ae,ee){this.moveTo(O,q),this.lineTo(O+ae,q),this.lineTo(O+ae,q+ee),this.lineTo(O,q+ee),this.closePath()},ze.strokeRect=function(O,q,ae,ee){var me=this.currentPath_;this.beginPath(),this.moveTo(O,q),this.lineTo(O+ae,q),this.lineTo(O+ae,q+ee),this.lineTo(O,q+ee),this.closePath(),this.stroke(),this.currentPath_=me},ze.fillRect=function(O,q,ae,ee){var me=this.currentPath_;this.beginPath(),this.moveTo(O,q),this.lineTo(O+ae,q),this.lineTo(O+ae,q+ee),this.lineTo(O,q+ee),this.closePath(),this.fill(),this.currentPath_=me},ze.createLinearGradient=function(O,q,ae,ee){var me=new Ds("gradient");return me.x0_=O,me.y0_=q,me.x1_=ae,me.y1_=ee,me},ze.createRadialGradient=function(O,q,ae,ee,me,ye){var Ue=new Ds("gradientradial");return Ue.x0_=O,Ue.y0_=q,Ue.r0_=ae,Ue.x1_=ee,Ue.y1_=me,Ue.r1_=ye,Ue},ze.drawImage=function(O,q){var ae,ee,me,ye,Ue,pt,Zt,lt;me=O.runtimeStyle.width,ye=O.runtimeStyle.height,O.runtimeStyle.width="auto",O.runtimeStyle.height="auto";var Ge=O.width,Se=O.height;if(O.runtimeStyle.width=me,O.runtimeStyle.height=ye,3==arguments.length)ae=arguments[1],ee=arguments[2],Ue=pt=0,Zt=me=Ge,lt=ye=Se;else if(5==arguments.length)ae=arguments[1],ee=arguments[2],me=arguments[3],ye=arguments[4],Ue=pt=0,Zt=Ge,lt=Se;else{if(9!=arguments.length)throw Error("Invalid number of arguments");Ue=arguments[1],pt=arguments[2],Zt=arguments[3],lt=arguments[4],ae=arguments[5],ee=arguments[6],me=arguments[7],ye=arguments[8]}var $t=St(this,ae,ee),et=[];if(et.push(" <g_vml_:group",' coordsize="',10*Ze,",",10*Ze,'"',' coordorigin="0,0"',' style="width:',10,"px;height:",10,"px;position:absolute;"),1!=this.m_[0][0]||this.m_[0][1]||1!=this.m_[1][1]||this.m_[1][0]){var Hn=[];Hn.push("M11=",this.m_[0][0],",","M12=",this.m_[1][0],",","M21=",this.m_[0][1],",","M22=",this.m_[1][1],",","Dx=",It($t.x/Ze),",","Dy=",It($t.y/Ze),"");var Yn=St(this,ae+me,ee),Ui=St(this,ae,ee+ye);ae=St(this,ae+me,ee+ye),$t.x=Kt.max($t.x,Yn.x,Ui.x,ae.x),$t.y=Kt.max($t.y,Yn.y,Ui.y,ae.y),et.push("padding:0 ",It($t.x/Ze),"px ",It($t.y/Ze),"px 0;filter:progid:DXImageTransform.Microsoft.Matrix(",Hn.join(""),", sizingmethod='clip');")}else et.push("top:",It($t.y/Ze),"px;left:",It($t.x/Ze),"px;");et.push(' ">','<g_vml_:image src="',O.src,'"',' style="width:',Ze*me,"px;"," height:",Ze*ye,'px"',' cropleft="',Ue/Ge,'"',' croptop="',pt/Se,'"',' cropright="',(Ge-Ue-Zt)/Ge,'"',' cropbottom="',(Se-pt-lt)/Se,'"'," />","</g_vml_:group>"),this.element_.insertAdjacentHTML("BeforeEnd",et.join(""))},ze.stroke=function(O){var q=[];q.push("<g_vml_:shape",' filled="',!!O,'"',' style="position:absolute;width:',10,"px;height:",10,'px;"',' coordorigin="0,0"',' coordsize="',10*Ze,",",10*Ze,'"',' stroked="',!O,'"',' path="');for(var ae={x:null,y:null},ee={x:null,y:null},me=0;me<this.currentPath_.length;me++){var ye=this.currentPath_[me];switch(ye.type){case"moveTo":q.push(" m ",It(ye.x),",",It(ye.y));break;case"lineTo":q.push(" l ",It(ye.x),",",It(ye.y));break;case"close":q.push(" x "),ye=null;break;case"bezierCurveTo":q.push(" c ",It(ye.cp1x),",",It(ye.cp1y),",",It(ye.cp2x),",",It(ye.cp2y),",",It(ye.x),",",It(ye.y));break;case"at":case"wa":q.push(" ",ye.type," ",It(ye.x-this.arcScaleX_*ye.radius),",",It(ye.y-this.arcScaleY_*ye.radius)," ",It(ye.x+this.arcScaleX_*ye.radius),",",It(ye.y+this.arcScaleY_*ye.radius)," ",It(ye.xStart),",",It(ye.yStart)," ",It(ye.xEnd),",",It(ye.yEnd))}ye&&((null==ae.x||ye.x<ae.x)&&(ae.x=ye.x),(null==ee.x||ye.x>ee.x)&&(ee.x=ye.x),(null==ae.y||ye.y<ae.y)&&(ae.y=ye.y),(null==ee.y||ye.y>ee.y)&&(ee.y=ye.y))}q.push(' ">'),O?ls(this,q,ae,ee):Pn(this,q),q.push("</g_vml_:shape>"),this.element_.insertAdjacentHTML("beforeEnd",q.join(""))},ze.fill=function(){this.stroke(!0)},ze.closePath=function(){this.currentPath_.push({type:"close"})},ze.save=function(){var O={};Ss(this,O),this.aStack_.push(O),this.mStack_.push(this.m_),this.m_=Xe([[1,0,0],[0,1,0],[0,0,1]],this.m_)},ze.restore=function(){this.aStack_.length&&(Ss(this.aStack_.pop(),this),this.m_=this.mStack_.pop())},ze.translate=function(O,q){ln(this,Xe([[1,0,0],[0,1,0],[O,q,1]],this.m_),!1)},ze.rotate=function(O){var q=Un(O);ln(this,Xe([[q,O=Ri(O),0],[-O,q,0],[0,0,1]],this.m_),!1)},ze.scale=function(O,q){this.arcScaleX_*=O,this.arcScaleY_*=q,ln(this,Xe([[O,0,0],[0,q,0],[0,0,1]],this.m_),!0)},ze.transform=function(O,q,ae,ee,me,ye){ln(this,Xe([[O,q,0],[ae,ee,0],[me,ye,1]],this.m_),!0)},ze.setTransform=function(O,q,ae,ee,me,ye){ln(this,[[O,q,0],[ae,ee,0],[me,ye,1]],!0)},ze.drawText_=function(O,q,ae,ee,me){var ye=this.m_;ee=0;var lt,Ue=1e3,pt=0,Zt=[];if(Y[lt=this.font])lt=Y[lt];else{var Ge=document.createElement("div").style;try{Ge.font=lt}catch{}lt=Y[lt]={style:Ge.fontStyle||"normal",variant:Ge.fontVariant||"normal",weight:Ge.fontWeight||"normal",size:Ge.fontSize||10,family:Ge.fontFamily||"sans-serif"}}Ge=lt;var Se=this.element_;for(var $t in lt={},Ge)lt[$t]=Ge[$t];switch($t=parseFloat(Se.currentStyle.fontSize),Se=parseFloat(Ge.size),lt.size="number"==typeof Ge.size?Ge.size:-1!=Ge.size.indexOf("px")?Se:-1!=Ge.size.indexOf("em")?$t*Se:-1!=Ge.size.indexOf("%")?$t/100*Se:-1!=Ge.size.indexOf("pt")?Se/.75:$t,lt.size*=.981,$t=lt.style+" "+lt.variant+" "+lt.weight+" "+lt.size+"px "+lt.family,Se=this.element_.currentStyle,Ge=this.textAlign.toLowerCase()){case"left":case"center":case"right":break;case"end":Ge="ltr"==Se.direction?"right":"left";break;case"start":Ge="rtl"==Se.direction?"right":"left";break;default:Ge="left"}switch(this.textBaseline){case"hanging":case"top":pt=lt.size/1.75;break;case"middle":break;default:pt=-lt.size/2.25}switch(Ge){case"right":ee=1e3,Ue=.05;break;case"center":ee=Ue=500}q=St(this,q+0,ae+pt),Zt.push('<g_vml_:line from="',-ee,' 0" to="',Ue,' 0.05" ',' coordsize="100 100" coordorigin="0 0"',' filled="',!me,'" stroked="',!!me,'" style="position:absolute;width:1px;height:1px;">'),me?Pn(this,Zt):ls(this,Zt,{x:-ee,y:0},{x:Ue,y:lt.size}),me=ye[0][0].toFixed(3)+","+ye[1][0].toFixed(3)+","+ye[0][1].toFixed(3)+","+ye[1][1].toFixed(3)+",0,0",q=It(q.x/Ze)+","+It(q.y/Ze),Zt.push('<g_vml_:skew on="t" matrix="',me,'" ',' offset="',q,'" origin="',ee,' 0" />','<g_vml_:path textpathok="true" />','<g_vml_:textpath on="true" string="',rs(O),'" style="v-text-align:',Ge,";font:",rs($t),'" /></g_vml_:line>'),this.element_.insertAdjacentHTML("beforeEnd",Zt.join(""))},ze.fillText=function(O,q,ae,ee){this.drawText_(O,q,ae,ee,!1)},ze.strokeText=function(O,q,ae,ee){this.drawText_(O,q,ae,ee,!0)},ze.measureText=function(O){this.textMeasureEl_||(this.element_.insertAdjacentHTML("beforeEnd",'<span style="position:absolute;top:-20000px;left:0;padding:0;margin:0;border:none;white-space:pre;"></span>'),this.textMeasureEl_=this.element_.lastChild);var q=this.element_.ownerDocument;return this.textMeasureEl_.innerHTML="",this.textMeasureEl_.style.font=this.font,this.textMeasureEl_.appendChild(q.createTextNode(O)),{width:this.textMeasureEl_.offsetWidth}},ze.clip=function(){},ze.arcTo=function(){},ze.createPattern=function(O,q){return new vi(O,q)},Ds.prototype.addColorStop=function(O,q){q=Js(q),this.colors_.push({offset:O,color:q.color,alpha:q.alpha})},(ze=kt.prototype=Error()).INDEX_SIZE_ERR=1,ze.DOMSTRING_SIZE_ERR=2,ze.HIERARCHY_REQUEST_ERR=3,ze.WRONG_DOCUMENT_ERR=4,ze.INVALID_CHARACTER_ERR=5,ze.NO_DATA_ALLOWED_ERR=6,ze.NO_MODIFICATION_ALLOWED_ERR=7,ze.NOT_FOUND_ERR=8,ze.NOT_SUPPORTED_ERR=9,ze.INUSE_ATTRIBUTE_ERR=10,ze.INVALID_STATE_ERR=11,ze.SYNTAX_ERR=12,ze.INVALID_MODIFICATION_ERR=13,ze.NAMESPACE_ERR=14,ze.INVALID_ACCESS_ERR=15,ze.VALIDATION_ERR=16,ze.TYPE_MISMATCH_ERR=17,G_vmlCanvasManager=Xt,CanvasRenderingContext2D=$e,CanvasGradient=Ds,CanvasPattern=vi,DOMException=kt}()},617:(mr,yl,Ko)=>{"use strict";function Yt(t){return"function"==typeof t}function xi(t){const i=t(n=>{Error.call(n),n.stack=(new Error).stack});return i.prototype=Object.create(Error.prototype),i.prototype.constructor=i,i}const yr=xi(t=>function(i){t(this),this.message=i?`${i.length} errors occurred during unsubscription:\n${i.map((n,s)=>`${s+1}) ${n.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=i});function rs(t,e){if(t){const i=t.indexOf(e);0<=i&&t.splice(i,1)}}class Lt{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:i}=this;if(i)if(this._parentage=null,Array.isArray(i))for(const o of i)o.remove(this);else i.remove(this);const{initialTeardown:n}=this;if(Yt(n))try{n()}catch(o){e=o instanceof yr?o.errors:[o]}const{_finalizers:s}=this;if(s){this._finalizers=null;for(const o of s)try{as(o)}catch(h){e=e??[],h instanceof yr?e=[...e,...h.errors]:e.push(h)}}if(e)throw new yr(e)}}add(e){var i;if(e&&e!==this)if(this.closed)as(e);else{if(e instanceof Lt){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(i=this._finalizers)&&void 0!==i?i:[]).push(e)}}_hasParent(e){const{_parentage:i}=this;return i===e||Array.isArray(i)&&i.includes(e)}_addParent(e){const{_parentage:i}=this;this._parentage=Array.isArray(i)?(i.push(e),i):i?[i,e]:e}_removeParent(e){const{_parentage:i}=this;i===e?this._parentage=null:Array.isArray(i)&&rs(i,e)}remove(e){const{_finalizers:i}=this;i&&rs(i,e),e instanceof Lt&&e._removeParent(this)}}Lt.EMPTY=(()=>{const t=new Lt;return t.closed=!0,t})();const os=Lt.EMPTY;function Dn(t){return t instanceof Lt||t&&"closed"in t&&Yt(t.remove)&&Yt(t.add)&&Yt(t.unsubscribe)}function as(t){Yt(t)?t():t.unsubscribe()}const Xe={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Ss={setTimeout(t,e,...i){const{delegate:n}=Ss;return n?.setTimeout?n.setTimeout(t,e,...i):setTimeout(t,e,...i)},clearTimeout(t){const{delegate:e}=Ss;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function V(t){Ss.setTimeout(()=>{const{onUnhandledError:e}=Xe;if(!e)throw t;e(t)})}function an(){}const xr=mt("C",void 0,void 0);function mt(t,e,i){return{kind:t,value:e,error:i}}let Pn=null;function ls(t){if(Xe.useDeprecatedSynchronousErrorHandling){const e=!Pn;if(e&&(Pn={errorThrown:!1,error:null}),t(),e){const{errorThrown:i,error:n}=Pn;if(Pn=null,i)throw n}}else t()}class ln extends Lt{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Dn(e)&&e.add(this)):this.destination=Bt}static create(e,i,n){return new Kt(e,i,n)}next(e){this.isStopped?Un(function $e(t){return mt("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?Un(function Js(t){return mt("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Un(xr,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ds=Function.prototype.bind;function vi(t,e){return Ds.call(t,e)}class kt{constructor(e){this.partialObserver=e}next(e){const{partialObserver:i}=this;if(i.next)try{i.next(e)}catch(n){It(n)}}error(e){const{partialObserver:i}=this;if(i.error)try{i.error(e)}catch(n){It(n)}else It(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(i){It(i)}}}class Kt extends ln{constructor(e,i,n){let s;if(super(),Yt(e)||!e)s={next:e??void 0,error:i??void 0,complete:n??void 0};else{let o;this&&Xe.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),s={next:e.next&&vi(e.next,o),error:e.error&&vi(e.error,o),complete:e.complete&&vi(e.complete,o)}):s=e}this.destination=new kt(s)}}function It(t){Xe.useDeprecatedSynchronousErrorHandling?function St(t){Xe.useDeprecatedSynchronousErrorHandling&&Pn&&(Pn.errorThrown=!0,Pn.error=t)}(t):V(t)}function Un(t,e){const{onStoppedNotification:i}=Xe;i&&Ss.setTimeout(()=>i(t,e))}const Bt={closed:!0,next:an,error:function Ri(t){throw t},complete:an},kn="function"==typeof Symbol&&Symbol.observable||"@@observable";function Ze(t){return t}function gn(t){return 0===t.length?Ze:1===t.length?t[0]:function(i){return t.reduce((n,s)=>s(n),i)}}let Xt=(()=>{class t{constructor(i){i&&(this._subscribe=i)}lift(i){const n=new t;return n.source=this,n.operator=i,n}subscribe(i,n,s){const o=function Ps(t){return t&&t instanceof ln||function In(t){return t&&Yt(t.next)&&Yt(t.error)&&Yt(t.complete)}(t)&&Dn(t)}(i)?i:new Kt(i,n,s);return ls(()=>{const{operator:h,source:p}=this;o.add(h?h.call(o,p):p?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(i){try{return this._subscribe(i)}catch(n){i.error(n)}}forEach(i,n){return new(n=An(n))((s,o)=>{const h=new Kt({next:p=>{try{i(p)}catch(y){o(y),h.unsubscribe()}},error:o,complete:s});this.subscribe(h)})}_subscribe(i){var n;return null===(n=this.source)||void 0===n?void 0:n.subscribe(i)}[kn](){return this}pipe(...i){return gn(i)(this)}toPromise(i){return new(i=An(i))((n,s)=>{let o;this.subscribe(h=>o=h,h=>s(h),()=>n(o))})}}return t.create=e=>new t(e),t})();function An(t){var e;return null!==(e=t??Xe.Promise)&&void 0!==e?e:Promise}const Ni=xi(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Y=(()=>{class t extends Xt{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(i){const n=new Ji(this,this);return n.operator=i,n}_throwIfClosed(){if(this.closed)throw new Ni}next(i){ls(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const n of this.currentObservers)n.next(i)}})}error(i){ls(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=i;const{observers:n}=this;for(;n.length;)n.shift().error(i)}})}complete(){ls(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:i}=this;for(;i.length;)i.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var i;return(null===(i=this.observers)||void 0===i?void 0:i.length)>0}_trySubscribe(i){return this._throwIfClosed(),super._trySubscribe(i)}_subscribe(i){return this._throwIfClosed(),this._checkFinalizedStatuses(i),this._innerSubscribe(i)}_innerSubscribe(i){const{hasError:n,isStopped:s,observers:o}=this;return n||s?os:(this.currentObservers=null,o.push(i),new Lt(()=>{this.currentObservers=null,rs(o,i)}))}_checkFinalizedStatuses(i){const{hasError:n,thrownError:s,isStopped:o}=this;n?i.error(s):o&&i.complete()}asObservable(){const i=new Xt;return i.source=this,i}}return t.create=(e,i)=>new Ji(e,i),t})();class Ji extends Y{constructor(e,i){super(),this.destination=e,this.source=i}next(e){var i,n;null===(n=null===(i=this.destination)||void 0===i?void 0:i.next)||void 0===n||n.call(i,e)}error(e){var i,n;null===(n=null===(i=this.destination)||void 0===i?void 0:i.error)||void 0===n||n.call(i,e)}complete(){var e,i;null===(i=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===i||i.call(e)}_subscribe(e){var i,n;return null!==(n=null===(i=this.source)||void 0===i?void 0:i.subscribe(e))&&void 0!==n?n:os}}function ze(t){return Yt(t?.lift)}function O(t){return e=>{if(ze(e))return e.lift(function(i){try{return t(i,this)}catch(n){this.error(n)}});throw new TypeError("Unable to lift unknown Observable type")}}function q(t,e,i,n,s){return new ae(t,e,i,n,s)}class ae extends ln{constructor(e,i,n,s,o,h){super(e),this.onFinalize=o,this.shouldUnsubscribe=h,this._next=i?function(p){try{i(p)}catch(y){e.error(y)}}:super._next,this._error=s?function(p){try{s(p)}catch(y){e.error(y)}finally{this.unsubscribe()}}:super._error,this._complete=n?function(){try{n()}catch(p){e.error(p)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:i}=this;super.unsubscribe(),!i&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function ee(t,e){return O((i,n)=>{let s=0;i.subscribe(q(n,o=>{n.next(t.call(e,o,s++))}))})}function Xn(t){return this instanceof Xn?(this.v=t,this):new Xn(t)}function di(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function Qo(t){var e="function"==typeof Symbol&&Symbol.iterator,i=e&&t[e],n=0;if(i)return i.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),i={},n("next"),n("throw"),n("return"),i[Symbol.asyncIterator]=function(){return this},i);function n(o){i[o]=t[o]&&function(h){return new Promise(function(p,y){!function s(o,h,p,y){Promise.resolve(y).then(function(_){o({value:_,done:p})},h)}(p,y,(h=t[o](h)).done,h.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const oe=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function st(t){return Yt(t?.then)}function Ct(t){return Yt(t[kn])}function Ye(t){return Symbol.asyncIterator&&Yt(t?.[Symbol.asyncIterator])}function bi(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const li=function Gt(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function bt(t){return Yt(t?.[li])}function Li(t){return function $r(t,e,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s,n=i.apply(t,e||[]),o=[];return s={},h("next"),h("throw"),h("return"),s[Symbol.asyncIterator]=function(){return this},s;function h(R){n[R]&&(s[R]=function(U){return new Promise(function(X,J){o.push([R,U,X,J])>1||p(R,U)})})}function p(R,U){try{!function y(R){R.value instanceof Xn?Promise.resolve(R.value.v).then(_,T):I(o[0][2],R)}(n[R](U))}catch(X){I(o[0][3],X)}}function _(R){p("next",R)}function T(R){p("throw",R)}function I(R,U){R(U),o.shift(),o.length&&p(o[0][0],o[0][1])}}(this,arguments,function*(){const i=t.getReader();try{for(;;){const{value:n,done:s}=yield Xn(i.read());if(s)return yield Xn(void 0);yield yield Xn(n)}}finally{i.releaseLock()}})}function _i(t){return Yt(t?.getReader)}function we(t){if(t instanceof Xt)return t;if(null!=t){if(Ct(t))return function Rt(t){return new Xt(e=>{const i=t[kn]();if(Yt(i.subscribe))return i.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(oe(t))return function r(t){return new Xt(e=>{for(let i=0;i<t.length&&!e.closed;i++)e.next(t[i]);e.complete()})}(t);if(st(t))return function u(t){return new Xt(e=>{t.then(i=>{e.closed||(e.next(i),e.complete())},i=>e.error(i)).then(null,V)})}(t);if(Ye(t))return a(t);if(bt(t))return function l(t){return new Xt(e=>{for(const i of t)if(e.next(i),e.closed)return;e.complete()})}(t);if(_i(t))return function c(t){return a(Li(t))}(t)}throw bi(t)}function a(t){return new Xt(e=>{(function f(t,e){var i,n,s,o;return function Yn(t,e,i,n){return new(i||(i=Promise))(function(o,h){function p(T){try{_(n.next(T))}catch(I){h(I)}}function y(T){try{_(n.throw(T))}catch(I){h(I)}}function _(T){T.done?o(T.value):function s(o){return o instanceof i?o:new i(function(h){h(o)})}(T.value).then(p,y)}_((n=n.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(i=di(t);!(n=yield i.next()).done;)if(e.next(n.value),e.closed)return}catch(h){s={error:h}}finally{try{n&&!n.done&&(o=i.return)&&(yield o.call(i))}finally{if(s)throw s.error}}e.complete()})})(t,e).catch(i=>e.error(i))})}function m(t,e,i,n=0,s=!1){const o=e.schedule(function(){i(),s?t.add(this.schedule(null,n)):this.unsubscribe()},n);if(t.add(o),!s)return o}function C(t,e,i=1/0){return Yt(e)?C((n,s)=>ee((o,h)=>e(n,o,s,h))(we(t(n,s))),i):("number"==typeof e&&(i=e),O((n,s)=>function M(t,e,i,n,s,o,h,p){const y=[];let _=0,T=0,I=!1;const R=()=>{I&&!y.length&&!_&&e.complete()},U=J=>_<n?X(J):y.push(J),X=J=>{o&&e.next(J),_++;let re=!1;we(i(J,T++)).subscribe(q(e,pe=>{s?.(pe),o?U(pe):e.next(pe)},()=>{re=!0},void 0,()=>{if(re)try{for(_--;y.length&&_<n;){const pe=y.shift();h?m(e,h,()=>X(pe)):X(pe)}R()}catch(pe){e.error(pe)}}))};return t.subscribe(q(e,U,()=>{I=!0,R()})),()=>{p?.()}}(n,s,t,i)))}function x(t=1/0){return C(Ze,t)}const g=new Xt(t=>t.complete());function w(t){return t[t.length-1]}function k(t){return function d(t){return t&&Yt(t.schedule)}(w(t))?t.pop():void 0}function L(t,e=0){return O((i,n)=>{i.subscribe(q(n,s=>m(n,t,()=>n.next(s),e),()=>m(n,t,()=>n.complete(),e),s=>m(n,t,()=>n.error(s),e)))})}function F(t,e=0){return O((i,n)=>{n.add(t.schedule(()=>i.subscribe(n),e))})}function le(t,e){if(!t)throw new Error("Iterable cannot be null");return new Xt(i=>{m(i,e,()=>{const n=t[Symbol.asyncIterator]();m(i,e,()=>{n.next().then(s=>{s.done?i.complete():i.next(s.value)})},0,!0)})})}function K(t,e){return e?function G(t,e){if(null!=t){if(Ct(t))return function B(t,e){return we(t).pipe(F(e),L(e))}(t,e);if(oe(t))return function W(t,e){return new Xt(i=>{let n=0;return e.schedule(function(){n===t.length?i.complete():(i.next(t[n++]),i.closed||this.schedule())})})}(t,e);if(st(t))return function j(t,e){return we(t).pipe(F(e),L(e))}(t,e);if(Ye(t))return le(t,e);if(bt(t))return function ie(t,e){return new Xt(i=>{let n;return m(i,e,()=>{n=t[li](),m(i,e,()=>{let s,o;try{({value:s,done:o}=n.next())}catch(h){return void i.error(h)}o?i.complete():i.next(s)},0,!0)}),()=>Yt(n?.return)&&n.return()})}(t,e);if(_i(t))return function Q(t,e){return le(Li(t),e)}(t,e)}throw bi(t)}(t,e):we(t)}function ne(t,e,...i){if(!0===e)return void t();if(!1===e)return;const n=new Kt({next:()=>{n.unsubscribe(),t()}});return we(e(...i)).subscribe(n)}function se(t){for(let e in t)if(t[e]===se)return e;throw Error("Could not find renamed property on target object.")}function Ee(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Ee).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const i=e.indexOf("\n");return-1===i?e:e.substring(0,i)}function tt(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const _t=se({__forward_ref__:se});function ft(t){return t.__forward_ref__=ft,t.toString=function(){return Ee(this())},t}function de(t){return Wt(t)?t():t}function Wt(t){return"function"==typeof t&&t.hasOwnProperty(_t)&&t.__forward_ref__===ft}function at(t){return t&&!!t.\u0275providers}class he extends Error{constructor(e,i){super(Si(e,i)),this.code=e}}function Si(t,e){return`NG0${Math.abs(t)}${e?": "+e.trim():""}`}function Ne(t){return"string"==typeof t?t:null==t?"":String(t)}function qt(t,e){throw new he(-201,!1)}function Ae(t,e){null==t&&function ke(t,e,i,n){throw new Error(`ASSERTION ERROR: ${t}`+(null==n?"":` [Expected=> ${i} ${n} ${e} <=Actual]`))}(e,t,null,"!=")}function Ie(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Be(t){return{providers:t.providers||[],imports:t.imports||[]}}function oi(t){return Xf(t,xl)||Xf(t,Gf)}function Xf(t,e){return t.hasOwnProperty(e)?t[e]:null}function $f(t){return t&&(t.hasOwnProperty(Bc)||t.hasOwnProperty(oC))?t[Bc]:null}const xl=se({\u0275prov:se}),Bc=se({\u0275inj:se}),Gf=se({ngInjectableDef:se}),oC=se({ngInjectorDef:se});var it=(()=>((it=it||{})[it.Default=0]="Default",it[it.Host=1]="Host",it[it.Self=2]="Self",it[it.SkipSelf=4]="SkipSelf",it[it.Optional=8]="Optional",it))();let Vc;function Fn(t){const e=Vc;return Vc=t,e}function Kf(t,e,i){const n=oi(t);return n&&"root"==n.providedIn?void 0===n.value?n.value=n.factory():n.value:i&it.Optional?null:void 0!==e?e:void qt(Ee(t))}const ni=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),qo={},Wc="__NG_DI_FLAG__",vl="ngTempTokenPath",lC="ngTokenPath",hC=/\n/gm,cC="\u0275",Qf="__source";let Jo;function Kr(t){const e=Jo;return Jo=t,e}function uC(t,e=it.Default){if(void 0===Jo)throw new he(-203,!1);return null===Jo?Kf(t,void 0,e):Jo.get(t,e&it.Optional?null:void 0,e)}function Oe(t,e=it.Default){return(function aC(){return Vc}()||uC)(de(t),e)}function Dt(t,e=it.Default){return Oe(t,bl(e))}function bl(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function zc(t){const e=[];for(let i=0;i<t.length;i++){const n=de(t[i]);if(Array.isArray(n)){if(0===n.length)throw new he(900,!1);let s,o=it.Default;for(let h=0;h<n.length;h++){const p=n[h],y=dC(p);"number"==typeof y?-1===y?s=p.token:o|=y:s=p}e.push(Oe(s,o))}else e.push(Oe(n))}return e}function ea(t,e){return t[Wc]=e,t.prototype[Wc]=e,t}function dC(t){return t[Wc]}function ks(t){return{toString:t}.toString()}var us=(()=>((us=us||{})[us.OnPush=0]="OnPush",us[us.Default=1]="Default",us))(),$n=(()=>{return(t=$n||($n={}))[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",$n;var t})();const Es={},jt=[],_l=se({\u0275cmp:se}),jc=se({\u0275dir:se}),Uc=se({\u0275pipe:se}),qf=se({\u0275mod:se}),As=se({\u0275fac:se}),ta=se({__NG_ELEMENT_ID__:se});let gC=0;function Vi(t){return ks(()=>{const e=eg(t),i={...e,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===us.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,data:t.data||{},encapsulation:t.encapsulation||$n.Emulated,id:"c"+gC++,styles:t.styles||jt,_:null,schemas:t.schemas||null,tView:null};tg(i);const n=t.dependencies;return i.directiveDefs=Ml(n,!1),i.pipeDefs=Ml(n,!0),i})}function yC(t){return Ht(t)||Hi(t)}function xC(t){return null!==t}function en(t){return ks(()=>({type:t.type,bootstrap:t.bootstrap||jt,declarations:t.declarations||jt,imports:t.imports||jt,exports:t.exports||jt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Jf(t,e){if(null==t)return Es;const i={};for(const n in t)if(t.hasOwnProperty(n)){let s=t[n],o=s;Array.isArray(s)&&(o=s[1],s=s[0]),i[s]=n,e&&(e[s]=o)}return i}function Jt(t){return ks(()=>{const e=eg(t);return tg(e),e})}function Ht(t){return t[_l]||null}function Hi(t){return t[jc]||null}function cn(t){return t[Uc]||null}function yn(t,e){const i=t[qf]||null;if(!i&&!0===e)throw new Error(`Type ${Ee(t)} does not have '\u0275mod' property.`);return i}function eg(t){const e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,exportAs:t.exportAs||null,standalone:!0===t.standalone,selectors:t.selectors||jt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Jf(t.inputs,e),outputs:Jf(t.outputs)}}function tg(t){t.features?.forEach(e=>e(t))}function Ml(t,e){if(!t)return null;const i=e?cn:yC;return()=>("function"==typeof t?t():t).map(n=>i(n)).filter(xC)}const Is=0,Re=1,xt=2,pi=3,Gn=4,_r=5,Yi=6,Zr=7,gi=8,Cl=9,wl=10,Mt=11,Hc=12,ia=13,ig=14,qr=15,Xi=16,na=17,Jr=18,ds=19,sa=20,ng=21,si=22,Yc=1,sg=2,Tl=7,Sl=8,eo=9,tn=10;function xn(t){return Array.isArray(t)&&"object"==typeof t[Yc]}function Kn(t){return Array.isArray(t)&&!0===t[Yc]}function Xc(t){return 0!=(4&t.flags)}function ra(t){return t.componentOffset>-1}function Dl(t){return 1==(1&t.flags)}function Qn(t){return!!t.template}function bC(t){return 0!=(256&t[xt])}function Mr(t,e){return t.hasOwnProperty(As)?t[As]:null}class CC{constructor(e,i,n){this.previousValue=e,this.currentValue=i,this.firstChange=n}isFirstChange(){return this.firstChange}}function er(){return ag}function ag(t){return t.type.prototype.ngOnChanges&&(t.setInput=TC),wC}function wC(){const t=hg(this),e=t?.current;if(e){const i=t.previous;if(i===Es)t.previous=e;else for(let n in e)i[n]=e[n];t.current=null,this.ngOnChanges(e)}}function TC(t,e,i,n){const s=this.declaredInputs[i],o=hg(t)||function SC(t,e){return t[lg]=e}(t,{previous:Es,current:null}),h=o.current||(o.current={}),p=o.previous,y=p[s];h[s]=new CC(y&&y.currentValue,e,p===Es),t[n]=e}er.ngInherit=!0;const lg="__ngSimpleChanges__";function hg(t){return t[lg]||null}const Ln=function(t,e,i){};function Wi(t){for(;Array.isArray(t);)t=t[Is];return t}function Pl(t,e){return Wi(e[t])}function vn(t,e){return Wi(e[t.index])}function dg(t,e){return t.data[e]}function un(t,e){const i=e[t];return xn(i)?i:i[Is]}function kl(t){return 64==(64&t[xt])}function tr(t,e){return null==e?null:t[e]}function pg(t){t[Jr]=0}function Gc(t,e){t[_r]+=e;let i=t,n=t[pi];for(;null!==n&&(1===e&&1===i[_r]||-1===e&&0===i[_r]);)n[_r]+=e,i=n,n=n[pi]}const ut={lFrame:Cg(null),bindingsEnabled:!0};function gg(){return ut.bindingsEnabled}function xe(){return ut.lFrame.lView}function Ot(){return ut.lFrame.tView}function zi(){let t=mg();for(;null!==t&&64===t.type;)t=t.parent;return t}function mg(){return ut.lFrame.currentTNode}function ps(t,e){const i=ut.lFrame;i.currentTNode=t,i.isParent=e}function Kc(){return ut.lFrame.isParent}function Qc(){ut.lFrame.isParent=!1}function io(){return ut.lFrame.bindingIndex++}function zC(t,e){const i=ut.lFrame;i.bindingIndex=i.bindingRootIndex=t,Zc(e)}function Zc(t){ut.lFrame.currentDirectiveIndex=t}function Jc(t){ut.lFrame.currentQueryIndex=t}function UC(t){const e=t[Re];return 2===e.type?e.declTNode:1===e.type?t[Yi]:null}function _g(t,e,i){if(i&it.SkipSelf){let s=e,o=t;for(;!(s=s.parent,null!==s||i&it.Host||(s=UC(o),null===s||(o=o[qr],10&s.type))););if(null===s)return!1;e=s,t=o}const n=ut.lFrame=Mg();return n.currentTNode=e,n.lView=t,!0}function eu(t){const e=Mg(),i=t[Re];ut.lFrame=e,e.currentTNode=i.firstChild,e.lView=t,e.tView=i,e.contextLView=t,e.bindingIndex=i.bindingStartIndex,e.inI18n=!1}function Mg(){const t=ut.lFrame,e=null===t?null:t.child;return null===e?Cg(t):e}function Cg(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function wg(){const t=ut.lFrame;return ut.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const Tg=wg;function tu(){const t=wg();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function sn(){return ut.lFrame.selectedIndex}function Cr(t){ut.lFrame.selectedIndex=t}function hi(){const t=ut.lFrame;return dg(t.tView,t.selectedIndex)}function El(t,e){for(let i=e.directiveStart,n=e.directiveEnd;i<n;i++){const o=t.data[i].type.prototype,{ngAfterContentInit:h,ngAfterContentChecked:p,ngAfterViewInit:y,ngAfterViewChecked:_,ngOnDestroy:T}=o;h&&(t.contentHooks??(t.contentHooks=[])).push(-i,h),p&&((t.contentHooks??(t.contentHooks=[])).push(i,p),(t.contentCheckHooks??(t.contentCheckHooks=[])).push(i,p)),y&&(t.viewHooks??(t.viewHooks=[])).push(-i,y),_&&((t.viewHooks??(t.viewHooks=[])).push(i,_),(t.viewCheckHooks??(t.viewCheckHooks=[])).push(i,_)),null!=T&&(t.destroyHooks??(t.destroyHooks=[])).push(i,T)}}function Al(t,e,i){Sg(t,e,3,i)}function Il(t,e,i,n){(3&t[xt])===i&&Sg(t,e,i,n)}function iu(t,e){let i=t[xt];(3&i)===e&&(i&=2047,i+=1,t[xt]=i)}function Sg(t,e,i,n){const o=n??-1,h=e.length-1;let p=0;for(let y=void 0!==n?65535&t[Jr]:0;y<h;y++)if("number"==typeof e[y+1]){if(p=e[y],null!=n&&p>=n)break}else e[y]<0&&(t[Jr]+=65536),(p<o||-1==o)&&(qC(t,i,e,y),t[Jr]=(4294901760&t[Jr])+y+2),y++}function qC(t,e,i,n){const s=i[n]<0,o=i[n+1],p=t[s?-i[n]:i[n]];if(s){if(t[xt]>>11<t[Jr]>>16&&(3&t[xt])===e){t[xt]+=2048,Ln(4,p,o);try{o.call(p)}finally{Ln(5,p,o)}}}else{Ln(4,p,o);try{o.call(p)}finally{Ln(5,p,o)}}}const no=-1;class aa{constructor(e,i,n){this.factory=e,this.resolving=!1,this.canSeeViewProviders=i,this.injectImpl=n}}function su(t,e,i){let n=0;for(;n<i.length;){const s=i[n];if("number"==typeof s){if(0!==s)break;n++;const o=i[n++],h=i[n++],p=i[n++];t.setAttribute(e,h,p,o)}else{const o=s,h=i[++n];Pg(o)?t.setProperty(e,o,h):t.setAttribute(e,o,h),n++}}return n}function Dg(t){return 3===t||4===t||6===t}function Pg(t){return 64===t.charCodeAt(0)}function la(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let i=-1;for(let n=0;n<e.length;n++){const s=e[n];"number"==typeof s?i=s:0===i||kg(t,i,s,null,-1===i||2===i?e[++n]:null)}}return t}function kg(t,e,i,n,s){let o=0,h=t.length;if(-1===e)h=-1;else for(;o<t.length;){const p=t[o++];if("number"==typeof p){if(p===e){h=-1;break}if(p>e){h=o-1;break}}}for(;o<t.length;){const p=t[o];if("number"==typeof p)break;if(p===i){if(null===n)return void(null!==s&&(t[o+1]=s));if(n===t[o+1])return void(t[o+2]=s)}o++,null!==n&&o++,null!==s&&o++}-1!==h&&(t.splice(h,0,e),o=h+1),t.splice(o++,0,i),null!==n&&t.splice(o++,0,n),null!==s&&t.splice(o++,0,s)}function Eg(t){return t!==no}function Fl(t){return 32767&t}function Ll(t,e){let i=function iw(t){return t>>16}(t),n=e;for(;i>0;)n=n[qr],i--;return n}let ru=!0;function Ol(t){const e=ru;return ru=t,e}const Ag=255,Ig=5;let nw=0;const fs={};function Rl(t,e){const i=Fg(t,e);if(-1!==i)return i;const n=e[Re];n.firstCreatePass&&(t.injectorIndex=e.length,ou(n.data,t),ou(e,null),ou(n.blueprint,null));const s=au(t,e),o=t.injectorIndex;if(Eg(s)){const h=Fl(s),p=Ll(s,e),y=p[Re].data;for(let _=0;_<8;_++)e[o+_]=p[h+_]|y[h+_]}return e[o+8]=s,o}function ou(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Fg(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function au(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let i=0,n=null,s=e;for(;null!==s;){if(n=zg(s),null===n)return no;if(i++,s=s[qr],-1!==n.injectorIndex)return n.injectorIndex|i<<16}return no}function lu(t,e,i){!function sw(t,e,i){let n;"string"==typeof i?n=i.charCodeAt(0)||0:i.hasOwnProperty(ta)&&(n=i[ta]),null==n&&(n=i[ta]=nw++);const s=n&Ag;e.data[t+(s>>Ig)]|=1<<s}(t,e,i)}function Lg(t,e,i){if(i&it.Optional||void 0!==t)return t;qt()}function Og(t,e,i,n){if(i&it.Optional&&void 0===n&&(n=null),!(i&(it.Self|it.Host))){const s=t[Cl],o=Fn(void 0);try{return s?s.get(e,n,i&it.Optional):Kf(e,n,i&it.Optional)}finally{Fn(o)}}return Lg(n,0,i)}function Rg(t,e,i,n=it.Default,s){if(null!==t){if(1024&e[xt]){const h=function hw(t,e,i,n,s){let o=t,h=e;for(;null!==o&&null!==h&&1024&h[xt]&&!(256&h[xt]);){const p=Ng(o,h,i,n|it.Self,fs);if(p!==fs)return p;let y=o.parent;if(!y){const _=h[ng];if(_){const T=_.get(i,fs,n);if(T!==fs)return T}y=zg(h),h=h[qr]}o=y}return s}(t,e,i,n,fs);if(h!==fs)return h}const o=Ng(t,e,i,n,fs);if(o!==fs)return o}return Og(e,i,n,s)}function Ng(t,e,i,n,s){const o=function aw(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(ta)?t[ta]:void 0;return"number"==typeof e?e>=0?e&Ag:lw:e}(i);if("function"==typeof o){if(!_g(e,t,n))return n&it.Host?Lg(s,0,n):Og(e,i,n,s);try{const h=o(n);if(null!=h||n&it.Optional)return h;qt()}finally{Tg()}}else if("number"==typeof o){let h=null,p=Fg(t,e),y=no,_=n&it.Host?e[Xi][Yi]:null;for((-1===p||n&it.SkipSelf)&&(y=-1===p?au(t,e):e[p+8],y!==no&&Vg(n,!1)?(h=e[Re],p=Fl(y),e=Ll(y,e)):p=-1);-1!==p;){const T=e[Re];if(Bg(o,p,T.data)){const I=ow(p,e,i,h,n,_);if(I!==fs)return I}y=e[p+8],y!==no&&Vg(n,e[Re].data[p+8]===_)&&Bg(o,p,e)?(h=T,p=Fl(y),e=Ll(y,e)):p=-1}}return s}function ow(t,e,i,n,s,o){const h=e[Re],p=h.data[t+8],T=function Nl(t,e,i,n,s){const o=t.providerIndexes,h=e.data,p=1048575&o,y=t.directiveStart,T=o>>20,R=s?p+T:t.directiveEnd;for(let U=n?p:p+T;U<R;U++){const X=h[U];if(U<y&&i===X||U>=y&&X.type===i)return U}if(s){const U=h[y];if(U&&Qn(U)&&U.type===i)return y}return null}(p,h,i,null==n?ra(p)&&ru:n!=h&&0!=(3&p.type),s&it.Host&&o===p);return null!==T?wr(e,h,T,p):fs}function wr(t,e,i,n){let s=t[i];const o=e.data;if(function JC(t){return t instanceof aa}(s)){const h=s;h.resolving&&function mn(t,e){const i=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new he(-200,`Circular dependency in DI detected for ${t}${i}`)}(function yt(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Ne(t)}(o[i]));const p=Ol(h.canSeeViewProviders);h.resolving=!0;const y=h.injectImpl?Fn(h.injectImpl):null;_g(t,n,it.Default);try{s=t[i]=h.factory(void 0,o,t,n),e.firstCreatePass&&i>=n.directiveStart&&function ZC(t,e,i){const{ngOnChanges:n,ngOnInit:s,ngDoCheck:o}=e.type.prototype;if(n){const h=ag(e);(i.preOrderHooks??(i.preOrderHooks=[])).push(t,h),(i.preOrderCheckHooks??(i.preOrderCheckHooks=[])).push(t,h)}s&&(i.preOrderHooks??(i.preOrderHooks=[])).push(0-t,s),o&&((i.preOrderHooks??(i.preOrderHooks=[])).push(t,o),(i.preOrderCheckHooks??(i.preOrderCheckHooks=[])).push(t,o))}(i,o[i],e)}finally{null!==y&&Fn(y),Ol(p),h.resolving=!1,Tg()}}return s}function Bg(t,e,i){return!!(i[e+(t>>Ig)]&1<<t)}function Vg(t,e){return!(t&it.Self||t&it.Host&&e)}class so{constructor(e,i){this._tNode=e,this._lView=i}get(e,i,n){return Rg(this._tNode,this._lView,e,bl(n),i)}}function lw(){return new so(zi(),xe())}function hu(t){return Wt(t)?()=>{const e=hu(de(t));return e&&e()}:Mr(t)}function zg(t){const e=t[Re],i=e.type;return 2===i?e.declTNode:1===i?t[Yi]:null}const oo="__parameters__";function lo(t,e,i){return ks(()=>{const n=function cu(t){return function(...i){if(t){const n=t(...i);for(const s in n)this[s]=n[s]}}}(e);function s(...o){if(this instanceof s)return n.apply(this,o),this;const h=new s(...o);return p.annotation=h,p;function p(y,_,T){const I=y.hasOwnProperty(oo)?y[oo]:Object.defineProperty(y,oo,{value:[]})[oo];for(;I.length<=T;)I.push(null);return(I[T]=I[T]||[]).push(h),y}}return i&&(s.prototype=Object.create(i.prototype)),s.prototype.ngMetadataName=t,s.annotationCls=s,s})}class We{constructor(e,i){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof i?this.__NG_ELEMENT_ID__=i:void 0!==i&&(this.\u0275prov=Ie({token:this,providedIn:i.providedIn||"root",factory:i.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Tr(t,e){t.forEach(i=>Array.isArray(i)?Tr(i,e):e(i))}function Ug(t,e,i){e>=t.length?t.push(i):t.splice(e,0,i)}function Vl(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function ua(t,e){const i=[];for(let n=0;n<t;n++)i.push(e);return i}function bn(t,e,i){let n=ho(t,e);return n>=0?t[1|n]=i:(n=~n,function pw(t,e,i,n){let s=t.length;if(s==e)t.push(i,n);else if(1===s)t.push(n,t[0]),t[0]=i;else{for(s--,t.push(t[s-1],t[s]);s>e;)t[s]=t[s-2],s--;t[e]=i,t[e+1]=n}}(t,n,e,i)),n}function du(t,e){const i=ho(t,e);if(i>=0)return t[1|i]}function ho(t,e){return function Hg(t,e,i){let n=0,s=t.length>>i;for(;s!==n;){const o=n+(s-n>>1),h=t[o<<i];if(e===h)return o<<i;h>e?s=o:n=o+1}return~(s<<i)}(t,e,1)}const da=ea(lo("Optional"),8),pa=ea(lo("SkipSelf"),4);var dn=(()=>((dn=dn||{})[dn.Important=1]="Important",dn[dn.DashCase=2]="DashCase",dn))();const xu=new Map;let Ow=0;const bu="__ngContext__";function $i(t,e){xn(e)?(t[bu]=e[sa],function Nw(t){xu.set(t[sa],t)}(e)):t[bu]=e}let _u;function Mu(t,e){return _u(t,e)}function ya(t){const e=t[pi];return Kn(e)?e[pi]:e}function Cu(t){return cm(t[ia])}function wu(t){return cm(t[Gn])}function cm(t){for(;null!==t&&!Kn(t);)t=t[Gn];return t}function uo(t,e,i,n,s){if(null!=n){let o,h=!1;Kn(n)?o=n:xn(n)&&(h=!0,n=n[Is]);const p=Wi(n);0===t&&null!==i?null==s?mm(e,i,p):Sr(e,i,p,s||null,!0):1===t&&null!==i?Sr(e,i,p,s||null,!0):2===t?function Au(t,e,i){const n=Ul(t,e);n&&function nT(t,e,i,n){t.removeChild(e,i,n)}(t,n,e,i)}(e,p,h):3===t&&e.destroyNode(p),null!=o&&function oT(t,e,i,n,s){const o=i[Tl];o!==Wi(i)&&uo(e,t,n,o,s);for(let p=tn;p<i.length;p++){const y=i[p];xa(y[Re],y,t,e,n,o)}}(e,t,o,i,s)}}function Su(t,e,i){return t.createElement(e,i)}function dm(t,e){const i=t[eo],n=i.indexOf(e),s=e[pi];512&e[xt]&&(e[xt]&=-513,Gc(s,-1)),i.splice(n,1)}function Du(t,e){if(t.length<=tn)return;const i=tn+e,n=t[i];if(n){const s=n[na];null!==s&&s!==t&&dm(s,n),e>0&&(t[i-1][Gn]=n[Gn]);const o=Vl(t,tn+e);!function Kw(t,e){xa(t,e,e[Mt],2,null,null),e[Is]=null,e[Yi]=null}(n[Re],n);const h=o[ds];null!==h&&h.detachView(o[Re]),n[pi]=null,n[Gn]=null,n[xt]&=-65}return n}function pm(t,e){if(!(128&e[xt])){const i=e[Mt];i.destroyNode&&xa(t,e,i,3,null,null),function qw(t){let e=t[ia];if(!e)return Pu(t[Re],t);for(;e;){let i=null;if(xn(e))i=e[ia];else{const n=e[tn];n&&(i=n)}if(!i){for(;e&&!e[Gn]&&e!==t;)xn(e)&&Pu(e[Re],e),e=e[pi];null===e&&(e=t),xn(e)&&Pu(e[Re],e),i=e&&e[Gn]}e=i}}(e)}}function Pu(t,e){if(!(128&e[xt])){e[xt]&=-65,e[xt]|=128,function iT(t,e){let i;if(null!=t&&null!=(i=t.destroyHooks))for(let n=0;n<i.length;n+=2){const s=e[i[n]];if(!(s instanceof aa)){const o=i[n+1];if(Array.isArray(o))for(let h=0;h<o.length;h+=2){const p=s[o[h]],y=o[h+1];Ln(4,p,y);try{y.call(p)}finally{Ln(5,p,y)}}else{Ln(4,s,o);try{o.call(s)}finally{Ln(5,s,o)}}}}}(t,e),function tT(t,e){const i=t.cleanup,n=e[Zr];let s=-1;if(null!==i)for(let o=0;o<i.length-1;o+=2)if("string"==typeof i[o]){const h=i[o+3];h>=0?n[s=h]():n[s=-h].unsubscribe(),o+=2}else{const h=n[s=i[o+1]];i[o].call(h)}if(null!==n){for(let o=s+1;o<n.length;o++)(0,n[o])();e[Zr]=null}}(t,e),1===e[Re].type&&e[Mt].destroy();const i=e[na];if(null!==i&&Kn(e[pi])){i!==e[pi]&&dm(i,e);const n=e[ds];null!==n&&n.detachView(t)}!function Bw(t){xu.delete(t[sa])}(e)}}function fm(t,e,i){return function gm(t,e,i){let n=e;for(;null!==n&&40&n.type;)n=(e=n).parent;if(null===n)return i[Is];{const{componentOffset:s}=n;if(s>-1){const{encapsulation:o}=t.data[n.directiveStart+s];if(o===$n.None||o===$n.Emulated)return null}return vn(n,i)}}(t,e.parent,i)}function Sr(t,e,i,n,s){t.insertBefore(e,i,n,s)}function mm(t,e,i){t.appendChild(e,i)}function ym(t,e,i,n,s){null!==n?Sr(t,e,i,n,s):mm(t,e,i)}function Ul(t,e){return t.parentNode(e)}function xm(t,e,i){return bm(t,e,i)}let ku,Lu,bm=function vm(t,e,i){return 40&t.type?vn(t,i):null};function Hl(t,e,i,n){const s=fm(t,n,e),o=e[Mt],p=xm(n.parent||e[Yi],n,e);if(null!=s)if(Array.isArray(i))for(let y=0;y<i.length;y++)ym(o,s,i[y],p,!1);else ym(o,s,i,p,!1);void 0!==ku&&ku(o,n,e,i,s)}function Yl(t,e){if(null!==e){const i=e.type;if(3&i)return vn(e,t);if(4&i)return Eu(-1,t[e.index]);if(8&i){const n=e.child;if(null!==n)return Yl(t,n);{const s=t[e.index];return Kn(s)?Eu(-1,s):Wi(s)}}if(32&i)return Mu(e,t)()||Wi(t[e.index]);{const n=Mm(t,e);return null!==n?Array.isArray(n)?n[0]:Yl(ya(t[Xi]),n):Yl(t,e.next)}}return null}function Mm(t,e){return null!==e?t[Xi][Yi].projection[e.projection]:null}function Eu(t,e){const i=tn+t+1;if(i<e.length){const n=e[i],s=n[Re].firstChild;if(null!==s)return Yl(n,s)}return e[Tl]}function Iu(t,e,i,n,s,o,h){for(;null!=i;){const p=n[i.index],y=i.type;if(h&&0===e&&(p&&$i(Wi(p),n),i.flags|=2),32!=(32&i.flags))if(8&y)Iu(t,e,i.child,n,s,o,!1),uo(e,t,s,p,o);else if(32&y){const _=Mu(i,n);let T;for(;T=_();)uo(e,t,s,T,o);uo(e,t,s,p,o)}else 16&y?Cm(t,e,n,i,s,o):uo(e,t,s,p,o);i=h?i.projectionNext:i.next}}function xa(t,e,i,n,s,o){Iu(i,n,t.firstChild,e,s,o,!1)}function Cm(t,e,i,n,s,o){const h=i[Xi],y=h[Yi].projection[n.projection];if(Array.isArray(y))for(let _=0;_<y.length;_++)uo(e,t,s,y[_],o);else Iu(t,e,y,h[pi],s,o,!0)}function wm(t,e,i){""===i?t.removeAttribute(e,"class"):t.setAttribute(e,"class",i)}function Tm(t,e,i){const{mergedAttrs:n,classes:s,styles:o}=i;null!==n&&su(t,e,n),null!==s&&wm(t,e,s),null!==o&&function lT(t,e,i){t.setAttribute(e,"style",i)}(t,e,o)}class Em{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}const Kl=new We("ENVIRONMENT_INITIALIZER"),Wm=new We("INJECTOR",-1),zm=new We("INJECTOR_DEF_TYPES");class jm{get(e,i=qo){if(i===qo){const n=new Error(`NullInjectorError: No provider for ${Ee(e)}!`);throw n.name="NullInjectorError",n}return i}}function OT(...t){return{\u0275providers:Um(0,t),\u0275fromNgModule:!0}}function Um(t,...e){const i=[],n=new Set;let s;return Tr(e,o=>{const h=o;Wu(h,i,[],n)&&(s||(s=[]),s.push(h))}),void 0!==s&&Hm(s,i),i}function Hm(t,e){for(let i=0;i<t.length;i++){const{providers:s}=t[i];zu(s,o=>{e.push(o)})}}function Wu(t,e,i,n){if(!(t=de(t)))return!1;let s=null,o=$f(t);const h=!o&&Ht(t);if(o||h){if(h&&!h.standalone)return!1;s=t}else{const y=t.ngModule;if(o=$f(y),!o)return!1;s=y}const p=n.has(s);if(h){if(p)return!1;if(n.add(s),h.dependencies){const y="function"==typeof h.dependencies?h.dependencies():h.dependencies;for(const _ of y)Wu(_,e,i,n)}}else{if(!o)return!1;{if(null!=o.imports&&!p){let _;n.add(s);try{Tr(o.imports,T=>{Wu(T,e,i,n)&&(_||(_=[]),_.push(T))})}finally{}void 0!==_&&Hm(_,e)}if(!p){const _=Mr(s)||(()=>new s);e.push({provide:s,useFactory:_,deps:jt},{provide:zm,useValue:s,multi:!0},{provide:Kl,useValue:()=>Oe(s),multi:!0})}const y=o.providers;null==y||p||zu(y,T=>{e.push(T)})}}return s!==t&&void 0!==t.providers}function zu(t,e){for(let i of t)at(i)&&(i=i.\u0275providers),Array.isArray(i)?zu(i,e):e(i)}const RT=se({provide:String,useValue:se});function ju(t){return null!==t&&"object"==typeof t&&RT in t}function Dr(t){return"function"==typeof t}const Uu=new We("Set Injector scope."),Ql={},BT={};let Hu;function Zl(){return void 0===Hu&&(Hu=new jm),Hu}class Rs{}class $m extends Rs{get destroyed(){return this._destroyed}constructor(e,i,n,s){super(),this.parent=i,this.source=n,this.scopes=s,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Xu(e,h=>this.processProvider(h)),this.records.set(Wm,fo(void 0,this)),s.has("environment")&&this.records.set(Rs,fo(void 0,this));const o=this.records.get(Uu);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(zm.multi,jt,it.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();for(const e of this._onDestroyHooks)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(e){this._onDestroyHooks.push(e)}runInContext(e){this.assertNotDestroyed();const i=Kr(this),n=Fn(void 0);try{return e()}finally{Kr(i),Fn(n)}}get(e,i=qo,n=it.Default){this.assertNotDestroyed(),n=bl(n);const s=Kr(this),o=Fn(void 0);try{if(!(n&it.SkipSelf)){let p=this.records.get(e);if(void 0===p){const y=function UT(t){return"function"==typeof t||"object"==typeof t&&t instanceof We}(e)&&oi(e);p=y&&this.injectableDefInScope(y)?fo(Yu(e),Ql):null,this.records.set(e,p)}if(null!=p)return this.hydrate(e,p)}return(n&it.Self?Zl():this.parent).get(e,i=n&it.Optional&&i===qo?null:i)}catch(h){if("NullInjectorError"===h.name){if((h[vl]=h[vl]||[]).unshift(Ee(e)),s)throw h;return function pC(t,e,i,n){const s=t[vl];throw e[Qf]&&s.unshift(e[Qf]),t.message=function fC(t,e,i,n=null){t=t&&"\n"===t.charAt(0)&&t.charAt(1)==cC?t.slice(2):t;let s=Ee(e);if(Array.isArray(e))s=e.map(Ee).join(" -> ");else if("object"==typeof e){let o=[];for(let h in e)if(e.hasOwnProperty(h)){let p=e[h];o.push(h+":"+("string"==typeof p?JSON.stringify(p):Ee(p)))}s=`{${o.join(", ")}}`}return`${i}${n?"("+n+")":""}[${s}]: ${t.replace(hC,"\n  ")}`}("\n"+t.message,s,i,n),t[lC]=s,t[vl]=null,t}(h,e,"R3InjectorError",this.source)}throw h}finally{Fn(o),Kr(s)}}resolveInjectorInitializers(){const e=Kr(this),i=Fn(void 0);try{const n=this.get(Kl.multi,jt,it.Self);for(const s of n)s()}finally{Kr(e),Fn(i)}}toString(){const e=[],i=this.records;for(const n of i.keys())e.push(Ee(n));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new he(205,!1)}processProvider(e){let i=Dr(e=de(e))?e:de(e&&e.provide);const n=function WT(t){return ju(t)?fo(void 0,t.useValue):fo(function Gm(t,e,i){let n;if(Dr(t)){const s=de(t);return Mr(s)||Yu(s)}if(ju(t))n=()=>de(t.useValue);else if(function Xm(t){return!(!t||!t.useFactory)}(t))n=()=>t.useFactory(...zc(t.deps||[]));else if(function Ym(t){return!(!t||!t.useExisting)}(t))n=()=>Oe(de(t.useExisting));else{const s=de(t&&(t.useClass||t.provide));if(!function zT(t){return!!t.deps}(t))return Mr(s)||Yu(s);n=()=>new s(...zc(t.deps))}return n}(t),Ql)}(e);if(Dr(e)||!0!==e.multi)this.records.get(i);else{let s=this.records.get(i);s||(s=fo(void 0,Ql,!0),s.factory=()=>zc(s.multi),this.records.set(i,s)),i=e,s.multi.push(e)}this.records.set(i,n)}hydrate(e,i){return i.value===Ql&&(i.value=BT,i.value=i.factory()),"object"==typeof i.value&&i.value&&function jT(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(i.value)&&this._ngOnDestroyHooks.add(i.value),i.value}injectableDefInScope(e){if(!e.providedIn)return!1;const i=de(e.providedIn);return"string"==typeof i?"any"===i||this.scopes.has(i):this.injectorDefTypes.has(i)}}function Yu(t){const e=oi(t),i=null!==e?e.factory:Mr(t);if(null!==i)return i;if(t instanceof We)throw new he(204,!1);if(t instanceof Function)return function VT(t){const e=t.length;if(e>0)throw ua(e,"?"),new he(204,!1);const i=function rC(t){return t&&(t[xl]||t[Gf])||null}(t);return null!==i?()=>i.factory(t):()=>new t}(t);throw new he(204,!1)}function fo(t,e,i=!1){return{factory:t,value:e,multi:i?[]:void 0}}function Xu(t,e){for(const i of t)Array.isArray(i)?Xu(i,e):i&&at(i)?Xu(i.\u0275providers,e):e(i)}class HT{}class Km{}class XT{resolveComponentFactory(e){throw function YT(t){const e=Error(`No component factory found for ${Ee(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(e)}}let Ma=(()=>{class t{}return t.NULL=new XT,t})();function $T(){return go(zi(),xe())}function go(t,e){return new Ns(vn(t,e))}let Ns=(()=>{class t{constructor(i){this.nativeElement=i}}return t.__NG_ELEMENT_ID__=$T,t})();class Ca{}let ql=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>function KT(){const t=xe(),i=un(zi().index,t);return(xn(i)?i:t)[Mt]}(),t})(),QT=(()=>{class t{}return t.\u0275prov=Ie({token:t,providedIn:"root",factory:()=>null}),t})();class mo{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const ZT=new mo("15.2.10"),$u={},Gu="ngOriginalError";function Ku(t){return t[Gu]}class yo{constructor(){this._console=console}handleError(e){const i=this._findOriginalError(e);this._console.error("ERROR",e),i&&this._console.error("ORIGINAL ERROR",i)}_findOriginalError(e){let i=e&&Ku(e);for(;i&&Ku(i);)i=Ku(i);return i||null}}function Bs(t){return t instanceof Function?t():t}function qm(t,e,i){let n=t.length;for(;;){const s=t.indexOf(e,i);if(-1===s)return s;if(0===s||t.charCodeAt(s-1)<=32){const o=e.length;if(s+o===n||t.charCodeAt(s+o)<=32)return s}i=s+1}}const Jm="ng-template";function lS(t,e,i){let n=0,s=!0;for(;n<t.length;){let o=t[n++];if("string"==typeof o&&s){const h=t[n++];if(i&&"class"===o&&-1!==qm(h.toLowerCase(),e,0))return!0}else{if(1===o){for(;n<t.length&&"string"==typeof(o=t[n++]);)if(o.toLowerCase()===e)return!0;return!1}"number"==typeof o&&(s=!1)}}return!1}function ey(t){return 4===t.type&&t.value!==Jm}function hS(t,e,i){return e===(4!==t.type||i?t.value:Jm)}function cS(t,e,i){let n=4;const s=t.attrs||[],o=function pS(t){for(let e=0;e<t.length;e++)if(Dg(t[e]))return e;return t.length}(s);let h=!1;for(let p=0;p<e.length;p++){const y=e[p];if("number"!=typeof y){if(!h)if(4&n){if(n=2|1&n,""!==y&&!hS(t,y,i)||""===y&&1===e.length){if(Zn(n))return!1;h=!0}}else{const _=8&n?y:e[++p];if(8&n&&null!==t.attrs){if(!lS(t.attrs,_,i)){if(Zn(n))return!1;h=!0}continue}const I=uS(8&n?"class":y,s,ey(t),i);if(-1===I){if(Zn(n))return!1;h=!0;continue}if(""!==_){let R;R=I>o?"":s[I+1].toLowerCase();const U=8&n?R:null;if(U&&-1!==qm(U,_,0)||2&n&&_!==R){if(Zn(n))return!1;h=!0}}}}else{if(!h&&!Zn(n)&&!Zn(y))return!1;if(h&&Zn(y))continue;h=!1,n=y|1&n}}return Zn(n)||h}function Zn(t){return 0==(1&t)}function uS(t,e,i,n){if(null===e)return-1;let s=0;if(n||!i){let o=!1;for(;s<e.length;){const h=e[s];if(h===t)return s;if(3===h||6===h)o=!0;else{if(1===h||2===h){let p=e[++s];for(;"string"==typeof p;)p=e[++s];continue}if(4===h)break;if(0===h){s+=4;continue}}s+=o?1:2}return-1}return function fS(t,e){let i=t.indexOf(4);if(i>-1)for(i++;i<t.length;){const n=t[i];if("number"==typeof n)return-1;if(n===e)return i;i++}return-1}(e,t)}function ty(t,e,i=!1){for(let n=0;n<e.length;n++)if(cS(t,e[n],i))return!0;return!1}function gS(t,e){e:for(let i=0;i<e.length;i++){const n=e[i];if(t.length===n.length){for(let s=0;s<t.length;s++)if(t[s]!==n[s])continue e;return!0}}return!1}function iy(t,e){return t?":not("+e.trim()+")":e}function mS(t){let e=t[0],i=1,n=2,s="",o=!1;for(;i<t.length;){let h=t[i];if("string"==typeof h)if(2&n){const p=t[++i];s+="["+h+(p.length>0?'="'+p+'"':"")+"]"}else 8&n?s+="."+h:4&n&&(s+=" "+h);else""!==s&&!Zn(h)&&(e+=iy(o,s),s=""),n=h,o=o||!Zn(n);i++}return""!==s&&(e+=iy(o,s)),e}const dt={};function Vs(t){ny(Ot(),xe(),sn()+t,!1)}function ny(t,e,i,n){if(!n)if(3==(3&e[xt])){const o=t.preOrderCheckHooks;null!==o&&Al(e,o,i)}else{const o=t.preOrderHooks;null!==o&&Il(e,o,0,i)}Cr(i)}function ay(t,e=null,i=null,n){const s=ly(t,e,i,n);return s.resolveInjectorInitializers(),s}function ly(t,e=null,i=null,n,s=new Set){const o=[i||jt,OT(t)];return n=n||("object"==typeof t?void 0:Ee(t)),new $m(o,e||Zl(),n||null,s)}let Ws=(()=>{class t{static create(i,n){if(Array.isArray(i))return ay({name:""},n,i,"");{const s=i.name??"";return ay({name:s},i.parent,i.providers,s)}}}return t.THROW_IF_NOT_FOUND=qo,t.NULL=new jm,t.\u0275prov=Ie({token:t,providedIn:"any",factory:()=>Oe(Wm)}),t.__NG_ELEMENT_ID__=-1,t})();function nt(t,e=it.Default){const i=xe();return null===i?Oe(t,e):Rg(zi(),i,de(t),e)}function my(t,e){const i=t.contentQueries;if(null!==i)for(let n=0;n<i.length;n+=2){const o=i[n+1];if(-1!==o){const h=t.data[o];Jc(i[n]),h.contentQueries(2,e[o],o)}}}function eh(t,e,i,n,s,o,h,p,y,_,T){const I=e.blueprint.slice();return I[Is]=s,I[xt]=76|n,(null!==T||t&&1024&t[xt])&&(I[xt]|=1024),pg(I),I[pi]=I[qr]=t,I[gi]=i,I[wl]=h||t&&t[wl],I[Mt]=p||t&&t[Mt],I[Hc]=y||t&&t[Hc]||null,I[Cl]=_||t&&t[Cl]||null,I[Yi]=o,I[sa]=function Rw(){return Ow++}(),I[ng]=T,I[Xi]=2==e.type?t[Xi]:I,I}function bo(t,e,i,n,s){let o=t.data[e];if(null===o)o=function ed(t,e,i,n,s){const o=mg(),h=Kc(),y=t.data[e]=function jS(t,e,i,n,s,o){return{type:i,index:n,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:s,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,h?o:o&&o.parent,i,e,n,s);return null===t.firstChild&&(t.firstChild=y),null!==o&&(h?null==o.child&&null!==y.parent&&(o.child=y):null===o.next&&(o.next=y,y.prev=o)),y}(t,e,i,n,s),function WC(){return ut.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=i,o.value=n,o.attrs=s;const h=function oa(){const t=ut.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();o.injectorIndex=null===h?-1:h.injectorIndex}return ps(o,!0),o}function wa(t,e,i,n){if(0===i)return-1;const s=e.length;for(let o=0;o<i;o++)e.push(n),t.blueprint.push(n),t.data.push(null);return s}function td(t,e,i){eu(e);try{const n=t.viewQuery;null!==n&&cd(1,n,i);const s=t.template;null!==s&&yy(t,e,s,1,i),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&my(t,e),t.staticViewQueries&&cd(2,t.viewQuery,i);const o=t.components;null!==o&&function VS(t,e){for(let i=0;i<e.length;i++)h1(t,e[i])}(e,o)}catch(n){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),n}finally{e[xt]&=-5,tu()}}function th(t,e,i,n){const s=e[xt];if(128!=(128&s)){eu(e);try{pg(e),function xg(t){return ut.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==i&&yy(t,e,i,2,n);const h=3==(3&s);if(h){const _=t.preOrderCheckHooks;null!==_&&Al(e,_,null)}else{const _=t.preOrderHooks;null!==_&&Il(e,_,0,null),iu(e,0)}if(function a1(t){for(let e=Cu(t);null!==e;e=wu(e)){if(!e[sg])continue;const i=e[eo];for(let n=0;n<i.length;n++){const s=i[n];512&s[xt]||Gc(s[pi],1),s[xt]|=512}}}(e),function o1(t){for(let e=Cu(t);null!==e;e=wu(e))for(let i=tn;i<e.length;i++){const n=e[i],s=n[Re];kl(n)&&th(s,n,s.template,n[gi])}}(e),null!==t.contentQueries&&my(t,e),h){const _=t.contentCheckHooks;null!==_&&Al(e,_)}else{const _=t.contentHooks;null!==_&&Il(e,_,1),iu(e,1)}!function NS(t,e){const i=t.hostBindingOpCodes;if(null!==i)try{for(let n=0;n<i.length;n++){const s=i[n];if(s<0)Cr(~s);else{const o=s,h=i[++n],p=i[++n];zC(h,o),p(2,e[o])}}}finally{Cr(-1)}}(t,e);const p=t.components;null!==p&&function BS(t,e){for(let i=0;i<e.length;i++)l1(t,e[i])}(e,p);const y=t.viewQuery;if(null!==y&&cd(2,y,n),h){const _=t.viewCheckHooks;null!==_&&Al(e,_)}else{const _=t.viewHooks;null!==_&&Il(e,_,2),iu(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[xt]&=-41,512&e[xt]&&(e[xt]&=-513,Gc(e[pi],-1))}finally{tu()}}}function yy(t,e,i,n,s){const o=sn(),h=2&n;try{Cr(-1),h&&e.length>si&&ny(t,e,si,!1),Ln(h?2:0,s),i(n,s)}finally{Cr(o),Ln(h?3:1,s)}}function id(t,e,i){if(Xc(e)){const s=e.directiveEnd;for(let o=e.directiveStart;o<s;o++){const h=t.data[o];h.contentQueries&&h.contentQueries(1,i[o],o)}}}function nd(t,e,i){gg()&&(function KS(t,e,i,n){const s=i.directiveStart,o=i.directiveEnd;ra(i)&&function n1(t,e,i){const n=vn(e,t),s=xy(i),o=t[wl],h=ih(t,eh(t,s,null,i.onPush?32:16,n,e,o,o.createRenderer(n,i),null,null,null));t[e.index]=h}(e,i,t.data[s+i.componentOffset]),t.firstCreatePass||Rl(i,e),$i(n,e);const h=i.initialInputs;for(let p=s;p<o;p++){const y=t.data[p],_=wr(e,t,p,i);$i(_,e),null!==h&&s1(0,p-s,_,y,0,h),Qn(y)&&(un(i.index,e)[gi]=wr(e,t,p,i))}}(t,e,i,vn(i,e)),64==(64&i.flags)&&Cy(t,e,i))}function sd(t,e,i=vn){const n=e.localNames;if(null!==n){let s=e.index+1;for(let o=0;o<n.length;o+=2){const h=n[o+1],p=-1===h?i(e,t):t[h];t[s++]=p}}}function xy(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=rd(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function rd(t,e,i,n,s,o,h,p,y,_){const T=si+n,I=T+s,R=function WS(t,e){const i=[];for(let n=0;n<e;n++)i.push(n<t?null:dt);return i}(T,I),U="function"==typeof _?_():_;return R[Re]={type:t,blueprint:R,template:i,queries:null,viewQuery:p,declTNode:e,data:R.slice().fill(null,T),bindingStartIndex:T,expandoStartIndex:I,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof h?h():h,firstChild:null,schemas:y,consts:U,incompleteFirstPass:!1}}function vy(t,e,i,n){const s=function Ty(t){return t[Zr]||(t[Zr]=[])}(e);null===i?s.push(n):(s.push(i),t.firstCreatePass&&function Sy(t){return t.cleanup||(t.cleanup=[])}(t).push(n,s.length-1))}function by(t,e,i,n){for(let s in t)if(t.hasOwnProperty(s)){i=null===i?{}:i;const o=t[s];null===n?_y(i,e,s,o):n.hasOwnProperty(s)&&_y(i,e,n[s],o)}return i}function _y(t,e,i,n){t.hasOwnProperty(i)?t[i].push(e,n):t[i]=[e,n]}function _n(t,e,i,n,s,o,h,p){const y=vn(e,i);let T,_=e.inputs;!p&&null!=_&&(T=_[n])?(ud(t,i,T,n,s),ra(e)&&function YS(t,e){const i=un(e,t);16&i[xt]||(i[xt]|=32)}(i,e.index)):3&e.type&&(n=function HS(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(n),s=null!=h?h(s,e.value||"",n):s,o.setProperty(y,n,s))}function od(t,e,i,n){if(gg()){const s=null===n?null:{"":-1},o=function ZS(t,e){const i=t.directiveRegistry;let n=null,s=null;if(i)for(let o=0;o<i.length;o++){const h=i[o];if(ty(e,h.selectors,!1))if(n||(n=[]),Qn(h))if(null!==h.findHostDirectiveDefs){const p=[];s=s||new Map,h.findHostDirectiveDefs(h,p,s),n.unshift(...p,h),ad(t,e,p.length)}else n.unshift(h),ad(t,e,0);else s=s||new Map,h.findHostDirectiveDefs?.(h,n,s),n.push(h)}return null===n?null:[n,s]}(t,i);let h,p;null===o?h=p=null:[h,p]=o,null!==h&&My(t,e,i,h,s,p),s&&function qS(t,e,i){if(e){const n=t.localNames=[];for(let s=0;s<e.length;s+=2){const o=i[e[s+1]];if(null==o)throw new he(-301,!1);n.push(e[s],o)}}}(i,n,s)}i.mergedAttrs=la(i.mergedAttrs,i.attrs)}function My(t,e,i,n,s,o){for(let _=0;_<n.length;_++)lu(Rl(i,e),t,n[_].type);!function e1(t,e,i){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+i,t.providerIndexes=e}(i,t.data.length,n.length);for(let _=0;_<n.length;_++){const T=n[_];T.providersResolver&&T.providersResolver(T)}let h=!1,p=!1,y=wa(t,e,n.length,null);for(let _=0;_<n.length;_++){const T=n[_];i.mergedAttrs=la(i.mergedAttrs,T.hostAttrs),t1(t,i,e,y,T),JS(y,T,s),null!==T.contentQueries&&(i.flags|=4),(null!==T.hostBindings||null!==T.hostAttrs||0!==T.hostVars)&&(i.flags|=64);const I=T.type.prototype;!h&&(I.ngOnChanges||I.ngOnInit||I.ngDoCheck)&&((t.preOrderHooks??(t.preOrderHooks=[])).push(i.index),h=!0),!p&&(I.ngOnChanges||I.ngDoCheck)&&((t.preOrderCheckHooks??(t.preOrderCheckHooks=[])).push(i.index),p=!0),y++}!function US(t,e,i){const s=e.directiveEnd,o=t.data,h=e.attrs,p=[];let y=null,_=null;for(let T=e.directiveStart;T<s;T++){const I=o[T],R=i?i.get(I):null,X=R?R.outputs:null;y=by(I.inputs,T,y,R?R.inputs:null),_=by(I.outputs,T,_,X);const J=null===y||null===h||ey(e)?null:r1(y,T,h);p.push(J)}null!==y&&(y.hasOwnProperty("class")&&(e.flags|=8),y.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=p,e.inputs=y,e.outputs=_}(t,i,o)}function Cy(t,e,i){const n=i.directiveStart,s=i.directiveEnd,o=i.index,h=function jC(){return ut.lFrame.currentDirectiveIndex}();try{Cr(o);for(let p=n;p<s;p++){const y=t.data[p],_=e[p];Zc(p),(null!==y.hostBindings||0!==y.hostVars||null!==y.hostAttrs)&&QS(y,_)}}finally{Cr(-1),Zc(h)}}function QS(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function ad(t,e,i){e.componentOffset=i,(t.components??(t.components=[])).push(e.index)}function JS(t,e,i){if(i){if(e.exportAs)for(let n=0;n<e.exportAs.length;n++)i[e.exportAs[n]]=t;Qn(e)&&(i[""]=t)}}function t1(t,e,i,n,s){t.data[n]=s;const o=s.factory||(s.factory=Mr(s.type)),h=new aa(o,Qn(s),nt);t.blueprint[n]=h,i[n]=h,function $S(t,e,i,n,s){const o=s.hostBindings;if(o){let h=t.hostBindingOpCodes;null===h&&(h=t.hostBindingOpCodes=[]);const p=~e.index;(function GS(t){let e=t.length;for(;e>0;){const i=t[--e];if("number"==typeof i&&i<0)return i}return 0})(h)!=p&&h.push(p),h.push(i,n,o)}}(t,e,n,wa(t,i,s.hostVars,dt),s)}function s1(t,e,i,n,s,o){const h=o[e];if(null!==h){const p=n.setInput;for(let y=0;y<h.length;){const _=h[y++],T=h[y++],I=h[y++];null!==p?n.setInput(i,I,_,T):i[T]=I}}}function r1(t,e,i){let n=null,s=0;for(;s<i.length;){const o=i[s];if(0!==o)if(5!==o){if("number"==typeof o)break;if(t.hasOwnProperty(o)){null===n&&(n=[]);const h=t[o];for(let p=0;p<h.length;p+=2)if(h[p]===e){n.push(o,h[p+1],i[s+1]);break}}s+=2}else s+=2;else s+=4}return n}function wy(t,e,i,n){return[t,!0,!1,e,null,0,n,i,null,null]}function l1(t,e){const i=un(e,t);if(kl(i)){const n=i[Re];48&i[xt]?th(n,i,n.template,i[gi]):i[_r]>0&&hd(i)}}function hd(t){for(let n=Cu(t);null!==n;n=wu(n))for(let s=tn;s<n.length;s++){const o=n[s];if(kl(o))if(512&o[xt]){const h=o[Re];th(h,o,h.template,o[gi])}else o[_r]>0&&hd(o)}const i=t[Re].components;if(null!==i)for(let n=0;n<i.length;n++){const s=un(i[n],t);kl(s)&&s[_r]>0&&hd(s)}}function h1(t,e){const i=un(e,t),n=i[Re];(function c1(t,e){for(let i=e.length;i<t.blueprint.length;i++)e.push(t.blueprint[i])})(n,i),td(n,i,i[gi])}function ih(t,e){return t[ia]?t[ig][Gn]=e:t[ia]=e,t[ig]=e,e}function nh(t){for(;t;){t[xt]|=32;const e=ya(t);if(bC(t)&&!e)return t;t=e}return null}function sh(t,e,i,n=!0){const s=e[wl];s.begin&&s.begin();try{th(t,e,t.template,i)}catch(h){throw n&&function Py(t,e){const i=t[Cl],n=i?i.get(yo,null):null;n&&n.handleError(e)}(e,h),h}finally{s.end&&s.end()}}function cd(t,e,i){Jc(0),e(t,i)}function ud(t,e,i,n,s){for(let o=0;o<i.length;){const h=i[o++],p=i[o++],y=e[h],_=t.data[h];null!==_.setInput?_.setInput(y,s,n,p):y[p]=s}}function rh(t,e,i){let n=i?t.styles:null,s=i?t.classes:null,o=0;if(null!==e)for(let h=0;h<e.length;h++){const p=e[h];"number"==typeof p?o=p:1==o?s=tt(s,p):2==o&&(n=tt(n,p+": "+e[++h]+";"))}i?t.styles=n:t.stylesWithoutHost=n,i?t.classes=s:t.classesWithoutHost=s}function oh(t,e,i,n,s=!1){for(;null!==i;){const o=e[i.index];if(null!==o&&n.push(Wi(o)),Kn(o))for(let p=tn;p<o.length;p++){const y=o[p],_=y[Re].firstChild;null!==_&&oh(y[Re],y,_,n)}const h=i.type;if(8&h)oh(t,e,i.child,n);else if(32&h){const p=Mu(i,e);let y;for(;y=p();)n.push(y)}else if(16&h){const p=Mm(e,i);if(Array.isArray(p))n.push(...p);else{const y=ya(e[Xi]);oh(y[Re],y,p,n,!0)}}i=s?i.projectionNext:i.next}return n}class Ta{get rootNodes(){const e=this._lView,i=e[Re];return oh(i,e,i.firstChild,[])}constructor(e,i){this._lView=e,this._cdRefInjectingView=i,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[gi]}set context(e){this._lView[gi]=e}get destroyed(){return 128==(128&this._lView[xt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[pi];if(Kn(e)){const i=e[Sl],n=i?i.indexOf(this):-1;n>-1&&(Du(e,n),Vl(i,n))}this._attachedToViewContainer=!1}pm(this._lView[Re],this._lView)}onDestroy(e){vy(this._lView[Re],this._lView,null,e)}markForCheck(){nh(this._cdRefInjectingView||this._lView)}detach(){this._lView[xt]&=-65}reattach(){this._lView[xt]|=64}detectChanges(){sh(this._lView[Re],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new he(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Zw(t,e){xa(t,e,e[Mt],2,null,null)}(this._lView[Re],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new he(902,!1);this._appRef=e}}class u1 extends Ta{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;sh(e[Re],e,e[gi],!1)}checkNoChanges(){}get context(){return null}}class ky extends Ma{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const i=Ht(e);return new Sa(i,this.ngModule)}}function Ey(t){const e=[];for(let i in t)t.hasOwnProperty(i)&&e.push({propName:t[i],templateName:i});return e}class p1{constructor(e,i){this.injector=e,this.parentInjector=i}get(e,i,n){n=bl(n);const s=this.injector.get(e,$u,n);return s!==$u||i===$u?s:this.parentInjector.get(e,i,n)}}class Sa extends Km{get inputs(){return Ey(this.componentDef.inputs)}get outputs(){return Ey(this.componentDef.outputs)}constructor(e,i){super(),this.componentDef=e,this.ngModule=i,this.componentType=e.type,this.selector=function yS(t){return t.map(mS).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!i}create(e,i,n,s){let o=(s=s||this.ngModule)instanceof Rs?s:s?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const h=o?new p1(e,o):e,p=h.get(Ca,null);if(null===p)throw new he(407,!1);const y=h.get(QT,null),_=p.createRenderer(null,this.componentDef),T=this.componentDef.selectors[0][0]||"div",I=n?function zS(t,e,i){return t.selectRootElement(e,i===$n.ShadowDom)}(_,n,this.componentDef.encapsulation):Su(_,T,function d1(t){const e=t.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(T)),R=this.componentDef.onPush?288:272,U=rd(0,null,null,1,0,null,null,null,null,null),X=eh(null,U,null,R,null,null,p,_,y,h,null);let J,re;eu(X);try{const pe=this.componentDef;let be,ue=null;pe.findHostDirectiveDefs?(be=[],ue=new Map,pe.findHostDirectiveDefs(pe,be,ue),be.push(pe)):be=[pe];const Le=function g1(t,e){const i=t[Re],n=si;return t[n]=e,bo(i,n,2,"#host",null)}(X,I),Pt=function m1(t,e,i,n,s,o,h,p){const y=s[Re];!function y1(t,e,i,n){for(const s of t)e.mergedAttrs=la(e.mergedAttrs,s.hostAttrs);null!==e.mergedAttrs&&(rh(e,e.mergedAttrs,!0),null!==i&&Tm(n,i,e))}(n,t,e,h);const _=o.createRenderer(e,i),T=eh(s,xy(i),null,i.onPush?32:16,s[t.index],t,o,_,p||null,null,null);return y.firstCreatePass&&ad(y,t,n.length-1),ih(s,T),s[t.index]=T}(Le,I,pe,be,X,p,_);re=dg(U,si),I&&function v1(t,e,i,n){if(n)su(t,i,["ng-version",ZT.full]);else{const{attrs:s,classes:o}=function xS(t){const e=[],i=[];let n=1,s=2;for(;n<t.length;){let o=t[n];if("string"==typeof o)2===s?""!==o&&e.push(o,t[++n]):8===s&&i.push(o);else{if(!Zn(s))break;s=o}n++}return{attrs:e,classes:i}}(e.selectors[0]);s&&su(t,i,s),o&&o.length>0&&wm(t,i,o.join(" "))}}(_,pe,I,n),void 0!==i&&function b1(t,e,i){const n=t.projection=[];for(let s=0;s<e.length;s++){const o=i[s];n.push(null!=o?Array.from(o):null)}}(re,this.ngContentSelectors,i),J=function x1(t,e,i,n,s,o){const h=zi(),p=s[Re],y=vn(h,s);My(p,s,h,i,null,n);for(let T=0;T<i.length;T++)$i(wr(s,p,h.directiveStart+T,h),s);Cy(p,s,h),y&&$i(y,s);const _=wr(s,p,h.directiveStart+h.componentOffset,h);if(t[gi]=s[gi]=_,null!==o)for(const T of o)T(_,e);return id(p,h,t),_}(Pt,pe,be,ue,X,[_1]),td(U,X,null)}finally{tu()}return new f1(this.componentType,J,go(re,X),X,re)}}class f1 extends HT{constructor(e,i,n,s,o){super(),this.location=n,this._rootLView=s,this._tNode=o,this.instance=i,this.hostView=this.changeDetectorRef=new u1(s),this.componentType=e}setInput(e,i){const n=this._tNode.inputs;let s;if(null!==n&&(s=n[e])){const o=this._rootLView;ud(o[Re],o,s,e,i),nh(un(this._tNode.index,o))}}get injector(){return new so(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function _1(){const t=zi();El(xe()[Re],t)}function ah(t){return!!pd(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function pd(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Gi(t,e,i){return!Object.is(t[e],i)&&(t[e]=i,!0)}function Mo(t,e,i,n){return Gi(t,io(),i)?e+Ne(i)+n:dt}function hh(t,e,i,n,s,o,h,p){const y=xe(),_=Ot(),T=t+si,I=_.firstCreatePass?function O1(t,e,i,n,s,o,h,p,y){const _=e.consts,T=bo(e,t,4,h||null,tr(_,p));od(e,i,T,tr(_,y)),El(e,T);const I=T.tView=rd(2,T,n,s,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,_);return null!==e.queries&&(e.queries.template(e,T),I.queries=e.queries.embeddedTView(T)),T}(T,_,y,e,i,n,s,o,h):_.data[T];ps(I,!1);const R=y[Mt].createComment("");Hl(_,y,R,I),$i(R,y),ih(y,y[T]=wy(R,y,R,I)),Dl(I)&&nd(_,y,I),null!=h&&sd(y,I,p)}function ys(t,e,i){const n=xe();return Gi(n,io(),e)&&_n(Ot(),hi(),n,t,e,n[Mt],i,!1),ys}function gd(t,e,i,n,s){const h=s?"class":"style";ud(t,i,e.inputs[h],h,n)}function He(t,e,i,n){const s=xe(),o=Ot(),h=si+t,p=s[Mt],y=o.firstCreatePass?function B1(t,e,i,n,s,o){const h=e.consts,y=bo(e,t,2,n,tr(h,s));return od(e,i,y,tr(h,o)),null!==y.attrs&&rh(y,y.attrs,!1),null!==y.mergedAttrs&&rh(y,y.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,y),y}(h,o,s,e,i,n):o.data[h],_=s[h]=Su(p,e,function QC(){return ut.lFrame.currentNamespace}()),T=Dl(y);return ps(y,!0),Tm(p,_,y),32!=(32&y.flags)&&Hl(o,s,_,y),0===function IC(){return ut.lFrame.elementDepthCount}()&&$i(_,s),function FC(){ut.lFrame.elementDepthCount++}(),T&&(nd(o,s,y),id(o,y,s)),null!==n&&sd(s,y),He}function Ve(){let t=zi();Kc()?Qc():(t=t.parent,ps(t,!1));const e=t;!function LC(){ut.lFrame.elementDepthCount--}();const i=Ot();return i.firstCreatePass&&(El(i,t),Xc(t)&&i.queries.elementEnd(t)),null!=e.classesWithoutHost&&function ew(t){return 0!=(8&t.flags)}(e)&&gd(i,e,xe(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function tw(t){return 0!=(16&t.flags)}(e)&&gd(i,e,xe(),e.stylesWithoutHost,!1),Ve}function ei(t,e,i,n){return He(t,e,i,n),Ve(),ei}function ch(t){return!!t&&"function"==typeof t.then}const $y=function Xy(t){return!!t&&"function"==typeof t.subscribe};function qy(t=1){return function HC(t){return(ut.lFrame.contextLView=function YC(t,e){for(;t>0;)e=e[qr],t--;return e}(t,ut.lFrame.contextLView))[gi]}(t)}function j1(t,e){let i=null;const n=function dS(t){const e=t.attrs;if(null!=e){const i=e.indexOf(5);if(!(1&i))return e[i+1]}return null}(t);for(let s=0;s<e.length;s++){const o=e[s];if("*"!==o){if(null===n?ty(t,o,!0):gS(n,o))return s}else i=s}return i}function vd(t,e,i){return bd(t,"",e,"",i),vd}function bd(t,e,i,n,s){const o=xe(),h=Mo(o,e,i,n);return h!==dt&&_n(Ot(),hi(),o,t,h,o[Mt],s,!1),bd}function dh(t,e){return t<<17|e<<2}function sr(t){return t>>17&32767}function _d(t){return 2|t}function kr(t){return(131068&t)>>2}function Md(t,e){return-131069&t|e<<2}function Cd(t){return 1|t}function ax(t,e,i,n,s){const o=t[i+1],h=null===e;let p=n?sr(o):kr(o),y=!1;for(;0!==p&&(!1===y||h);){const T=t[p+1];G1(t[p],e)&&(y=!0,t[p+1]=n?Cd(T):_d(T)),p=n?sr(T):kr(T)}y&&(t[i+1]=n?_d(o):Cd(o))}function G1(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&ho(t,e)>=0}function ph(t,e){return function qn(t,e,i,n){const s=xe(),o=Ot(),h=function Ls(t){const e=ut.lFrame,i=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,i}(2);o.firstUpdatePass&&function mx(t,e,i,n){const s=t.data;if(null===s[i+1]){const o=s[sn()],h=function gx(t,e){return e>=t.expandoStartIndex}(t,i);(function bx(t,e){return 0!=(t.flags&(e?8:16))})(o,n)&&null===e&&!h&&(e=!1),e=function nD(t,e,i,n){const s=function qc(t){const e=ut.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let o=n?e.residualClasses:e.residualStyles;if(null===s)0===(n?e.classBindings:e.styleBindings)&&(i=Pa(i=wd(null,t,e,i,n),e.attrs,n),o=null);else{const h=e.directiveStylingLast;if(-1===h||t[h]!==s)if(i=wd(s,t,e,i,n),null===o){let y=function sD(t,e,i){const n=i?e.classBindings:e.styleBindings;if(0!==kr(n))return t[sr(n)]}(t,e,n);void 0!==y&&Array.isArray(y)&&(y=wd(null,t,e,y[1],n),y=Pa(y,e.attrs,n),function rD(t,e,i,n){t[sr(i?e.classBindings:e.styleBindings)]=n}(t,e,n,y))}else o=function oD(t,e,i){let n;const s=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<s;o++)n=Pa(n,t[o].hostAttrs,i);return Pa(n,e.attrs,i)}(t,e,n)}return void 0!==o&&(n?e.residualClasses=o:e.residualStyles=o),i}(s,o,e,n),function X1(t,e,i,n,s,o){let h=o?e.classBindings:e.styleBindings,p=sr(h),y=kr(h);t[n]=i;let T,_=!1;if(Array.isArray(i)?(T=i[1],(null===T||ho(i,T)>0)&&(_=!0)):T=i,s)if(0!==y){const R=sr(t[p+1]);t[n+1]=dh(R,p),0!==R&&(t[R+1]=Md(t[R+1],n)),t[p+1]=function H1(t,e){return 131071&t|e<<17}(t[p+1],n)}else t[n+1]=dh(p,0),0!==p&&(t[p+1]=Md(t[p+1],n)),p=n;else t[n+1]=dh(y,0),0===p?p=n:t[y+1]=Md(t[y+1],n),y=n;_&&(t[n+1]=_d(t[n+1])),ax(t,T,n,!0),ax(t,T,n,!1),function $1(t,e,i,n,s){const o=s?t.residualClasses:t.residualStyles;null!=o&&"string"==typeof e&&ho(o,e)>=0&&(i[n+1]=Cd(i[n+1]))}(e,T,t,n,o),h=dh(p,y),o?e.classBindings=h:e.styleBindings=h}(s,o,e,i,h,n)}}(o,t,h,n),e!==dt&&Gi(s,h,e)&&function xx(t,e,i,n,s,o,h,p){if(!(3&e.type))return;const y=t.data,_=y[p+1],T=function Y1(t){return 1==(1&t)}(_)?vx(y,e,i,s,kr(_),h):void 0;fh(T)||(fh(o)||function U1(t){return 2==(2&t)}(_)&&(o=vx(y,null,i,s,p,h)),function aT(t,e,i,n,s){if(e)s?t.addClass(i,n):t.removeClass(i,n);else{let o=-1===n.indexOf("-")?void 0:dn.DashCase;null==s?t.removeStyle(i,n,o):("string"==typeof s&&s.endsWith("!important")&&(s=s.slice(0,-10),o|=dn.Important),t.setStyle(i,n,s,o))}}(n,h,Pl(sn(),i),s,o))}(o,o.data[sn()],s,s[Mt],t,s[h+1]=function cD(t,e){return null==t||""===t||("string"==typeof e?t+=e:"object"==typeof t&&(t=Ee(function ir(t){return t instanceof Em?t.changingThisBreaksApplicationSecurity:t}(t)))),t}(e,i),n,h)}(t,e,null,!0),ph}function wd(t,e,i,n,s){let o=null;const h=i.directiveEnd;let p=i.directiveStylingLast;for(-1===p?p=i.directiveStart:p++;p<h&&(o=e[p],n=Pa(n,o.hostAttrs,s),o!==t);)p++;return null!==t&&(i.directiveStylingLast=p),n}function Pa(t,e,i){const n=i?1:2;let s=-1;if(null!==e)for(let o=0;o<e.length;o++){const h=e[o];"number"==typeof h?s=h:s===n&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),bn(t,h,!!i||e[++o]))}return void 0===t?null:t}function vx(t,e,i,n,s,o){const h=null===e;let p;for(;s>0;){const y=t[s],_=Array.isArray(y),T=_?y[1]:y,I=null===T;let R=i[s+1];R===dt&&(R=I?jt:void 0);let U=I?du(R,n):T===n?R:void 0;if(_&&!fh(U)&&(U=du(y,n)),fh(U)&&(p=U,h))return p;const X=t[s+1];s=h?sr(X):kr(X)}if(null!==e){let y=o?e.residualClasses:e.residualStyles;null!=y&&(p=du(y,n))}return p}function fh(t){return void 0!==t}function Et(t,e=""){const i=xe(),n=Ot(),s=t+si,o=n.firstCreatePass?bo(n,s,1,e,null):n.data[s],h=i[s]=function Tu(t,e){return t.createText(e)}(i[Mt],e);Hl(n,i,h,o),ps(o,!1)}function ka(t,e,i){const n=xe(),s=Mo(n,t,e,i);return s!==dt&&function zs(t,e,i){const n=Pl(e,t);!function um(t,e,i){t.setValue(e,i)}(t[Mt],n,i)}(n,sn(),s),ka}const Io="en-US";let Ux=Io;class Fo{}class gv{}class mv extends Fo{constructor(e,i){super(),this._parent=i,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new ky(this);const n=yn(e);this._bootstrapComponents=Bs(n.bootstrap),this._r3Injector=ly(e,i,[{provide:Fo,useValue:this},{provide:Ma,useValue:this.componentFactoryResolver}],Ee(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(i=>i()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class Ad extends gv{constructor(e){super(),this.moduleType=e}create(e){return new mv(this.moduleType,e)}}class AP extends Fo{constructor(e,i,n){super(),this.componentFactoryResolver=new ky(this),this.instance=null;const s=new $m([...e,{provide:Fo,useValue:this},{provide:Ma,useValue:this.componentFactoryResolver}],i||Zl(),n,new Set(["environment"]));this.injector=s,s.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function vh(t,e,i=null){return new AP(t,e,i).injector}let IP=(()=>{class t{constructor(i){this._injector=i,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(i){if(!i.standalone)return null;if(!this.cachedInjectors.has(i.id)){const n=Um(0,i.type),s=n.length>0?vh([n],this._injector,`Standalone[${i.type.name}]`):null;this.cachedInjectors.set(i.id,s)}return this.cachedInjectors.get(i.id)}ngOnDestroy(){try{for(const i of this.cachedInjectors.values())null!==i&&i.destroy()}finally{this.cachedInjectors.clear()}}}return t.\u0275prov=Ie({token:t,providedIn:"environment",factory:()=>new t(Oe(Rs))}),t})();function yv(t){t.getStandaloneInjector=e=>e.get(IP).getOrCreateStandaloneInjector(t)}function Fd(t){return e=>{setTimeout(t,void 0,e)}}const Ki=class sk extends Y{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,i,n){let s=e,o=i||(()=>null),h=n;if(e&&"object"==typeof e){const y=e;s=y.next?.bind(y),o=y.error?.bind(y),h=y.complete?.bind(y)}this.__isAsync&&(o=Fd(o),s&&(s=Fd(s)),h&&(h=Fd(h)));const p=super.subscribe({next:s,error:o,complete:h});return e instanceof Lt&&e.add(p),p}};let js=(()=>{class t{}return t.__NG_ELEMENT_ID__=lk,t})();const ok=js,ak=class extends ok{constructor(e,i,n){super(),this._declarationLView=e,this._declarationTContainer=i,this.elementRef=n}createEmbeddedView(e,i){const n=this._declarationTContainer.tView,s=eh(this._declarationLView,n,e,16,null,n.declTNode,null,null,null,null,i||null);s[na]=this._declarationLView[this._declarationTContainer.index];const h=this._declarationLView[ds];return null!==h&&(s[ds]=h.createEmbeddedView(n)),td(n,s,e),new Ta(s)}};function lk(){return function bh(t,e){return 4&t.type?new ak(e,t,go(t,e)):null}(zi(),xe())}let es=(()=>{class t{}return t.__NG_ELEMENT_ID__=hk,t})();function hk(){return function Av(t,e){let i;const n=e[t.index];if(Kn(n))i=n;else{let s;if(8&t.type)s=Wi(n);else{const o=e[Mt];s=o.createComment("");const h=vn(t,e);Sr(o,Ul(o,h),s,function sT(t,e){return t.nextSibling(e)}(o,h),!1)}e[t.index]=i=wy(n,e,s,t),ih(e,i)}return new kv(i,t,e)}(zi(),xe())}const ck=es,kv=class extends ck{constructor(e,i,n){super(),this._lContainer=e,this._hostTNode=i,this._hostLView=n}get element(){return go(this._hostTNode,this._hostLView)}get injector(){return new so(this._hostTNode,this._hostLView)}get parentInjector(){const e=au(this._hostTNode,this._hostLView);if(Eg(e)){const i=Ll(e,this._hostLView),n=Fl(e);return new so(i[Re].data[n+8],i)}return new so(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const i=Ev(this._lContainer);return null!==i&&i[e]||null}get length(){return this._lContainer.length-tn}createEmbeddedView(e,i,n){let s,o;"number"==typeof n?s=n:null!=n&&(s=n.index,o=n.injector);const h=e.createEmbeddedView(i||{},o);return this.insert(h,s),h}createComponent(e,i,n,s,o){const h=e&&!function ca(t){return"function"==typeof t}(e);let p;if(h)p=i;else{const I=i||{};p=I.index,n=I.injector,s=I.projectableNodes,o=I.environmentInjector||I.ngModuleRef}const y=h?e:new Sa(Ht(e)),_=n||this.parentInjector;if(!o&&null==y.ngModule){const R=(h?_:this.parentInjector).get(Rs,null);R&&(o=R)}const T=y.create(_,s,void 0,o);return this.insert(T.hostView,p),T}insert(e,i){const n=e._lView,s=n[Re];if(function AC(t){return Kn(t[pi])}(n)){const T=this.indexOf(e);if(-1!==T)this.detach(T);else{const I=n[pi],R=new kv(I,I[Yi],I[pi]);R.detach(R.indexOf(e))}}const o=this._adjustIndex(i),h=this._lContainer;!function Jw(t,e,i,n){const s=tn+n,o=i.length;n>0&&(i[s-1][Gn]=e),n<o-tn?(e[Gn]=i[s],Ug(i,tn+n,e)):(i.push(e),e[Gn]=null),e[pi]=i;const h=e[na];null!==h&&i!==h&&function eT(t,e){const i=t[eo];e[Xi]!==e[pi][pi][Xi]&&(t[sg]=!0),null===i?t[eo]=[e]:i.push(e)}(h,e);const p=e[ds];null!==p&&p.insertView(t),e[xt]|=64}(s,n,h,o);const p=Eu(o,h),y=n[Mt],_=Ul(y,h[Tl]);return null!==_&&function Qw(t,e,i,n,s,o){n[Is]=s,n[Yi]=e,xa(t,n,i,1,s,o)}(s,h[Yi],y,n,_,p),e.attachToViewContainerRef(),Ug(Od(h),o,e),e}move(e,i){return this.insert(e,i)}indexOf(e){const i=Ev(this._lContainer);return null!==i?i.indexOf(e):-1}remove(e){const i=this._adjustIndex(e,-1),n=Du(this._lContainer,i);n&&(Vl(Od(this._lContainer),i),pm(n[Re],n))}detach(e){const i=this._adjustIndex(e,-1),n=Du(this._lContainer,i);return n&&null!=Vl(Od(this._lContainer),i)?new Ta(n):null}_adjustIndex(e,i=0){return e??this.length+i}};function Ev(t){return t[Sl]}function Od(t){return t[Sl]||(t[Sl]=[])}function Mh(...t){}const Ch=new We("Application Initializer");let wh=(()=>{class t{constructor(i){this.appInits=i,this.resolve=Mh,this.reject=Mh,this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,s)=>{this.resolve=n,this.reject=s})}runInitializers(){if(this.initialized)return;const i=[],n=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let s=0;s<this.appInits.length;s++){const o=this.appInits[s]();if(ch(o))i.push(o);else if($y(o)){const h=new Promise((p,y)=>{o.subscribe({complete:p,error:y})});i.push(h)}}Promise.all(i).then(()=>{n()}).catch(s=>{this.reject(s)}),0===i.length&&n(),this.initialized=!0}}return t.\u0275fac=function(i){return new(i||t)(Oe(Ch,8))},t.\u0275prov=Ie({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Ba=new We("AppId",{providedIn:"root",factory:function s0(){return`${Xd()}${Xd()}${Xd()}`}});function Xd(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const r0=new We("Platform Initializer"),$d=new We("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),o0=new We("AnimationModuleType");let Bk=(()=>{class t{log(i){console.log(i)}warn(i){console.warn(i)}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=Ie({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();const bs=new We("LocaleId",{providedIn:"root",factory:()=>Dt(bs,it.Optional|it.SkipSelf)||function Vk(){return typeof $localize<"u"&&$localize.locale||Io}()});class zk{constructor(e,i){this.ngModuleFactory=e,this.componentFactories=i}}let a0=(()=>{class t{compileModuleSync(i){return new Ad(i)}compileModuleAsync(i){return Promise.resolve(this.compileModuleSync(i))}compileModuleAndAllComponentsSync(i){const n=this.compileModuleSync(i),o=Bs(yn(i).declarations).reduce((h,p)=>{const y=Ht(p);return y&&h.push(new Sa(y)),h},[]);return new zk(n,o)}compileModuleAndAllComponentsAsync(i){return Promise.resolve(this.compileModuleAndAllComponentsSync(i))}clearCache(){}clearCacheFor(i){}getModuleId(i){}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=Ie({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Hk=(()=>Promise.resolve(0))();function Gd(t){typeof Zone>"u"?Hk.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class ai{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ki(!1),this.onMicrotaskEmpty=new Ki(!1),this.onStable=new Ki(!1),this.onError=new Ki(!1),typeof Zone>"u")throw new he(908,!1);Zone.assertZonePatched();const s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!n&&i,s.shouldCoalesceRunChangeDetection=n,s.lastRequestAnimationFrameId=-1,s.nativeRequestAnimationFrame=function Yk(){let t=ni.requestAnimationFrame,e=ni.cancelAnimationFrame;if(typeof Zone<"u"&&t&&e){const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i);const n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function Gk(t){const e=()=>{!function $k(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(ni,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Qd(t),t.isCheckStableRunning=!0,Kd(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Qd(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(i,n,s,o,h,p)=>{try{return c0(t),i.invokeTask(s,o,h,p)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||t.shouldCoalesceRunChangeDetection)&&e(),u0(t)}},onInvoke:(i,n,s,o,h,p,y)=>{try{return c0(t),i.invoke(s,o,h,p,y)}finally{t.shouldCoalesceRunChangeDetection&&e(),u0(t)}},onHasTask:(i,n,s,o)=>{i.hasTask(s,o),n===s&&("microTask"==o.change?(t._hasPendingMicrotasks=o.microTask,Qd(t),Kd(t)):"macroTask"==o.change&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(i,n,s,o)=>(i.handleError(s,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}(s)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ai.isInAngularZone())throw new he(909,!1)}static assertNotInAngularZone(){if(ai.isInAngularZone())throw new he(909,!1)}run(e,i,n){return this._inner.run(e,i,n)}runTask(e,i,n,s){const o=this._inner,h=o.scheduleEventTask("NgZoneEvent: "+s,e,Xk,Mh,Mh);try{return o.runTask(h,i,n)}finally{o.cancelTask(h)}}runGuarded(e,i,n){return this._inner.runGuarded(e,i,n)}runOutsideAngular(e){return this._outer.run(e)}}const Xk={};function Kd(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Qd(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function c0(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function u0(t){t._nesting--,Kd(t)}class Kk{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ki,this.onMicrotaskEmpty=new Ki,this.onStable=new Ki,this.onError=new Ki}run(e,i,n){return e.apply(i,n)}runGuarded(e,i,n){return e.apply(i,n)}runOutsideAngular(e){return e()}runTask(e,i,n,s){return e.apply(i,n)}}const d0=new We(""),Th=new We("");let Jd,Zd=(()=>{class t{constructor(i,n,s){this._ngZone=i,this.registry=n,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Jd||(function Qk(t){Jd=t}(s),s.addToWindow(n)),this._watchAngularEvents(),i.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ai.assertNotInAngularZone(),Gd(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Gd(()=>{for(;0!==this._callbacks.length;){let i=this._callbacks.pop();clearTimeout(i.timeoutId),i.doneCb(this._didWork)}this._didWork=!1});else{let i=this.getPendingTasks();this._callbacks=this._callbacks.filter(n=>!n.updateCb||!n.updateCb(i)||(clearTimeout(n.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(i=>({source:i.source,creationLocation:i.creationLocation,data:i.data})):[]}addCallback(i,n,s){let o=-1;n&&n>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(h=>h.timeoutId!==o),i(this._didWork,this.getPendingTasks())},n)),this._callbacks.push({doneCb:i,timeoutId:o,updateCb:s})}whenStable(i,n,s){if(s&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(i,n,s),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(i){this.registry.registerApplication(i,this)}unregisterApplication(i){this.registry.unregisterApplication(i)}findProviders(i,n,s){return[]}}return t.\u0275fac=function(i){return new(i||t)(Oe(ai),Oe(qd),Oe(Th))},t.\u0275prov=Ie({token:t,factory:t.\u0275fac}),t})(),qd=(()=>{class t{constructor(){this._applications=new Map}registerApplication(i,n){this._applications.set(i,n)}unregisterApplication(i){this._applications.delete(i)}unregisterAllApplications(){this._applications.clear()}getTestability(i){return this._applications.get(i)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(i,n=!0){return Jd?.findTestabilityInTree(this,i,n)??null}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=Ie({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();const Us=!1;let rr=null;const p0=new We("AllowMultipleToken"),ep=new We("PlatformDestroyListeners"),f0=new We("appBootstrapListener");class g0{constructor(e,i){this.name=e,this.token=i}}function y0(t,e,i=[]){const n=`Platform: ${e}`,s=new We(n);return(o=[])=>{let h=tp();if(!h||h.injector.get(p0,!1)){const p=[...i,...o,{provide:s,useValue:!0}];t?t(p):function Jk(t){if(rr&&!rr.get(p0,!1))throw new he(400,!1);rr=t;const e=t.get(v0);(function m0(t){const e=t.get(r0,null);e&&e.forEach(i=>i())})(t)}(function x0(t=[],e){return Ws.create({name:e,providers:[{provide:Uu,useValue:"platform"},{provide:ep,useValue:new Set([()=>rr=null])},...t]})}(p,n))}return function tE(t){const e=tp();if(!e)throw new he(401,!1);return e}()}}function tp(){return rr?.get(v0)??null}let v0=(()=>{class t{constructor(i){this._injector=i,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(i,n){const s=function _0(t,e){let i;return i="noop"===t?new Kk:("zone.js"===t?void 0:t)||new ai(e),i}(n?.ngZone,function b0(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!t||!t.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!t||!t.ngZoneRunCoalescing)||!1}}(n)),o=[{provide:ai,useValue:s}];return s.run(()=>{const h=Ws.create({providers:o,parent:this.injector,name:i.moduleType.name}),p=i.create(h),y=p.injector.get(yo,null);if(!y)throw new he(402,!1);return s.runOutsideAngular(()=>{const _=s.onError.subscribe({next:T=>{y.handleError(T)}});p.onDestroy(()=>{Sh(this._modules,p),_.unsubscribe()})}),function M0(t,e,i){try{const n=i();return ch(n)?n.catch(s=>{throw e.runOutsideAngular(()=>t.handleError(s)),s}):n}catch(n){throw e.runOutsideAngular(()=>t.handleError(n)),n}}(y,s,()=>{const _=p.injector.get(wh);return _.runInitializers(),_.donePromise.then(()=>(function Hx(t){Ae(t,"Expected localeId to be defined"),"string"==typeof t&&(Ux=t.toLowerCase().replace(/_/g,"-"))}(p.injector.get(bs,Io)||Io),this._moduleDoBootstrap(p),p))})})}bootstrapModule(i,n=[]){const s=C0({},n);return function Zk(t,e,i){const n=new Ad(i);return Promise.resolve(n)}(0,0,i).then(o=>this.bootstrapModuleFactory(o,s))}_moduleDoBootstrap(i){const n=i.injector.get(Va);if(i._bootstrapComponents.length>0)i._bootstrapComponents.forEach(s=>n.bootstrap(s));else{if(!i.instance.ngDoBootstrap)throw new he(-403,!1);i.instance.ngDoBootstrap(n)}this._modules.push(i)}onDestroy(i){this._destroyListeners.push(i)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new he(404,!1);this._modules.slice().forEach(n=>n.destroy()),this._destroyListeners.forEach(n=>n());const i=this._injector.get(ep,null);i&&(i.forEach(n=>n()),i.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(i){return new(i||t)(Oe(Ws))},t.\u0275prov=Ie({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();function C0(t,e){return Array.isArray(e)?e.reduce(C0,t):{...t,...e}}let Va=(()=>{class t{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(i,n,s){this._zone=i,this._injector=n,this._exceptionHandler=s,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const o=new Xt(p=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{p.next(this._stable),p.complete()})}),h=new Xt(p=>{let y;this._zone.runOutsideAngular(()=>{y=this._zone.onStable.subscribe(()=>{ai.assertNotInAngularZone(),Gd(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,p.next(!0))})})});const _=this._zone.onUnstable.subscribe(()=>{ai.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{p.next(!1)}))});return()=>{y.unsubscribe(),_.unsubscribe()}});this.isStable=function $(...t){const e=k(t),i=function D(t,e){return"number"==typeof w(t)?t.pop():e}(t,1/0),n=t;return n.length?1===n.length?we(n[0]):x(i)(K(n,e)):g}(o,h.pipe(function z(t={}){const{connector:e=(()=>new Y),resetOnError:i=!0,resetOnComplete:n=!0,resetOnRefCountZero:s=!0}=t;return o=>{let h,p,y,_=0,T=!1,I=!1;const R=()=>{p?.unsubscribe(),p=void 0},U=()=>{R(),h=y=void 0,T=I=!1},X=()=>{const J=h;U(),J?.unsubscribe()};return O((J,re)=>{_++,!I&&!T&&R();const pe=y=y??e();re.add(()=>{_--,0===_&&!I&&!T&&(p=ne(X,s))}),pe.subscribe(re),!h&&_>0&&(h=new Kt({next:be=>pe.next(be),error:be=>{I=!0,R(),p=ne(U,i,be),pe.error(be)},complete:()=>{T=!0,R(),p=ne(U,n),pe.complete()}}),we(J).subscribe(h))})(o)}}()))}bootstrap(i,n){const s=i instanceof Km;if(!this._injector.get(wh).done){!s&&function Qr(t){const e=Ht(t)||Hi(t)||cn(t);return null!==e&&e.standalone}(i);throw new he(405,Us)}let h;h=s?i:this._injector.get(Ma).resolveComponentFactory(i),this.componentTypes.push(h.componentType);const p=function qk(t){return t.isBoundToModule}(h)?void 0:this._injector.get(Fo),_=h.create(Ws.NULL,[],n||h.selector,p),T=_.location.nativeElement,I=_.injector.get(d0,null);return I?.registerApplication(T),_.onDestroy(()=>{this.detachView(_.hostView),Sh(this.components,_),I?.unregisterApplication(T)}),this._loadComponent(_),_}tick(){if(this._runningTick)throw new he(101,!1);try{this._runningTick=!0;for(let i of this._views)i.detectChanges()}catch(i){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(i))}finally{this._runningTick=!1}}attachView(i){const n=i;this._views.push(n),n.attachToAppRef(this)}detachView(i){const n=i;Sh(this._views,n),n.detachFromAppRef()}_loadComponent(i){this.attachView(i.hostView),this.tick(),this.components.push(i);const n=this._injector.get(f0,[]);n.push(...this._bootstrapListeners),n.forEach(s=>s(i))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(i=>i()),this._views.slice().forEach(i=>i.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(i){return this._destroyListeners.push(i),()=>Sh(this._destroyListeners,i)}destroy(){if(this._destroyed)throw new he(406,!1);const i=this._injector;i.destroy&&!i.destroyed&&i.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return t.\u0275fac=function(i){return new(i||t)(Oe(ai),Oe(Rs),Oe(yo))},t.\u0275prov=Ie({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Sh(t,e){const i=t.indexOf(e);i>-1&&t.splice(i,1)}let ip=(()=>{class t{}return t.__NG_ELEMENT_ID__=nE,t})();function nE(t){return function sE(t,e,i){if(ra(t)&&!i){const n=un(t.index,e);return new Ta(n,n)}return 47&t.type?new Ta(e[Xi],e):null}(zi(),xe(),16==(16&t))}class P0{constructor(){}supports(e){return ah(e)}create(e){return new cE(e)}}const hE=(t,e)=>e;class cE{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||hE}forEachItem(e){let i;for(i=this._itHead;null!==i;i=i._next)e(i)}forEachOperation(e){let i=this._itHead,n=this._removalsHead,s=0,o=null;for(;i||n;){const h=!n||i&&i.currentIndex<E0(n,s,o)?i:n,p=E0(h,s,o),y=h.currentIndex;if(h===n)s--,n=n._nextRemoved;else if(i=i._next,null==h.previousIndex)s++;else{o||(o=[]);const _=p-s,T=y-s;if(_!=T){for(let R=0;R<_;R++){const U=R<o.length?o[R]:o[R]=0,X=U+R;T<=X&&X<_&&(o[R]=U+1)}o[h.previousIndex]=T-_}}p!==y&&e(h,p,y)}}forEachPreviousItem(e){let i;for(i=this._previousItHead;null!==i;i=i._nextPrevious)e(i)}forEachAddedItem(e){let i;for(i=this._additionsHead;null!==i;i=i._nextAdded)e(i)}forEachMovedItem(e){let i;for(i=this._movesHead;null!==i;i=i._nextMoved)e(i)}forEachRemovedItem(e){let i;for(i=this._removalsHead;null!==i;i=i._nextRemoved)e(i)}forEachIdentityChange(e){let i;for(i=this._identityChangesHead;null!==i;i=i._nextIdentityChange)e(i)}diff(e){if(null==e&&(e=[]),!ah(e))throw new he(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let s,o,h,i=this._itHead,n=!1;if(Array.isArray(e)){this.length=e.length;for(let p=0;p<this.length;p++)o=e[p],h=this._trackByFn(p,o),null!==i&&Object.is(i.trackById,h)?(n&&(i=this._verifyReinsertion(i,o,h,p)),Object.is(i.item,o)||this._addIdentityChange(i,o)):(i=this._mismatch(i,o,h,p),n=!0),i=i._next}else s=0,function I1(t,e){if(Array.isArray(t))for(let i=0;i<t.length;i++)e(t[i]);else{const i=t[Symbol.iterator]();let n;for(;!(n=i.next()).done;)e(n.value)}}(e,p=>{h=this._trackByFn(s,p),null!==i&&Object.is(i.trackById,h)?(n&&(i=this._verifyReinsertion(i,p,h,s)),Object.is(i.item,p)||this._addIdentityChange(i,p)):(i=this._mismatch(i,p,h,s),n=!0),i=i._next,s++}),this.length=s;return this._truncate(i),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,i,n,s){let o;return null===e?o=this._itTail:(o=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(e.item,i)||this._addIdentityChange(e,i),this._reinsertAfter(e,o,s)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(n,s))?(Object.is(e.item,i)||this._addIdentityChange(e,i),this._moveAfter(e,o,s)):e=this._addAfter(new uE(i,n),o,s),e}_verifyReinsertion(e,i,n,s){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==o?e=this._reinsertAfter(o,e._prev,s):e.currentIndex!=s&&(e.currentIndex=s,this._addToMoves(e,s)),e}_truncate(e){for(;null!==e;){const i=e._next;this._addToRemovals(this._unlink(e)),e=i}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,i,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const s=e._prevRemoved,o=e._nextRemoved;return null===s?this._removalsHead=o:s._nextRemoved=o,null===o?this._removalsTail=s:o._prevRemoved=s,this._insertAfter(e,i,n),this._addToMoves(e,n),e}_moveAfter(e,i,n){return this._unlink(e),this._insertAfter(e,i,n),this._addToMoves(e,n),e}_addAfter(e,i,n){return this._insertAfter(e,i,n),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,i,n){const s=null===i?this._itHead:i._next;return e._next=s,e._prev=i,null===s?this._itTail=e:s._prev=e,null===i?this._itHead=e:i._next=e,null===this._linkedRecords&&(this._linkedRecords=new k0),this._linkedRecords.put(e),e.currentIndex=n,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const i=e._prev,n=e._next;return null===i?this._itHead=n:i._next=n,null===n?this._itTail=i:n._prev=i,e}_addToMoves(e,i){return e.previousIndex===i||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new k0),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,i){return e.item=i,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class uE{constructor(e,i){this.item=e,this.trackById=i,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class dE{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,i){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===i||i<=n.currentIndex)&&Object.is(n.trackById,e))return n;return null}remove(e){const i=e._prevDup,n=e._nextDup;return null===i?this._head=n:i._nextDup=n,null===n?this._tail=i:n._prevDup=i,null===this._head}}class k0{constructor(){this.map=new Map}put(e){const i=e.trackById;let n=this.map.get(i);n||(n=new dE,this.map.set(i,n)),n.add(e)}get(e,i){const s=this.map.get(e);return s?s.get(e,i):null}remove(e){const i=e.trackById;return this.map.get(i).remove(e)&&this.map.delete(i),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function E0(t,e,i){const n=t.previousIndex;if(null===n)return n;let s=0;return i&&n<i.length&&(s=i[n]),n+e+s}class A0{constructor(){}supports(e){return e instanceof Map||pd(e)}create(){return new pE}}class pE{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let i;for(i=this._mapHead;null!==i;i=i._next)e(i)}forEachPreviousItem(e){let i;for(i=this._previousMapHead;null!==i;i=i._nextPrevious)e(i)}forEachChangedItem(e){let i;for(i=this._changesHead;null!==i;i=i._nextChanged)e(i)}forEachAddedItem(e){let i;for(i=this._additionsHead;null!==i;i=i._nextAdded)e(i)}forEachRemovedItem(e){let i;for(i=this._removalsHead;null!==i;i=i._nextRemoved)e(i)}diff(e){if(e){if(!(e instanceof Map||pd(e)))throw new he(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i=this._mapHead;if(this._appendAfter=null,this._forEach(e,(n,s)=>{if(i&&i.key===s)this._maybeAddToChanges(i,n),this._appendAfter=i,i=i._next;else{const o=this._getOrCreateRecordForKey(s,n);i=this._insertBeforeOrAppend(i,o)}}),i){i._prev&&(i._prev._next=null),this._removalsHead=i;for(let n=i;null!==n;n=n._nextRemoved)n===this._mapHead&&(this._mapHead=null),this._records.delete(n.key),n._nextRemoved=n._next,n.previousValue=n.currentValue,n.currentValue=null,n._prev=null,n._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,i){if(e){const n=e._prev;return i._next=e,i._prev=n,e._prev=i,n&&(n._next=i),e===this._mapHead&&(this._mapHead=i),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=i,i._prev=this._appendAfter):this._mapHead=i,this._appendAfter=i,null}_getOrCreateRecordForKey(e,i){if(this._records.has(e)){const s=this._records.get(e);this._maybeAddToChanges(s,i);const o=s._prev,h=s._next;return o&&(o._next=h),h&&(h._prev=o),s._next=null,s._prev=null,s}const n=new fE(e);return this._records.set(e,n),n.currentValue=i,this._addToAdditions(n),n}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,i){Object.is(i,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=i,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,i){e instanceof Map?e.forEach(i):Object.keys(e).forEach(n=>i(e[n],n))}}class fE{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function I0(){return new kh([new P0])}let kh=(()=>{class t{constructor(i){this.factories=i}static create(i,n){if(null!=n){const s=n.factories.slice();i=i.concat(s)}return new t(i)}static extend(i){return{provide:t,useFactory:n=>t.create(i,n||I0()),deps:[[t,new pa,new da]]}}find(i){const n=this.factories.find(s=>s.supports(i));if(null!=n)return n;throw new he(901,!1)}}return t.\u0275prov=Ie({token:t,providedIn:"root",factory:I0}),t})();function F0(){return new Wa([new A0])}let Wa=(()=>{class t{constructor(i){this.factories=i}static create(i,n){if(n){const s=n.factories.slice();i=i.concat(s)}return new t(i)}static extend(i){return{provide:t,useFactory:n=>t.create(i,n||F0()),deps:[[t,new pa,new da]]}}find(i){const n=this.factories.find(s=>s.supports(i));if(n)return n;throw new he(901,!1)}}return t.\u0275prov=Ie({token:t,providedIn:"root",factory:F0}),t})();const yE=y0(null,"core",[]);let xE=(()=>{class t{constructor(i){}}return t.\u0275fac=function(i){return new(i||t)(Oe(Va))},t.\u0275mod=en({type:t}),t.\u0275inj=Be({}),t})(),lp=null;function Ir(){return lp}class _E{}const Ii=new We("DocumentToken");let hp=(()=>{class t{historyGo(i){throw new Error("Not implemented")}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=Ie({token:t,factory:function(){return function ME(){return Oe(L0)}()},providedIn:"platform"}),t})();const CE=new We("Location Initialized");let L0=(()=>{class t extends hp{constructor(i){super(),this._doc=i,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ir().getBaseHref(this._doc)}onPopState(i){const n=Ir().getGlobalEventTarget(this._doc,"window");return n.addEventListener("popstate",i,!1),()=>n.removeEventListener("popstate",i)}onHashChange(i){const n=Ir().getGlobalEventTarget(this._doc,"window");return n.addEventListener("hashchange",i,!1),()=>n.removeEventListener("hashchange",i)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(i){this._location.pathname=i}pushState(i,n,s){O0()?this._history.pushState(i,n,s):this._location.hash=s}replaceState(i,n,s){O0()?this._history.replaceState(i,n,s):this._location.hash=s}forward(){this._history.forward()}back(){this._history.back()}historyGo(i=0){this._history.go(i)}getState(){return this._history.state}}return t.\u0275fac=function(i){return new(i||t)(Oe(Ii))},t.\u0275prov=Ie({token:t,factory:function(){return function wE(){return new L0(Oe(Ii))}()},providedIn:"platform"}),t})();function O0(){return!!window.history.pushState}function cp(t,e){if(0==t.length)return e;if(0==e.length)return t;let i=0;return t.endsWith("/")&&i++,e.startsWith("/")&&i++,2==i?t+e.substring(1):1==i?t+e:t+"/"+e}function R0(t){const e=t.match(/#|\?|$/),i=e&&e.index||t.length;return t.slice(0,i-("/"===t[i-1]?1:0))+t.slice(i)}function Hs(t){return t&&"?"!==t[0]?"?"+t:t}let Fr=(()=>{class t{historyGo(i){throw new Error("Not implemented")}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=Ie({token:t,factory:function(){return Dt(B0)},providedIn:"root"}),t})();const N0=new We("appBaseHref");let B0=(()=>{class t extends Fr{constructor(i,n){super(),this._platformLocation=i,this._removeListenerFns=[],this._baseHref=n??this._platformLocation.getBaseHrefFromDOM()??Dt(Ii).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(i){this._removeListenerFns.push(this._platformLocation.onPopState(i),this._platformLocation.onHashChange(i))}getBaseHref(){return this._baseHref}prepareExternalUrl(i){return cp(this._baseHref,i)}path(i=!1){const n=this._platformLocation.pathname+Hs(this._platformLocation.search),s=this._platformLocation.hash;return s&&i?`${n}${s}`:n}pushState(i,n,s,o){const h=this.prepareExternalUrl(s+Hs(o));this._platformLocation.pushState(i,n,h)}replaceState(i,n,s,o){const h=this.prepareExternalUrl(s+Hs(o));this._platformLocation.replaceState(i,n,h)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(i=0){this._platformLocation.historyGo?.(i)}}return t.\u0275fac=function(i){return new(i||t)(Oe(hp),Oe(N0,8))},t.\u0275prov=Ie({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),TE=(()=>{class t extends Fr{constructor(i,n){super(),this._platformLocation=i,this._baseHref="",this._removeListenerFns=[],null!=n&&(this._baseHref=n)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(i){this._removeListenerFns.push(this._platformLocation.onPopState(i),this._platformLocation.onHashChange(i))}getBaseHref(){return this._baseHref}path(i=!1){let n=this._platformLocation.hash;return null==n&&(n="#"),n.length>0?n.substring(1):n}prepareExternalUrl(i){const n=cp(this._baseHref,i);return n.length>0?"#"+n:n}pushState(i,n,s,o){let h=this.prepareExternalUrl(s+Hs(o));0==h.length&&(h=this._platformLocation.pathname),this._platformLocation.pushState(i,n,h)}replaceState(i,n,s,o){let h=this.prepareExternalUrl(s+Hs(o));0==h.length&&(h=this._platformLocation.pathname),this._platformLocation.replaceState(i,n,h)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(i=0){this._platformLocation.historyGo?.(i)}}return t.\u0275fac=function(i){return new(i||t)(Oe(hp),Oe(N0,8))},t.\u0275prov=Ie({token:t,factory:t.\u0275fac}),t})(),up=(()=>{class t{constructor(i){this._subject=new Ki,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=i;const n=this._locationStrategy.getBaseHref();this._basePath=function PE(t){if(new RegExp("^(https?:)?//").test(t)){const[,i]=t.split(/\/\/[^\/]+/);return i}return t}(R0(V0(n))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(i=!1){return this.normalize(this._locationStrategy.path(i))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(i,n=""){return this.path()==this.normalize(i+Hs(n))}normalize(i){return t.stripTrailingSlash(function DE(t,e){if(!t||!e.startsWith(t))return e;const i=e.substring(t.length);return""===i||["/",";","?","#"].includes(i[0])?i:e}(this._basePath,V0(i)))}prepareExternalUrl(i){return i&&"/"!==i[0]&&(i="/"+i),this._locationStrategy.prepareExternalUrl(i)}go(i,n="",s=null){this._locationStrategy.pushState(s,"",i,n),this._notifyUrlChangeListeners(this.prepareExternalUrl(i+Hs(n)),s)}replaceState(i,n="",s=null){this._locationStrategy.replaceState(s,"",i,n),this._notifyUrlChangeListeners(this.prepareExternalUrl(i+Hs(n)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(i=0){this._locationStrategy.historyGo?.(i)}onUrlChange(i){return this._urlChangeListeners.push(i),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(n=>{this._notifyUrlChangeListeners(n.url,n.state)})),()=>{const n=this._urlChangeListeners.indexOf(i);this._urlChangeListeners.splice(n,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(i="",n){this._urlChangeListeners.forEach(s=>s(i,n))}subscribe(i,n,s){return this._subject.subscribe({next:i,error:n,complete:s})}}return t.normalizeQueryParams=Hs,t.joinWithSlash=cp,t.stripTrailingSlash=R0,t.\u0275fac=function(i){return new(i||t)(Oe(Fr))},t.\u0275prov=Ie({token:t,factory:function(){return function SE(){return new up(Oe(Fr))}()},providedIn:"root"}),t})();function V0(t){return t.replace(/\/index.html$/,"")}class fA{constructor(e,i,n,s){this.$implicit=e,this.ngForOf=i,this.index=n,this.count=s}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Z0=(()=>{class t{set ngForOf(i){this._ngForOf=i,this._ngForOfDirty=!0}set ngForTrackBy(i){this._trackByFn=i}get ngForTrackBy(){return this._trackByFn}constructor(i,n,s){this._viewContainer=i,this._template=n,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(i){i&&(this._template=i)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const i=this._ngForOf;!this._differ&&i&&(this._differ=this._differs.find(i).create(this.ngForTrackBy))}if(this._differ){const i=this._differ.diff(this._ngForOf);i&&this._applyChanges(i)}}_applyChanges(i){const n=this._viewContainer;i.forEachOperation((s,o,h)=>{if(null==s.previousIndex)n.createEmbeddedView(this._template,new fA(s.item,this._ngForOf,-1,-1),null===h?void 0:h);else if(null==h)n.remove(null===o?void 0:o);else if(null!==o){const p=n.get(o);n.move(p,h),q0(p,s)}});for(let s=0,o=n.length;s<o;s++){const p=n.get(s).context;p.index=s,p.count=o,p.ngForOf=this._ngForOf}i.forEachIdentityChange(s=>{q0(n.get(s.currentIndex),s)})}static ngTemplateContextGuard(i,n){return!0}}return t.\u0275fac=function(i){return new(i||t)(nt(es),nt(js),nt(kh))},t.\u0275dir=Jt({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),t})();function q0(t,e){t.context.$implicit=e.item}let J0=(()=>{class t{constructor(i,n){this._viewContainer=i,this._context=new mA,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=n}set ngIf(i){this._context.$implicit=this._context.ngIf=i,this._updateView()}set ngIfThen(i){eb("ngIfThen",i),this._thenTemplateRef=i,this._thenViewRef=null,this._updateView()}set ngIfElse(i){eb("ngIfElse",i),this._elseTemplateRef=i,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(i,n){return!0}}return t.\u0275fac=function(i){return new(i||t)(nt(es),nt(js))},t.\u0275dir=Jt({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),t})();class mA{constructor(){this.$implicit=null,this.ngIf=null}}function eb(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Ee(e)}'.`)}let ib=(()=>{class t{constructor(i,n,s){this._ngEl=i,this._differs=n,this._renderer=s,this._ngStyle=null,this._differ=null}set ngStyle(i){this._ngStyle=i,!this._differ&&i&&(this._differ=this._differs.find(i).create())}ngDoCheck(){if(this._differ){const i=this._differ.diff(this._ngStyle);i&&this._applyChanges(i)}}_setStyle(i,n){const[s,o]=i.split("."),h=-1===s.indexOf("-")?void 0:dn.DashCase;null!=n?this._renderer.setStyle(this._ngEl.nativeElement,s,o?`${n}${o}`:n,h):this._renderer.removeStyle(this._ngEl.nativeElement,s,h)}_applyChanges(i){i.forEachRemovedItem(n=>this._setStyle(n.key,null)),i.forEachAddedItem(n=>this._setStyle(n.key,n.currentValue)),i.forEachChangedItem(n=>this._setStyle(n.key,n.currentValue))}}return t.\u0275fac=function(i){return new(i||t)(nt(Ns),nt(Wa),nt(ql))},t.\u0275dir=Jt({type:t,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),t})(),Sp=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=en({type:t}),t.\u0275inj=Be({}),t})();const sb="browser";let XA=(()=>{class t{}return t.\u0275prov=Ie({token:t,providedIn:"root",factory:()=>new $A(Oe(Ii),window)}),t})();class $A{constructor(e,i){this.document=e,this.window=i,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const i=function GA(t,e){const i=t.getElementById(e)||t.getElementsByName(e)[0];if(i)return i;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow)){const n=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let s=n.currentNode;for(;s;){const o=s.shadowRoot;if(o){const h=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(h)return h}s=n.nextNode()}}return null}(this.document,e);i&&(this.scrollToElement(i),i.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const i=this.window.history;i&&i.scrollRestoration&&(i.scrollRestoration=e)}}scrollToElement(e){const i=e.getBoundingClientRect(),n=i.left+this.window.pageXOffset,s=i.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(n-o[0],s-o[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=rb(this.window.history)||rb(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function rb(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class MI extends _E{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class kp extends MI{static makeCurrent(){!function bE(t){lp||(lp=t)}(new kp)}onAndCancel(e,i,n){return e.addEventListener(i,n,!1),()=>{e.removeEventListener(i,n,!1)}}dispatchEvent(e,i){e.dispatchEvent(i)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,i){return(i=i||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,i){return"window"===i?window:"document"===i?e:"body"===i?e.body:null}getBaseHref(e){const i=function CI(){return Ha=Ha||document.querySelector("base"),Ha?Ha.getAttribute("href"):null}();return null==i?null:function wI(t){zh=zh||document.createElement("a"),zh.setAttribute("href",t);const e=zh.pathname;return"/"===e.charAt(0)?e:`/${e}`}(i)}resetBaseElement(){Ha=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function uA(t,e){e=encodeURIComponent(e);for(const i of t.split(";")){const n=i.indexOf("="),[s,o]=-1==n?[i,""]:[i.slice(0,n),i.slice(n+1)];if(s.trim()===e)return decodeURIComponent(o)}return null}(document.cookie,e)}}let zh,Ha=null;const cb=new We("TRANSITION_ID"),SI=[{provide:Ch,useFactory:function TI(t,e,i){return()=>{i.get(wh).donePromise.then(()=>{const n=Ir(),s=e.querySelectorAll(`style[ng-transition="${t}"]`);for(let o=0;o<s.length;o++)n.remove(s[o])})}},deps:[cb,Ii,Ws],multi:!0}];let PI=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=Ie({token:t,factory:t.\u0275fac}),t})();const jh=new We("EventManagerPlugins");let Uh=(()=>{class t{constructor(i,n){this._zone=n,this._eventNameToPlugin=new Map,i.forEach(s=>{s.manager=this}),this._plugins=i.slice().reverse()}addEventListener(i,n,s){return this._findPluginFor(n).addEventListener(i,n,s)}addGlobalEventListener(i,n,s){return this._findPluginFor(n).addGlobalEventListener(i,n,s)}getZone(){return this._zone}_findPluginFor(i){const n=this._eventNameToPlugin.get(i);if(n)return n;const s=this._plugins;for(let o=0;o<s.length;o++){const h=s[o];if(h.supports(i))return this._eventNameToPlugin.set(i,h),h}throw new Error(`No event manager plugin found for event ${i}`)}}return t.\u0275fac=function(i){return new(i||t)(Oe(jh),Oe(ai))},t.\u0275prov=Ie({token:t,factory:t.\u0275fac}),t})();class ub{constructor(e){this._doc=e}addGlobalEventListener(e,i,n){const s=Ir().getGlobalEventTarget(this._doc,e);if(!s)throw new Error(`Unsupported event target ${s} for event ${i}`);return this.addEventListener(s,i,n)}}let db=(()=>{class t{constructor(){this.usageCount=new Map}addStyles(i){for(const n of i)1===this.changeUsageCount(n,1)&&this.onStyleAdded(n)}removeStyles(i){for(const n of i)0===this.changeUsageCount(n,-1)&&this.onStyleRemoved(n)}onStyleRemoved(i){}onStyleAdded(i){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(i,n){const s=this.usageCount;let o=s.get(i)??0;return o+=n,o>0?s.set(i,o):s.delete(i),o}ngOnDestroy(){for(const i of this.getAllStyles())this.onStyleRemoved(i);this.usageCount.clear()}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=Ie({token:t,factory:t.\u0275fac}),t})(),Ya=(()=>{class t extends db{constructor(i){super(),this.doc=i,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(i){for(const n of this.hostNodes)this.addStyleToHost(n,i)}onStyleRemoved(i){const n=this.styleRef;n.get(i)?.forEach(o=>o.remove()),n.delete(i)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(i){this.hostNodes.add(i);for(const n of this.getAllStyles())this.addStyleToHost(i,n)}removeHost(i){this.hostNodes.delete(i)}addStyleToHost(i,n){const s=this.doc.createElement("style");s.textContent=n,i.appendChild(s);const o=this.styleRef.get(n);o?o.push(s):this.styleRef.set(n,[s])}resetHostNodes(){const i=this.hostNodes;i.clear(),i.add(this.doc.head)}}return t.\u0275fac=function(i){return new(i||t)(Oe(Ii))},t.\u0275prov=Ie({token:t,factory:t.\u0275fac}),t})();const Ep={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Ap=/%COMP%/g,gb=new We("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function mb(t,e){return e.flat(100).map(i=>i.replace(Ap,t))}function yb(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let Hh=(()=>{class t{constructor(i,n,s,o){this.eventManager=i,this.sharedStylesHost=n,this.appId=s,this.removeStylesOnCompDestory=o,this.rendererByCompId=new Map,this.defaultRenderer=new Ip(i)}createRenderer(i,n){if(!i||!n)return this.defaultRenderer;const s=this.getOrCreateRenderer(i,n);return s instanceof bb?s.applyToHost(i):s instanceof Fp&&s.applyStyles(),s}getOrCreateRenderer(i,n){const s=this.rendererByCompId;let o=s.get(n.id);if(!o){const h=this.eventManager,p=this.sharedStylesHost,y=this.removeStylesOnCompDestory;switch(n.encapsulation){case $n.Emulated:o=new bb(h,p,n,this.appId,y);break;case $n.ShadowDom:return new OI(h,p,i,n);default:o=new Fp(h,p,n,y)}o.onDestroy=()=>s.delete(n.id),s.set(n.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return t.\u0275fac=function(i){return new(i||t)(Oe(Uh),Oe(Ya),Oe(Ba),Oe(gb))},t.\u0275prov=Ie({token:t,factory:t.\u0275fac}),t})();class Ip{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,i){return i?document.createElementNS(Ep[i]||i,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,i){(vb(e)?e.content:e).appendChild(i)}insertBefore(e,i,n){e&&(vb(e)?e.content:e).insertBefore(i,n)}removeChild(e,i){e&&e.removeChild(i)}selectRootElement(e,i){let n="string"==typeof e?document.querySelector(e):e;if(!n)throw new Error(`The selector "${e}" did not match any elements`);return i||(n.textContent=""),n}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,i,n,s){if(s){i=s+":"+i;const o=Ep[s];o?e.setAttributeNS(o,i,n):e.setAttribute(i,n)}else e.setAttribute(i,n)}removeAttribute(e,i,n){if(n){const s=Ep[n];s?e.removeAttributeNS(s,i):e.removeAttribute(`${n}:${i}`)}else e.removeAttribute(i)}addClass(e,i){e.classList.add(i)}removeClass(e,i){e.classList.remove(i)}setStyle(e,i,n,s){s&(dn.DashCase|dn.Important)?e.style.setProperty(i,n,s&dn.Important?"important":""):e.style[i]=n}removeStyle(e,i,n){n&dn.DashCase?e.style.removeProperty(i):e.style[i]=""}setProperty(e,i,n){e[i]=n}setValue(e,i){e.nodeValue=i}listen(e,i,n){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,i,yb(n)):this.eventManager.addEventListener(e,i,yb(n))}}function vb(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class OI extends Ip{constructor(e,i,n,s){super(e),this.sharedStylesHost=i,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const o=mb(s.id,s.styles);for(const h of o){const p=document.createElement("style");p.textContent=h,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,i){return super.appendChild(this.nodeOrShadowRoot(e),i)}insertBefore(e,i,n){return super.insertBefore(this.nodeOrShadowRoot(e),i,n)}removeChild(e,i){return super.removeChild(this.nodeOrShadowRoot(e),i)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Fp extends Ip{constructor(e,i,n,s,o=n.id){super(e),this.sharedStylesHost=i,this.removeStylesOnCompDestory=s,this.rendererUsageCount=0,this.styles=mb(o,n.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class bb extends Fp{constructor(e,i,n,s,o){const h=s+"-"+n.id;super(e,i,n,o,h),this.contentAttr=function II(t){return"_ngcontent-%COMP%".replace(Ap,t)}(h),this.hostAttr=function FI(t){return"_nghost-%COMP%".replace(Ap,t)}(h)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,i){const n=super.createElement(e,i);return super.setAttribute(n,this.contentAttr,""),n}}let RI=(()=>{class t extends ub{constructor(i){super(i)}supports(i){return!0}addEventListener(i,n,s){return i.addEventListener(n,s,!1),()=>this.removeEventListener(i,n,s)}removeEventListener(i,n,s){return i.removeEventListener(n,s)}}return t.\u0275fac=function(i){return new(i||t)(Oe(Ii))},t.\u0275prov=Ie({token:t,factory:t.\u0275fac}),t})();const _b=["alt","control","meta","shift"],NI={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},BI={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let VI=(()=>{class t extends ub{constructor(i){super(i)}supports(i){return null!=t.parseEventName(i)}addEventListener(i,n,s){const o=t.parseEventName(n),h=t.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ir().onAndCancel(i,o.domEventName,h))}static parseEventName(i){const n=i.toLowerCase().split("."),s=n.shift();if(0===n.length||"keydown"!==s&&"keyup"!==s)return null;const o=t._normalizeKey(n.pop());let h="",p=n.indexOf("code");if(p>-1&&(n.splice(p,1),h="code."),_b.forEach(_=>{const T=n.indexOf(_);T>-1&&(n.splice(T,1),h+=_+".")}),h+=o,0!=n.length||0===o.length)return null;const y={};return y.domEventName=s,y.fullKey=h,y}static matchEventFullKeyCode(i,n){let s=NI[i.key]||i.key,o="";return n.indexOf("code.")>-1&&(s=i.code,o="code."),!(null==s||!s)&&(s=s.toLowerCase()," "===s?s="space":"."===s&&(s="dot"),_b.forEach(h=>{h!==s&&(0,BI[h])(i)&&(o+=h+".")}),o+=s,o===n)}static eventCallback(i,n,s){return o=>{t.matchEventFullKeyCode(o,i)&&s.runGuarded(()=>n(o))}}static _normalizeKey(i){return"esc"===i?"escape":i}}return t.\u0275fac=function(i){return new(i||t)(Oe(Ii))},t.\u0275prov=Ie({token:t,factory:t.\u0275fac}),t})();const UI=y0(yE,"browser",[{provide:$d,useValue:sb},{provide:r0,useValue:function WI(){kp.makeCurrent()},multi:!0},{provide:Ii,useFactory:function jI(){return function dT(t){Lu=t}(document),document},deps:[]}]),wb=new We(""),Tb=[{provide:Th,useClass:class DI{addToWindow(e){ni.getAngularTestability=(n,s=!0)=>{const o=e.findTestabilityInTree(n,s);if(null==o)throw new Error("Could not find testability for element.");return o},ni.getAllAngularTestabilities=()=>e.getAllTestabilities(),ni.getAllAngularRootElements=()=>e.getAllRootElements(),ni.frameworkStabilizers||(ni.frameworkStabilizers=[]),ni.frameworkStabilizers.push(n=>{const s=ni.getAllAngularTestabilities();let o=s.length,h=!1;const p=function(y){h=h||y,o--,0==o&&n(h)};s.forEach(function(y){y.whenStable(p)})})}findTestabilityInTree(e,i,n){return null==i?null:e.getTestability(i)??(n?Ir().isShadowRoot(i)?this.findTestabilityInTree(e,i.host,!0):this.findTestabilityInTree(e,i.parentElement,!0):null)}},deps:[]},{provide:d0,useClass:Zd,deps:[ai,qd,Th]},{provide:Zd,useClass:Zd,deps:[ai,qd,Th]}],Sb=[{provide:Uu,useValue:"root"},{provide:yo,useFactory:function zI(){return new yo},deps:[]},{provide:jh,useClass:RI,multi:!0,deps:[Ii,ai,$d]},{provide:jh,useClass:VI,multi:!0,deps:[Ii]},{provide:Hh,useClass:Hh,deps:[Uh,Ya,Ba,gb]},{provide:Ca,useExisting:Hh},{provide:db,useExisting:Ya},{provide:Ya,useClass:Ya,deps:[Ii]},{provide:Uh,useClass:Uh,deps:[jh,ai]},{provide:class KA{},useClass:PI,deps:[]},[]];let Db=(()=>{class t{constructor(i){}static withServerTransition(i){return{ngModule:t,providers:[{provide:Ba,useValue:i.appId},{provide:cb,useExisting:Ba},SI]}}}return t.\u0275fac=function(i){return new(i||t)(Oe(wb,12))},t.\u0275mod=en({type:t}),t.\u0275inj=Be({providers:[...Sb,...Tb],imports:[Sp,xE]}),t})(),Pb=(()=>{class t{constructor(i){this._doc=i}getTitle(){return this._doc.title}setTitle(i){this._doc.title=i||""}}return t.\u0275fac=function(i){return new(i||t)(Oe(Ii))},t.\u0275prov=Ie({token:t,factory:function(i){let n=null;return n=i?new i:function YI(){return new Pb(Oe(Ii))}(),n},providedIn:"root"}),t})();function Je(...t){return K(t,k(t))}typeof window<"u"&&window;class ss extends Y{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const i=super._subscribe(e);return!i.closed&&e.next(this._value),i}getValue(){const{hasError:e,thrownError:i,_value:n}=this;if(e)throw i;return this._throwIfClosed(),n}next(e){super.next(this._value=e)}}const Yh=xi(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"}),{isArray:ZI}=Array,{getPrototypeOf:qI,prototype:JI,keys:eF}=Object;const{isArray:nF}=Array;function Rp(...t){const e=k(t),i=function P(t){return Yt(w(t))?t.pop():void 0}(t),{args:n,keys:s}=function tF(t){if(1===t.length){const e=t[0];if(ZI(e))return{args:e,keys:null};if(function iF(t){return t&&"object"==typeof t&&qI(t)===JI}(e)){const i=eF(e);return{args:i.map(n=>e[n]),keys:i}}}return{args:t,keys:null}}(t);if(0===n.length)return K([],e);const o=new Xt(function aF(t,e,i=Ze){return n=>{Ab(e,()=>{const{length:s}=t,o=new Array(s);let h=s,p=s;for(let y=0;y<s;y++)Ab(e,()=>{const _=K(t[y],e);let T=!1;_.subscribe(q(n,I=>{o[y]=I,T||(T=!0,p--),p||n.next(i(o.slice()))},()=>{--h||n.complete()}))},n)},n)}}(n,e,s?h=>function oF(t,e){return t.reduce((i,n,s)=>(i[n]=e[s],i),{})}(s,h):Ze));return i?o.pipe(function rF(t){return ee(e=>function sF(t,e){return nF(e)?t(...e):t(e)}(t,e))}(i)):o}function Ab(t,e,i){t?m(i,t,e):e()}function Xh(...t){return function lF(){return x(1)}()(K(t,k(t)))}function Ib(t){return new Xt(e=>{we(t()).subscribe(e)})}function Xa(t,e){const i=Yt(t)?t:()=>t,n=s=>s.error(i());return new Xt(e?s=>e.schedule(n,0,s):n)}function Np(){return O((t,e)=>{let i=null;t._refCount++;const n=q(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(i=null);const s=t._connection,o=i;i=null,s&&(!o||s===o)&&s.unsubscribe(),e.unsubscribe()});t.subscribe(n),n.closed||(i=t.connect())})}class Fb extends Xt{constructor(e,i){super(),this.source=e,this.subjectFactory=i,this._subject=null,this._refCount=0,this._connection=null,ze(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Lt;const i=this.getSubject();e.add(this.source.subscribe(q(i,void 0,()=>{this._teardown(),i.complete()},n=>{this._teardown(),i.error(n)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Lt.EMPTY)}return e}refCount(){return Np()(this)}}function _s(t,e){return O((i,n)=>{let s=null,o=0,h=!1;const p=()=>h&&!s&&n.complete();i.subscribe(q(n,y=>{s?.unsubscribe();let _=0;const T=o++;we(t(y,T)).subscribe(s=q(n,I=>n.next(e?e(y,I,T,_++):I),()=>{s=null,p()}))},()=>{h=!0,p()}))})}function Lr(t){return t<=0?()=>g:O((e,i)=>{let n=0;e.subscribe(q(i,s=>{++n<=t&&(i.next(s),t<=n&&i.complete())}))})}function Lb(...t){const e=k(t);return O((i,n)=>{(e?Xh(t,i,e):Xh(t,i)).subscribe(n)})}function Xs(t,e){return O((i,n)=>{let s=0;i.subscribe(q(n,o=>t.call(e,o,s++)&&n.next(o)))})}function $h(t){return O((e,i)=>{let n=!1;e.subscribe(q(i,s=>{n=!0,i.next(s)},()=>{n||i.next(t),i.complete()}))})}function Ob(t=hF){return O((e,i)=>{let n=!1;e.subscribe(q(i,s=>{n=!0,i.next(s)},()=>n?i.complete():i.error(t())))})}function hF(){return new Yh}function ar(t,e){const i=arguments.length>=2;return n=>n.pipe(t?Xs((s,o)=>t(s,o,n)):Ze,Lr(1),i?$h(e):Ob(()=>new Yh))}function Or(t,e){return Yt(e)?C(t,e,1):C(t,1)}function Qi(t,e,i){const n=Yt(t)||e||i?{next:t,error:e,complete:i}:t;return n?O((s,o)=>{var h;null===(h=n.subscribe)||void 0===h||h.call(n);let p=!0;s.subscribe(q(o,y=>{var _;null===(_=n.next)||void 0===_||_.call(n,y),o.next(y)},()=>{var y;p=!1,null===(y=n.complete)||void 0===y||y.call(n),o.complete()},y=>{var _;p=!1,null===(_=n.error)||void 0===_||_.call(n,y),o.error(y)},()=>{var y,_;p&&(null===(y=n.unsubscribe)||void 0===y||y.call(n)),null===(_=n.finalize)||void 0===_||_.call(n)}))}):Ze}function lr(t){return O((e,i)=>{let o,n=null,s=!1;n=e.subscribe(q(i,void 0,void 0,h=>{o=we(t(h,lr(t)(e))),n?(n.unsubscribe(),n=null,o.subscribe(i)):s=!0})),s&&(n.unsubscribe(),n=null,o.subscribe(i))})}function Rb(t,e){return O(function cF(t,e,i,n,s){return(o,h)=>{let p=i,y=e,_=0;o.subscribe(q(h,T=>{const I=_++;y=p?t(y,T,I):(p=!0,T),n&&h.next(y)},s&&(()=>{p&&h.next(y),h.complete()})))}}(t,e,arguments.length>=2,!0))}function Bp(t){return t<=0?()=>g:O((e,i)=>{let n=[];e.subscribe(q(i,s=>{n.push(s),t<n.length&&n.shift()},()=>{for(const s of n)i.next(s);i.complete()},void 0,()=>{n=null}))})}function Nb(t,e){const i=arguments.length>=2;return n=>n.pipe(t?Xs((s,o)=>t(s,o,n)):Ze,Bp(1),i?$h(e):Ob(()=>new Yh))}function Vp(t){return O((e,i)=>{try{e.subscribe(i)}finally{i.add(t)}})}const gt="primary",$a=Symbol("RouteTitle");class pF{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const i=this.params[e];return Array.isArray(i)?i[0]:i}return null}getAll(e){if(this.has(e)){const i=this.params[e];return Array.isArray(i)?i:[i]}return[]}get keys(){return Object.keys(this.params)}}function Ro(t){return new pF(t)}function fF(t,e,i){const n=i.path.split("/");if(n.length>t.length||"full"===i.pathMatch&&(e.hasChildren()||n.length<t.length))return null;const s={};for(let o=0;o<n.length;o++){const h=n[o],p=t[o];if(h.startsWith(":"))s[h.substring(1)]=p;else if(h!==p.path)return null}return{consumed:t.slice(0,n.length),posParams:s}}function Ms(t,e){const i=t?Object.keys(t):void 0,n=e?Object.keys(e):void 0;if(!i||!n||i.length!=n.length)return!1;let s;for(let o=0;o<i.length;o++)if(s=i[o],!Bb(t[s],e[s]))return!1;return!0}function Bb(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const i=[...t].sort(),n=[...e].sort();return i.every((s,o)=>n[o]===s)}return t===e}function Vb(t){return Array.prototype.concat.apply([],t)}function Wb(t){return t.length>0?t[t.length-1]:null}function ji(t,e){for(const i in t)t.hasOwnProperty(i)&&e(t[i],i)}function hr(t){return $y(t)?t:ch(t)?K(Promise.resolve(t)):Je(t)}const Gh=!1,mF={exact:function Ub(t,e,i){if(!Rr(t.segments,e.segments)||!Kh(t.segments,e.segments,i)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const n in e.children)if(!t.children[n]||!Ub(t.children[n],e.children[n],i))return!1;return!0},subset:Hb},zb={exact:function yF(t,e){return Ms(t,e)},subset:function xF(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(i=>Bb(t[i],e[i]))},ignored:()=>!0};function jb(t,e,i){return mF[i.paths](t.root,e.root,i.matrixParams)&&zb[i.queryParams](t.queryParams,e.queryParams)&&!("exact"===i.fragment&&t.fragment!==e.fragment)}function Hb(t,e,i){return Yb(t,e,e.segments,i)}function Yb(t,e,i,n){if(t.segments.length>i.length){const s=t.segments.slice(0,i.length);return!(!Rr(s,i)||e.hasChildren()||!Kh(s,i,n))}if(t.segments.length===i.length){if(!Rr(t.segments,i)||!Kh(t.segments,i,n))return!1;for(const s in e.children)if(!t.children[s]||!Hb(t.children[s],e.children[s],n))return!1;return!0}{const s=i.slice(0,t.segments.length),o=i.slice(t.segments.length);return!!(Rr(t.segments,s)&&Kh(t.segments,s,n)&&t.children[gt])&&Yb(t.children[gt],e,o,n)}}function Kh(t,e,i){return e.every((n,s)=>zb[i](t[s].parameters,n.parameters))}class cr{constructor(e=new Tt([],{}),i={},n=null){this.root=e,this.queryParams=i,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ro(this.queryParams)),this._queryParamMap}toString(){return _F.serialize(this)}}class Tt{constructor(e,i){this.segments=e,this.children=i,this.parent=null,ji(i,(n,s)=>n.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Qh(this)}}class Ga{constructor(e,i){this.path=e,this.parameters=i}get parameterMap(){return this._parameterMap||(this._parameterMap=Ro(this.parameters)),this._parameterMap}toString(){return Gb(this)}}function Rr(t,e){return t.length===e.length&&t.every((i,n)=>i.path===e[n].path)}let Ka=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=Ie({token:t,factory:function(){return new Wp},providedIn:"root"}),t})();class Wp{parse(e){const i=new EF(e);return new cr(i.parseRootSegment(),i.parseQueryParams(),i.parseFragment())}serialize(e){const i=`/${Qa(e.root,!0)}`,n=function wF(t){const e=Object.keys(t).map(i=>{const n=t[i];return Array.isArray(n)?n.map(s=>`${Zh(i)}=${Zh(s)}`).join("&"):`${Zh(i)}=${Zh(n)}`}).filter(i=>!!i);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${i}${n}${"string"==typeof e.fragment?`#${function MF(t){return encodeURI(t)}(e.fragment)}`:""}`}}const _F=new Wp;function Qh(t){return t.segments.map(e=>Gb(e)).join("/")}function Qa(t,e){if(!t.hasChildren())return Qh(t);if(e){const i=t.children[gt]?Qa(t.children[gt],!1):"",n=[];return ji(t.children,(s,o)=>{o!==gt&&n.push(`${o}:${Qa(s,!1)}`)}),n.length>0?`${i}(${n.join("//")})`:i}{const i=function bF(t,e){let i=[];return ji(t.children,(n,s)=>{s===gt&&(i=i.concat(e(n,s)))}),ji(t.children,(n,s)=>{s!==gt&&(i=i.concat(e(n,s)))}),i}(t,(n,s)=>s===gt?[Qa(t.children[gt],!1)]:[`${s}:${Qa(n,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[gt]?`${Qh(t)}/${i[0]}`:`${Qh(t)}/(${i.join("//")})`}}function Xb(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Zh(t){return Xb(t).replace(/%3B/gi,";")}function zp(t){return Xb(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function qh(t){return decodeURIComponent(t)}function $b(t){return qh(t.replace(/\+/g,"%20"))}function Gb(t){return`${zp(t.path)}${function CF(t){return Object.keys(t).map(e=>`;${zp(e)}=${zp(t[e])}`).join("")}(t.parameters)}`}const TF=/^[^\/()?;=#]+/;function Jh(t){const e=t.match(TF);return e?e[0]:""}const SF=/^[^=?&#]+/,PF=/^[^&#]+/;class EF{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Tt([],{}):new Tt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let i={};this.peekStartsWith("/(")&&(this.capture("/"),i=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(e.length>0||Object.keys(i).length>0)&&(n[gt]=new Tt(e,i)),n}parseSegment(){const e=Jh(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new he(4009,Gh);return this.capture(e),new Ga(qh(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const i=Jh(this.remaining);if(!i)return;this.capture(i);let n="";if(this.consumeOptional("=")){const s=Jh(this.remaining);s&&(n=s,this.capture(n))}e[qh(i)]=qh(n)}parseQueryParam(e){const i=function DF(t){const e=t.match(SF);return e?e[0]:""}(this.remaining);if(!i)return;this.capture(i);let n="";if(this.consumeOptional("=")){const h=function kF(t){const e=t.match(PF);return e?e[0]:""}(this.remaining);h&&(n=h,this.capture(n))}const s=$b(i),o=$b(n);if(e.hasOwnProperty(s)){let h=e[s];Array.isArray(h)||(h=[h],e[s]=h),h.push(o)}else e[s]=o}parseParens(e){const i={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=Jh(this.remaining),s=this.remaining[n.length];if("/"!==s&&")"!==s&&";"!==s)throw new he(4010,Gh);let o;n.indexOf(":")>-1?(o=n.slice(0,n.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=gt);const h=this.parseChildren();i[o]=1===Object.keys(h).length?h[gt]:new Tt([],h),this.consumeOptional("//")}return i}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new he(4011,Gh)}}function jp(t){return t.segments.length>0?new Tt([],{[gt]:t}):t}function ec(t){const e={};for(const n of Object.keys(t.children)){const o=ec(t.children[n]);(o.segments.length>0||o.hasChildren())&&(e[n]=o)}return function AF(t){if(1===t.numberOfChildren&&t.children[gt]){const e=t.children[gt];return new Tt(t.segments.concat(e.segments),e.children)}return t}(new Tt(t.segments,e))}function Nr(t){return t instanceof cr}const Up=!1;function IF(t,e,i,n,s){if(0===i.length)return No(e.root,e.root,e.root,n,s);const o=function Jb(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new qb(!0,0,t);let e=0,i=!1;const n=t.reduce((s,o,h)=>{if("object"==typeof o&&null!=o){if(o.outlets){const p={};return ji(o.outlets,(y,_)=>{p[_]="string"==typeof y?y.split("/"):y}),[...s,{outlets:p}]}if(o.segmentPath)return[...s,o.segmentPath]}return"string"!=typeof o?[...s,o]:0===h?(o.split("/").forEach((p,y)=>{0==y&&"."===p||(0==y&&""===p?i=!0:".."===p?e++:""!=p&&s.push(p))}),s):[...s,o]},[]);return new qb(i,e,n)}(i);return o.toRoot()?No(e.root,e.root,new Tt([],{}),n,s):function h(y){const _=function LF(t,e,i,n){if(t.isAbsolute)return new Bo(e.root,!0,0);if(-1===n)return new Bo(i,i===e.root,0);return function e_(t,e,i){let n=t,s=e,o=i;for(;o>s;){if(o-=s,n=n.parent,!n)throw new he(4005,Up&&"Invalid number of '../'");s=n.segments.length}return new Bo(n,!1,s-o)}(i,n+(Za(t.commands[0])?0:1),t.numberOfDoubleDots)}(o,e,t.snapshot?._urlSegment,y),T=_.processChildren?Vo(_.segmentGroup,_.index,o.commands):Hp(_.segmentGroup,_.index,o.commands);return No(e.root,_.segmentGroup,T,n,s)}(t.snapshot?._lastPathIndex)}function Za(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function qa(t){return"object"==typeof t&&null!=t&&t.outlets}function No(t,e,i,n,s){let h,o={};n&&ji(n,(y,_)=>{o[_]=Array.isArray(y)?y.map(T=>`${T}`):`${y}`}),h=t===e?i:Zb(t,e,i);const p=jp(ec(h));return new cr(p,o,s)}function Zb(t,e,i){const n={};return ji(t.children,(s,o)=>{n[o]=s===e?i:Zb(s,e,i)}),new Tt(t.segments,n)}class qb{constructor(e,i,n){if(this.isAbsolute=e,this.numberOfDoubleDots=i,this.commands=n,e&&n.length>0&&Za(n[0]))throw new he(4003,Up&&"Root segment cannot have matrix parameters");const s=n.find(qa);if(s&&s!==Wb(n))throw new he(4004,Up&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Bo{constructor(e,i,n){this.segmentGroup=e,this.processChildren=i,this.index=n}}function Hp(t,e,i){if(t||(t=new Tt([],{})),0===t.segments.length&&t.hasChildren())return Vo(t,e,i);const n=function RF(t,e,i){let n=0,s=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;s<t.segments.length;){if(n>=i.length)return o;const h=t.segments[s],p=i[n];if(qa(p))break;const y=`${p}`,_=n<i.length-1?i[n+1]:null;if(s>0&&void 0===y)break;if(y&&_&&"object"==typeof _&&void 0===_.outlets){if(!i_(y,_,h))return o;n+=2}else{if(!i_(y,{},h))return o;n++}s++}return{match:!0,pathIndex:s,commandIndex:n}}(t,e,i),s=i.slice(n.commandIndex);if(n.match&&n.pathIndex<t.segments.length){const o=new Tt(t.segments.slice(0,n.pathIndex),{});return o.children[gt]=new Tt(t.segments.slice(n.pathIndex),t.children),Vo(o,0,s)}return n.match&&0===s.length?new Tt(t.segments,{}):n.match&&!t.hasChildren()?Yp(t,e,i):n.match?Vo(t,0,s):Yp(t,e,i)}function Vo(t,e,i){if(0===i.length)return new Tt(t.segments,{});{const n=function OF(t){return qa(t[0])?t[0].outlets:{[gt]:t}}(i),s={};if(!n[gt]&&t.children[gt]&&1===t.numberOfChildren&&0===t.children[gt].segments.length){const o=Vo(t.children[gt],e,i);return new Tt(t.segments,o.children)}return ji(n,(o,h)=>{"string"==typeof o&&(o=[o]),null!==o&&(s[h]=Hp(t.children[h],e,o))}),ji(t.children,(o,h)=>{void 0===n[h]&&(s[h]=o)}),new Tt(t.segments,s)}}function Yp(t,e,i){const n=t.segments.slice(0,e);let s=0;for(;s<i.length;){const o=i[s];if(qa(o)){const y=NF(o.outlets);return new Tt(n,y)}if(0===s&&Za(i[0])){n.push(new Ga(t.segments[e].path,t_(i[0]))),s++;continue}const h=qa(o)?o.outlets[gt]:`${o}`,p=s<i.length-1?i[s+1]:null;h&&p&&Za(p)?(n.push(new Ga(h,t_(p))),s+=2):(n.push(new Ga(h,{})),s++)}return new Tt(n,{})}function NF(t){const e={};return ji(t,(i,n)=>{"string"==typeof i&&(i=[i]),null!==i&&(e[n]=Yp(new Tt([],{}),0,i))}),e}function t_(t){const e={};return ji(t,(i,n)=>e[n]=`${i}`),e}function i_(t,e,i){return t==i.path&&Ms(e,i.parameters)}const Ja="imperative";class Cs{constructor(e,i){this.id=e,this.url=i}}class Xp extends Cs{constructor(e,i,n="imperative",s=null){super(e,i),this.type=0,this.navigationTrigger=n,this.restoredState=s}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Br extends Cs{constructor(e,i,n){super(e,i),this.urlAfterRedirects=n,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class tc extends Cs{constructor(e,i,n,s){super(e,i),this.reason=n,this.code=s,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class ic extends Cs{constructor(e,i,n,s){super(e,i),this.reason=n,this.code=s,this.type=16}}class $p extends Cs{constructor(e,i,n,s){super(e,i),this.error=n,this.target=s,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class BF extends Cs{constructor(e,i,n,s){super(e,i),this.urlAfterRedirects=n,this.state=s,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class VF extends Cs{constructor(e,i,n,s){super(e,i),this.urlAfterRedirects=n,this.state=s,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class WF extends Cs{constructor(e,i,n,s,o){super(e,i),this.urlAfterRedirects=n,this.state=s,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class zF extends Cs{constructor(e,i,n,s){super(e,i),this.urlAfterRedirects=n,this.state=s,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class jF extends Cs{constructor(e,i,n,s){super(e,i),this.urlAfterRedirects=n,this.state=s,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class UF{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class HF{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class YF{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class XF{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $F{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class GF{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class n_{constructor(e,i,n){this.routerEvent=e,this.position=i,this.anchor=n,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let ZF=(()=>{class t{createUrlTree(i,n,s,o,h,p){return IF(i||n.root,s,o,h,p)}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=Ie({token:t,factory:t.\u0275fac}),t})(),JF=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=Ie({token:t,factory:function(e){return ZF.\u0275fac(e)},providedIn:"root"}),t})();class s_{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const i=this.pathFromRoot(e);return i.length>1?i[i.length-2]:null}children(e){const i=Gp(e,this._root);return i?i.children.map(n=>n.value):[]}firstChild(e){const i=Gp(e,this._root);return i&&i.children.length>0?i.children[0].value:null}siblings(e){const i=Kp(e,this._root);return i.length<2?[]:i[i.length-2].children.map(s=>s.value).filter(s=>s!==e)}pathFromRoot(e){return Kp(e,this._root).map(i=>i.value)}}function Gp(t,e){if(t===e.value)return e;for(const i of e.children){const n=Gp(t,i);if(n)return n}return null}function Kp(t,e){if(t===e.value)return[e];for(const i of e.children){const n=Kp(t,i);if(n.length)return n.unshift(e),n}return[]}class $s{constructor(e,i){this.value=e,this.children=i}toString(){return`TreeNode(${this.value})`}}function Wo(t){const e={};return t&&t.children.forEach(i=>e[i.value.outlet]=i),e}class r_ extends s_{constructor(e,i){super(e),this.snapshot=i,Qp(this,e)}toString(){return this.snapshot.toString()}}function o_(t,e){const i=function e2(t,e){const h=new nc([],{},{},"",{},gt,e,null,t.root,-1,{});return new l_("",new $s(h,[]))}(t,e),n=new ss([new Ga("",{})]),s=new ss({}),o=new ss({}),h=new ss({}),p=new ss(""),y=new zo(n,s,h,p,o,gt,e,i.root);return y.snapshot=i.root,new r_(new $s(y,[]),i)}class zo{constructor(e,i,n,s,o,h,p,y){this.url=e,this.params=i,this.queryParams=n,this.fragment=s,this.data=o,this.outlet=h,this.component=p,this.title=this.data?.pipe(ee(_=>_[$a]))??Je(void 0),this._futureSnapshot=y}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(ee(e=>Ro(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(ee(e=>Ro(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function a_(t,e="emptyOnly"){const i=t.pathFromRoot;let n=0;if("always"!==e)for(n=i.length-1;n>=1;){const s=i[n],o=i[n-1];if(s.routeConfig&&""===s.routeConfig.path)n--;else{if(o.component)break;n--}}return function t2(t){return t.reduce((e,i)=>({params:{...e.params,...i.params},data:{...e.data,...i.data},resolve:{...i.data,...e.resolve,...i.routeConfig?.data,...i._resolvedData}}),{params:{},data:{},resolve:{}})}(i.slice(n))}class nc{get title(){return this.data?.[$a]}constructor(e,i,n,s,o,h,p,y,_,T,I){this.url=e,this.params=i,this.queryParams=n,this.fragment=s,this.data=o,this.outlet=h,this.component=p,this.routeConfig=y,this._urlSegment=_,this._lastPathIndex=T,this._resolve=I}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ro(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ro(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(n=>n.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class l_ extends s_{constructor(e,i){super(i),this.url=e,Qp(this,i)}toString(){return h_(this._root)}}function Qp(t,e){e.value._routerState=t,e.children.forEach(i=>Qp(t,i))}function h_(t){const e=t.children.length>0?` { ${t.children.map(h_).join(", ")} } `:"";return`${t.value}${e}`}function Zp(t){if(t.snapshot){const e=t.snapshot,i=t._futureSnapshot;t.snapshot=i,Ms(e.queryParams,i.queryParams)||t.queryParams.next(i.queryParams),e.fragment!==i.fragment&&t.fragment.next(i.fragment),Ms(e.params,i.params)||t.params.next(i.params),function gF(t,e){if(t.length!==e.length)return!1;for(let i=0;i<t.length;++i)if(!Ms(t[i],e[i]))return!1;return!0}(e.url,i.url)||t.url.next(i.url),Ms(e.data,i.data)||t.data.next(i.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function qp(t,e){const i=Ms(t.params,e.params)&&function vF(t,e){return Rr(t,e)&&t.every((i,n)=>Ms(i.parameters,e[n].parameters))}(t.url,e.url);return i&&!(!t.parent!=!e.parent)&&(!t.parent||qp(t.parent,e.parent))}function el(t,e,i){if(i&&t.shouldReuseRoute(e.value,i.value.snapshot)){const n=i.value;n._futureSnapshot=e.value;const s=function n2(t,e,i){return e.children.map(n=>{for(const s of i.children)if(t.shouldReuseRoute(n.value,s.value.snapshot))return el(t,n,s);return el(t,n)})}(t,e,i);return new $s(n,s)}{if(t.shouldAttach(e.value)){const o=t.retrieve(e.value);if(null!==o){const h=o.route;return h.value._futureSnapshot=e.value,h.children=e.children.map(p=>el(t,p)),h}}const n=function s2(t){return new zo(new ss(t.url),new ss(t.params),new ss(t.queryParams),new ss(t.fragment),new ss(t.data),t.outlet,t.component,t)}(e.value),s=e.children.map(o=>el(t,o));return new $s(n,s)}}const Jp="ngNavigationCancelingError";function c_(t,e){const{redirectTo:i,navigationBehaviorOptions:n}=Nr(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,s=u_(!1,0,e);return s.url=i,s.navigationBehaviorOptions=n,s}function u_(t,e,i){const n=new Error("NavigationCancelingError: "+(t||""));return n[Jp]=!0,n.cancellationCode=e,i&&(n.url=i),n}function d_(t){return p_(t)&&Nr(t.url)}function p_(t){return t&&t[Jp]}class r2{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new tl,this.attachRef=null}}let tl=(()=>{class t{constructor(){this.contexts=new Map}onChildOutletCreated(i,n){const s=this.getOrCreateContext(i);s.outlet=n,this.contexts.set(i,s)}onChildOutletDestroyed(i){const n=this.getContext(i);n&&(n.outlet=null,n.attachRef=null)}onOutletDeactivated(){const i=this.contexts;return this.contexts=new Map,i}onOutletReAttached(i){this.contexts=i}getOrCreateContext(i){let n=this.getContext(i);return n||(n=new r2,this.contexts.set(i,n)),n}getContext(i){return this.contexts.get(i)||null}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=Ie({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const sc=!1;let ef=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=gt,this.activateEvents=new Ki,this.deactivateEvents=new Ki,this.attachEvents=new Ki,this.detachEvents=new Ki,this.parentContexts=Dt(tl),this.location=Dt(es),this.changeDetector=Dt(ip),this.environmentInjector=Dt(Rs)}ngOnChanges(i){if(i.name){const{firstChange:n,previousValue:s}=i.name;if(n)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(i){return this.parentContexts.getContext(i)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const i=this.parentContexts.getContext(this.name);i?.route&&(i.attachRef?this.attach(i.attachRef,i.route):this.activateWith(i.route,i.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new he(4012,sc);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new he(4012,sc);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new he(4012,sc);this.location.detach();const i=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(i.instance),i}attach(i,n){this.activated=i,this._activatedRoute=n,this.location.insert(i.hostView),this.attachEvents.emit(i.instance)}deactivate(){if(this.activated){const i=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(i)}}activateWith(i,n){if(this.isActivated)throw new he(4013,sc);this._activatedRoute=i;const s=this.location,h=i.snapshot.component,p=this.parentContexts.getOrCreateContext(this.name).children,y=new o2(i,p,s.injector);if(n&&function a2(t){return!!t.resolveComponentFactory}(n)){const _=n.resolveComponentFactory(h);this.activated=s.createComponent(_,s.length,y)}else this.activated=s.createComponent(h,{index:s.length,injector:y,environmentInjector:n??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275dir=Jt({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[er]}),t})();class o2{constructor(e,i,n){this.route=e,this.childContexts=i,this.parent=n}get(e,i){return e===zo?this.route:e===tl?this.childContexts:this.parent.get(e,i)}}let tf=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=Vi({type:t,selectors:[["ng-component"]],standalone:!0,features:[yv],decls:1,vars:0,template:function(i,n){1&i&&ei(0,"router-outlet")},dependencies:[ef],encapsulation:2}),t})();function f_(t,e){return t.providers&&!t._injector&&(t._injector=vh(t.providers,e,`Route: ${t.path}`)),t._injector??e}function sf(t){const e=t.children&&t.children.map(sf),i=e?{...t,children:e}:{...t};return!i.component&&!i.loadComponent&&(e||i.loadChildren)&&i.outlet&&i.outlet!==gt&&(i.component=tf),i}function Vn(t){return t.outlet||gt}function g_(t,e){const i=t.filter(n=>Vn(n)===e);return i.push(...t.filter(n=>Vn(n)!==e)),i}function il(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){const i=e.routeConfig;if(i?._loadedInjector)return i._loadedInjector;if(i?._injector)return i._injector}return null}class d2{constructor(e,i,n,s){this.routeReuseStrategy=e,this.futureState=i,this.currState=n,this.forwardEvent=s}activate(e){const i=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(i,n,e),Zp(this.futureState.root),this.activateChildRoutes(i,n,e)}deactivateChildRoutes(e,i,n){const s=Wo(i);e.children.forEach(o=>{const h=o.value.outlet;this.deactivateRoutes(o,s[h],n),delete s[h]}),ji(s,(o,h)=>{this.deactivateRouteAndItsChildren(o,n)})}deactivateRoutes(e,i,n){const s=e.value,o=i?i.value:null;if(s===o)if(s.component){const h=n.getContext(s.outlet);h&&this.deactivateChildRoutes(e,i,h.children)}else this.deactivateChildRoutes(e,i,n);else o&&this.deactivateRouteAndItsChildren(i,n)}deactivateRouteAndItsChildren(e,i){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,i):this.deactivateRouteAndOutlet(e,i)}detachAndStoreRouteSubtree(e,i){const n=i.getContext(e.value.outlet),s=n&&e.value.component?n.children:i,o=Wo(e);for(const h of Object.keys(o))this.deactivateRouteAndItsChildren(o[h],s);if(n&&n.outlet){const h=n.outlet.detach(),p=n.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:h,route:e,contexts:p})}}deactivateRouteAndOutlet(e,i){const n=i.getContext(e.value.outlet),s=n&&e.value.component?n.children:i,o=Wo(e);for(const h of Object.keys(o))this.deactivateRouteAndItsChildren(o[h],s);n&&(n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated()),n.attachRef=null,n.resolver=null,n.route=null)}activateChildRoutes(e,i,n){const s=Wo(i);e.children.forEach(o=>{this.activateRoutes(o,s[o.value.outlet],n),this.forwardEvent(new GF(o.value.snapshot))}),e.children.length&&this.forwardEvent(new XF(e.value.snapshot))}activateRoutes(e,i,n){const s=e.value,o=i?i.value:null;if(Zp(s),s===o)if(s.component){const h=n.getOrCreateContext(s.outlet);this.activateChildRoutes(e,i,h.children)}else this.activateChildRoutes(e,i,n);else if(s.component){const h=n.getOrCreateContext(s.outlet);if(this.routeReuseStrategy.shouldAttach(s.snapshot)){const p=this.routeReuseStrategy.retrieve(s.snapshot);this.routeReuseStrategy.store(s.snapshot,null),h.children.onOutletReAttached(p.contexts),h.attachRef=p.componentRef,h.route=p.route.value,h.outlet&&h.outlet.attach(p.componentRef,p.route.value),Zp(p.route.value),this.activateChildRoutes(e,null,h.children)}else{const p=il(s.snapshot),y=p?.get(Ma)??null;h.attachRef=null,h.route=s,h.resolver=y,h.injector=p,h.outlet&&h.outlet.activateWith(s,h.injector),this.activateChildRoutes(e,null,h.children)}}else this.activateChildRoutes(e,null,n)}}class m_{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class rc{constructor(e,i){this.component=e,this.route=i}}function p2(t,e,i){const n=t._root;return nl(n,e?e._root:null,i,[n.value])}function jo(t,e){const i=Symbol(),n=e.get(t,i);return n===i?"function"!=typeof t||function sC(t){return null!==oi(t)}(t)?e.get(t):t:n}function nl(t,e,i,n,s={canDeactivateChecks:[],canActivateChecks:[]}){const o=Wo(e);return t.children.forEach(h=>{(function g2(t,e,i,n,s={canDeactivateChecks:[],canActivateChecks:[]}){const o=t.value,h=e?e.value:null,p=i?i.getContext(t.value.outlet):null;if(h&&o.routeConfig===h.routeConfig){const y=function m2(t,e,i){if("function"==typeof i)return i(t,e);switch(i){case"pathParamsChange":return!Rr(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Rr(t.url,e.url)||!Ms(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!qp(t,e)||!Ms(t.queryParams,e.queryParams);default:return!qp(t,e)}}(h,o,o.routeConfig.runGuardsAndResolvers);y?s.canActivateChecks.push(new m_(n)):(o.data=h.data,o._resolvedData=h._resolvedData),nl(t,e,o.component?p?p.children:null:i,n,s),y&&p&&p.outlet&&p.outlet.isActivated&&s.canDeactivateChecks.push(new rc(p.outlet.component,h))}else h&&sl(e,p,s),s.canActivateChecks.push(new m_(n)),nl(t,null,o.component?p?p.children:null:i,n,s)})(h,o[h.value.outlet],i,n.concat([h.value]),s),delete o[h.value.outlet]}),ji(o,(h,p)=>sl(h,i.getContext(p),s)),s}function sl(t,e,i){const n=Wo(t),s=t.value;ji(n,(o,h)=>{sl(o,s.component?e?e.children.getContext(h):null:e,i)}),i.canDeactivateChecks.push(new rc(s.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,s))}function rl(t){return"function"==typeof t}function rf(t){return t instanceof Yh||"EmptyError"===t?.name}const oc=Symbol("INITIAL_VALUE");function Uo(){return _s(t=>Rp(t.map(e=>e.pipe(Lr(1),Lb(oc)))).pipe(ee(e=>{for(const i of e)if(!0!==i){if(i===oc)return oc;if(!1===i||i instanceof cr)return i}return!0}),Xs(e=>e!==oc),Lr(1)))}function y_(t){return function En(...t){return gn(t)}(Qi(e=>{if(Nr(e))throw c_(0,e)}),ee(e=>!0===e))}const af={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function x_(t,e,i,n,s){const o=lf(t,e,i);return o.matched?function F2(t,e,i,n){const s=e.canMatch;return s&&0!==s.length?Je(s.map(h=>{const p=jo(h,t);return hr(function M2(t){return t&&rl(t.canMatch)}(p)?p.canMatch(e,i):t.runInContext(()=>p(e,i)))})).pipe(Uo(),y_()):Je(!0)}(n=f_(e,n),e,i).pipe(ee(h=>!0===h?o:{...af})):Je(o)}function lf(t,e,i){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||i.length>0)?{...af}:{matched:!0,consumedSegments:[],remainingSegments:i,parameters:{},positionalParamSegments:{}};const s=(e.matcher||fF)(i,t,e);if(!s)return{...af};const o={};ji(s.posParams,(p,y)=>{o[y]=p.path});const h=s.consumed.length>0?{...o,...s.consumed[s.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:s.consumed,remainingSegments:i.slice(s.consumed.length),parameters:h,positionalParamSegments:s.posParams??{}}}function ac(t,e,i,n){if(i.length>0&&function R2(t,e,i){return i.some(n=>lc(t,e,n)&&Vn(n)!==gt)}(t,i,n)){const o=new Tt(e,function O2(t,e,i,n){const s={};s[gt]=n,n._sourceSegment=t,n._segmentIndexShift=e.length;for(const o of i)if(""===o.path&&Vn(o)!==gt){const h=new Tt([],{});h._sourceSegment=t,h._segmentIndexShift=e.length,s[Vn(o)]=h}return s}(t,e,n,new Tt(i,t.children)));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:[]}}if(0===i.length&&function N2(t,e,i){return i.some(n=>lc(t,e,n))}(t,i,n)){const o=new Tt(t.segments,function L2(t,e,i,n,s){const o={};for(const h of n)if(lc(t,i,h)&&!s[Vn(h)]){const p=new Tt([],{});p._sourceSegment=t,p._segmentIndexShift=e.length,o[Vn(h)]=p}return{...s,...o}}(t,e,i,n,t.children));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:i}}const s=new Tt(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:i}}function lc(t,e,i){return(!(t.hasChildren()||e.length>0)||"full"!==i.pathMatch)&&""===i.path}function v_(t,e,i,n){return!!(Vn(t)===n||n!==gt&&lc(e,i,t))&&("**"===t.path||lf(e,t,i).matched)}function b_(t,e,i){return 0===e.length&&!t.children[i]}const hc=!1;class cc{constructor(e){this.segmentGroup=e||null}}class __{constructor(e){this.urlTree=e}}function ol(t){return Xa(new cc(t))}function M_(t){return Xa(new __(t))}class z2{constructor(e,i,n,s,o){this.injector=e,this.configLoader=i,this.urlSerializer=n,this.urlTree=s,this.config=o,this.allowRedirects=!0}apply(){const e=ac(this.urlTree.root,[],[],this.config).segmentGroup,i=new Tt(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,i,gt).pipe(ee(o=>this.createUrlTree(ec(o),this.urlTree.queryParams,this.urlTree.fragment))).pipe(lr(o=>{if(o instanceof __)return this.allowRedirects=!1,this.match(o.urlTree);throw o instanceof cc?this.noMatchError(o):o}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,gt).pipe(ee(s=>this.createUrlTree(ec(s),e.queryParams,e.fragment))).pipe(lr(s=>{throw s instanceof cc?this.noMatchError(s):s}))}noMatchError(e){return new he(4002,hc)}createUrlTree(e,i,n){const s=jp(e);return new cr(s,i,n)}expandSegmentGroup(e,i,n,s){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(e,i,n).pipe(ee(o=>new Tt([],o))):this.expandSegment(e,n,i,n.segments,s,!0)}expandChildren(e,i,n){const s=[];for(const o of Object.keys(n.children))"primary"===o?s.unshift(o):s.push(o);return K(s).pipe(Or(o=>{const h=n.children[o],p=g_(i,o);return this.expandSegmentGroup(e,p,h,o).pipe(ee(y=>({segment:y,outlet:o})))}),Rb((o,h)=>(o[h.outlet]=h.segment,o),{}),Nb())}expandSegment(e,i,n,s,o,h){return K(n).pipe(Or(p=>this.expandSegmentAgainstRoute(e,i,n,p,s,o,h).pipe(lr(_=>{if(_ instanceof cc)return Je(null);throw _}))),ar(p=>!!p),lr((p,y)=>{if(rf(p))return b_(i,s,o)?Je(new Tt([],{})):ol(i);throw p}))}expandSegmentAgainstRoute(e,i,n,s,o,h,p){return v_(s,i,o,h)?void 0===s.redirectTo?this.matchSegmentAgainstRoute(e,i,s,o,h):p&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,s,o,h):ol(i):ol(i)}expandSegmentAgainstRouteUsingRedirect(e,i,n,s,o,h){return"**"===s.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,s,h):this.expandRegularSegmentAgainstRouteUsingRedirect(e,i,n,s,o,h)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,i,n,s){const o=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?M_(o):this.lineralizeSegments(n,o).pipe(C(h=>{const p=new Tt(h,{});return this.expandSegment(e,p,i,h,s,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,i,n,s,o,h){const{matched:p,consumedSegments:y,remainingSegments:_,positionalParamSegments:T}=lf(i,s,o);if(!p)return ol(i);const I=this.applyRedirectCommands(y,s.redirectTo,T);return s.redirectTo.startsWith("/")?M_(I):this.lineralizeSegments(s,I).pipe(C(R=>this.expandSegment(e,i,n,R.concat(_),h,!1)))}matchSegmentAgainstRoute(e,i,n,s,o){return"**"===n.path?(e=f_(n,e),n.loadChildren?(n._loadedRoutes?Je({routes:n._loadedRoutes,injector:n._loadedInjector}):this.configLoader.loadChildren(e,n)).pipe(ee(p=>(n._loadedRoutes=p.routes,n._loadedInjector=p.injector,new Tt(s,{})))):Je(new Tt(s,{}))):x_(i,n,s,e).pipe(_s(({matched:h,consumedSegments:p,remainingSegments:y})=>h?this.getChildConfig(e=n._injector??e,n,s).pipe(C(T=>{const I=T.injector??e,R=T.routes,{segmentGroup:U,slicedSegments:X}=ac(i,p,y,R),J=new Tt(U.segments,U.children);if(0===X.length&&J.hasChildren())return this.expandChildren(I,R,J).pipe(ee(ue=>new Tt(p,ue)));if(0===R.length&&0===X.length)return Je(new Tt(p,{}));const re=Vn(n)===o;return this.expandSegment(I,J,R,X,re?gt:o,!0).pipe(ee(be=>new Tt(p.concat(be.segments),be.children)))})):ol(i)))}getChildConfig(e,i,n){return i.children?Je({routes:i.children,injector:e}):i.loadChildren?void 0!==i._loadedRoutes?Je({routes:i._loadedRoutes,injector:i._loadedInjector}):function I2(t,e,i,n){const s=e.canLoad;return void 0===s||0===s.length?Je(!0):Je(s.map(h=>{const p=jo(h,t);return hr(function x2(t){return t&&rl(t.canLoad)}(p)?p.canLoad(e,i):t.runInContext(()=>p(e,i)))})).pipe(Uo(),y_())}(e,i,n).pipe(C(s=>s?this.configLoader.loadChildren(e,i).pipe(Qi(o=>{i._loadedRoutes=o.routes,i._loadedInjector=o.injector})):function V2(t){return Xa(u_(hc,3))}())):Je({routes:[],injector:e})}lineralizeSegments(e,i){let n=[],s=i.root;for(;;){if(n=n.concat(s.segments),0===s.numberOfChildren)return Je(n);if(s.numberOfChildren>1||!s.children[gt])return e.redirectTo,Xa(new he(4e3,hc));s=s.children[gt]}}applyRedirectCommands(e,i,n){return this.applyRedirectCreateUrlTree(i,this.urlSerializer.parse(i),e,n)}applyRedirectCreateUrlTree(e,i,n,s){const o=this.createSegmentGroup(e,i.root,n,s);return new cr(o,this.createQueryParams(i.queryParams,this.urlTree.queryParams),i.fragment)}createQueryParams(e,i){const n={};return ji(e,(s,o)=>{if("string"==typeof s&&s.startsWith(":")){const p=s.substring(1);n[o]=i[p]}else n[o]=s}),n}createSegmentGroup(e,i,n,s){const o=this.createSegments(e,i.segments,n,s);let h={};return ji(i.children,(p,y)=>{h[y]=this.createSegmentGroup(e,p,n,s)}),new Tt(o,h)}createSegments(e,i,n,s){return i.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,s):this.findOrReturn(o,n))}findPosParam(e,i,n){const s=n[i.path.substring(1)];if(!s)throw new he(4001,hc);return s}findOrReturn(e,i){let n=0;for(const s of i){if(s.path===e.path)return i.splice(n),s;n++}return e}}class U2{}class X2{constructor(e,i,n,s,o,h,p){this.injector=e,this.rootComponentType=i,this.config=n,this.urlTree=s,this.url=o,this.paramsInheritanceStrategy=h,this.urlSerializer=p}recognize(){const e=ac(this.urlTree.root,[],[],this.config.filter(i=>void 0===i.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,gt).pipe(ee(i=>{if(null===i)return null;const n=new nc([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},gt,this.rootComponentType,null,this.urlTree.root,-1,{}),s=new $s(n,i),o=new l_(this.url,s);return this.inheritParamsAndData(o._root),o}))}inheritParamsAndData(e){const i=e.value,n=a_(i,this.paramsInheritanceStrategy);i.params=Object.freeze(n.params),i.data=Object.freeze(n.data),e.children.forEach(s=>this.inheritParamsAndData(s))}processSegmentGroup(e,i,n,s){return 0===n.segments.length&&n.hasChildren()?this.processChildren(e,i,n):this.processSegment(e,i,n,n.segments,s)}processChildren(e,i,n){return K(Object.keys(n.children)).pipe(Or(s=>{const o=n.children[s],h=g_(i,s);return this.processSegmentGroup(e,h,o,s)}),Rb((s,o)=>s&&o?(s.push(...o),s):null),function uF(t,e=!1){return O((i,n)=>{let s=0;i.subscribe(q(n,o=>{const h=t(o,s++);(h||e)&&n.next(o),!h&&n.complete()}))})}(s=>null!==s),$h(null),Nb(),ee(s=>{if(null===s)return null;const o=w_(s);return function $2(t){t.sort((e,i)=>e.value.outlet===gt?-1:i.value.outlet===gt?1:e.value.outlet.localeCompare(i.value.outlet))}(o),o}))}processSegment(e,i,n,s,o){return K(i).pipe(Or(h=>this.processSegmentAgainstRoute(h._injector??e,h,n,s,o)),ar(h=>!!h),lr(h=>{if(rf(h))return b_(n,s,o)?Je([]):Je(null);throw h}))}processSegmentAgainstRoute(e,i,n,s,o){if(i.redirectTo||!v_(i,n,s,o))return Je(null);let h;if("**"===i.path){const p=s.length>0?Wb(s).parameters:{},y=S_(n)+s.length;h=Je({snapshot:new nc(s,p,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,D_(i),Vn(i),i.component??i._loadedComponent??null,i,T_(n),y,P_(i)),consumedSegments:[],remainingSegments:[]})}else h=x_(n,i,s,e).pipe(ee(({matched:p,consumedSegments:y,remainingSegments:_,parameters:T})=>{if(!p)return null;const I=S_(n)+y.length;return{snapshot:new nc(y,T,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,D_(i),Vn(i),i.component??i._loadedComponent??null,i,T_(n),I,P_(i)),consumedSegments:y,remainingSegments:_}}));return h.pipe(_s(p=>{if(null===p)return Je(null);const{snapshot:y,consumedSegments:_,remainingSegments:T}=p;e=i._injector??e;const I=i._loadedInjector??e,R=function G2(t){return t.children?t.children:t.loadChildren?t._loadedRoutes:[]}(i),{segmentGroup:U,slicedSegments:X}=ac(n,_,T,R.filter(re=>void 0===re.redirectTo));if(0===X.length&&U.hasChildren())return this.processChildren(I,R,U).pipe(ee(re=>null===re?null:[new $s(y,re)]));if(0===R.length&&0===X.length)return Je([new $s(y,[])]);const J=Vn(i)===o;return this.processSegment(I,R,U,X,J?gt:o).pipe(ee(re=>null===re?null:[new $s(y,re)]))}))}}function K2(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function w_(t){const e=[],i=new Set;for(const n of t){if(!K2(n)){e.push(n);continue}const s=e.find(o=>n.value.routeConfig===o.value.routeConfig);void 0!==s?(s.children.push(...n.children),i.add(s)):e.push(n)}for(const n of i){const s=w_(n.children);e.push(new $s(n.value,s))}return e.filter(n=>!i.has(n))}function T_(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function S_(t){let e=t,i=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,i+=e._segmentIndexShift??0;return i-1}function D_(t){return t.data||{}}function P_(t){return t.resolve||{}}function k_(t){return"string"==typeof t.title||null===t.title}function hf(t){return _s(e=>{const i=t(e);return i?K(i).pipe(ee(()=>e)):Je(e)})}const Ho=new We("ROUTES");let cf=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=Dt(a0)}loadComponent(i){if(this.componentLoaders.get(i))return this.componentLoaders.get(i);if(i._loadedComponent)return Je(i._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(i);const n=hr(i.loadComponent()).pipe(ee(A_),Qi(o=>{this.onLoadEndListener&&this.onLoadEndListener(i),i._loadedComponent=o}),Vp(()=>{this.componentLoaders.delete(i)})),s=new Fb(n,()=>new Y).pipe(Np());return this.componentLoaders.set(i,s),s}loadChildren(i,n){if(this.childrenLoaders.get(n))return this.childrenLoaders.get(n);if(n._loadedRoutes)return Je({routes:n._loadedRoutes,injector:n._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(n);const o=this.loadModuleFactoryOrRoutes(n.loadChildren).pipe(ee(p=>{this.onLoadEndListener&&this.onLoadEndListener(n);let y,_,T=!1;Array.isArray(p)?_=p:(y=p.create(i).injector,_=Vb(y.get(Ho,[],it.Self|it.Optional)));return{routes:_.map(sf),injector:y}}),Vp(()=>{this.childrenLoaders.delete(n)})),h=new Fb(o,()=>new Y).pipe(Np());return this.childrenLoaders.set(n,h),h}loadModuleFactoryOrRoutes(i){return hr(i()).pipe(ee(A_),C(n=>n instanceof gv||Array.isArray(n)?Je(n):K(this.compiler.compileModuleAsync(n))))}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=Ie({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function A_(t){return function nL(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let dc=(()=>{class t{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Y,this.configLoader=Dt(cf),this.environmentInjector=Dt(Rs),this.urlSerializer=Dt(Ka),this.rootContexts=Dt(tl),this.navigationId=0,this.afterPreactivation=()=>Je(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=s=>this.events.next(new HF(s)),this.configLoader.onLoadStartListener=s=>this.events.next(new UF(s))}complete(){this.transitions?.complete()}handleNavigationRequest(i){const n=++this.navigationId;this.transitions?.next({...this.transitions.value,...i,id:n})}setupNavigations(i){return this.transitions=new ss({id:0,targetPageId:0,currentUrlTree:i.currentUrlTree,currentRawUrl:i.currentUrlTree,extractedUrl:i.urlHandlingStrategy.extract(i.currentUrlTree),urlAfterRedirects:i.urlHandlingStrategy.extract(i.currentUrlTree),rawUrl:i.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Ja,restoredState:null,currentSnapshot:i.routerState.snapshot,targetSnapshot:null,currentRouterState:i.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Xs(n=>0!==n.id),ee(n=>({...n,extractedUrl:i.urlHandlingStrategy.extract(n.rawUrl)})),_s(n=>{let s=!1,o=!1;return Je(n).pipe(Qi(h=>{this.currentNavigation={id:h.id,initialUrl:h.rawUrl,extractedUrl:h.extractedUrl,trigger:h.source,extras:h.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),_s(h=>{const p=i.browserUrlTree.toString(),y=!i.navigated||h.extractedUrl.toString()!==p||p!==i.currentUrlTree.toString();if(!y&&"reload"!==(h.extras.onSameUrlNavigation??i.onSameUrlNavigation)){const T="";return this.events.next(new ic(h.id,i.serializeUrl(n.rawUrl),T,0)),i.rawUrlTree=h.rawUrl,h.resolve(null),g}if(i.urlHandlingStrategy.shouldProcessUrl(h.rawUrl))return I_(h.source)&&(i.browserUrlTree=h.extractedUrl),Je(h).pipe(_s(T=>{const I=this.transitions?.getValue();return this.events.next(new Xp(T.id,this.urlSerializer.serialize(T.extractedUrl),T.source,T.restoredState)),I!==this.transitions?.getValue()?g:Promise.resolve(T)}),function j2(t,e,i,n){return _s(s=>function W2(t,e,i,n,s){return new z2(t,e,i,n,s).apply()}(t,e,i,s.extractedUrl,n).pipe(ee(o=>({...s,urlAfterRedirects:o}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,i.config),Qi(T=>{this.currentNavigation={...this.currentNavigation,finalUrl:T.urlAfterRedirects},n.urlAfterRedirects=T.urlAfterRedirects}),function Z2(t,e,i,n,s){return C(o=>function Y2(t,e,i,n,s,o,h="emptyOnly"){return new X2(t,e,i,n,s,h,o).recognize().pipe(_s(p=>null===p?function H2(t){return new Xt(e=>e.error(t))}(new U2):Je(p)))}(t,e,i,o.urlAfterRedirects,n.serialize(o.urlAfterRedirects),n,s).pipe(ee(h=>({...o,targetSnapshot:h}))))}(this.environmentInjector,this.rootComponentType,i.config,this.urlSerializer,i.paramsInheritanceStrategy),Qi(T=>{if(n.targetSnapshot=T.targetSnapshot,"eager"===i.urlUpdateStrategy){if(!T.extras.skipLocationChange){const R=i.urlHandlingStrategy.merge(T.urlAfterRedirects,T.rawUrl);i.setBrowserUrl(R,T)}i.browserUrlTree=T.urlAfterRedirects}const I=new BF(T.id,this.urlSerializer.serialize(T.extractedUrl),this.urlSerializer.serialize(T.urlAfterRedirects),T.targetSnapshot);this.events.next(I)}));if(y&&i.urlHandlingStrategy.shouldProcessUrl(i.rawUrlTree)){const{id:T,extractedUrl:I,source:R,restoredState:U,extras:X}=h,J=new Xp(T,this.urlSerializer.serialize(I),R,U);this.events.next(J);const re=o_(I,this.rootComponentType).snapshot;return Je(n={...h,targetSnapshot:re,urlAfterRedirects:I,extras:{...X,skipLocationChange:!1,replaceUrl:!1}})}{const T="";return this.events.next(new ic(h.id,i.serializeUrl(n.extractedUrl),T,1)),i.rawUrlTree=h.rawUrl,h.resolve(null),g}}),Qi(h=>{const p=new VF(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(p)}),ee(h=>n={...h,guards:p2(h.targetSnapshot,h.currentSnapshot,this.rootContexts)}),function w2(t,e){return C(i=>{const{targetSnapshot:n,currentSnapshot:s,guards:{canActivateChecks:o,canDeactivateChecks:h}}=i;return 0===h.length&&0===o.length?Je({...i,guardsResult:!0}):function T2(t,e,i,n){return K(t).pipe(C(s=>function A2(t,e,i,n,s){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?Je(o.map(p=>{const y=il(e)??s,_=jo(p,y);return hr(function _2(t){return t&&rl(t.canDeactivate)}(_)?_.canDeactivate(t,e,i,n):y.runInContext(()=>_(t,e,i,n))).pipe(ar())})).pipe(Uo()):Je(!0)}(s.component,s.route,i,e,n)),ar(s=>!0!==s,!0))}(h,n,s,t).pipe(C(p=>p&&function y2(t){return"boolean"==typeof t}(p)?function S2(t,e,i,n){return K(e).pipe(Or(s=>Xh(function P2(t,e){return null!==t&&e&&e(new YF(t)),Je(!0)}(s.route.parent,n),function D2(t,e){return null!==t&&e&&e(new $F(t)),Je(!0)}(s.route,n),function E2(t,e,i){const n=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(h=>function f2(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(h)).filter(h=>null!==h).map(h=>Ib(()=>Je(h.guards.map(y=>{const _=il(h.node)??i,T=jo(y,_);return hr(function b2(t){return t&&rl(t.canActivateChild)}(T)?T.canActivateChild(n,t):_.runInContext(()=>T(n,t))).pipe(ar())})).pipe(Uo())));return Je(o).pipe(Uo())}(t,s.path,i),function k2(t,e,i){const n=e.routeConfig?e.routeConfig.canActivate:null;if(!n||0===n.length)return Je(!0);const s=n.map(o=>Ib(()=>{const h=il(e)??i,p=jo(o,h);return hr(function v2(t){return t&&rl(t.canActivate)}(p)?p.canActivate(e,t):h.runInContext(()=>p(e,t))).pipe(ar())}));return Je(s).pipe(Uo())}(t,s.route,i))),ar(s=>!0!==s,!0))}(n,o,t,e):Je(p)),ee(p=>({...i,guardsResult:p})))})}(this.environmentInjector,h=>this.events.next(h)),Qi(h=>{if(n.guardsResult=h.guardsResult,Nr(h.guardsResult))throw c_(0,h.guardsResult);const p=new WF(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot,!!h.guardsResult);this.events.next(p)}),Xs(h=>!!h.guardsResult||(i.restoreHistory(h),this.cancelNavigationTransition(h,"",3),!1)),hf(h=>{if(h.guards.canActivateChecks.length)return Je(h).pipe(Qi(p=>{const y=new zF(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(y)}),_s(p=>{let y=!1;return Je(p).pipe(function q2(t,e){return C(i=>{const{targetSnapshot:n,guards:{canActivateChecks:s}}=i;if(!s.length)return Je(i);let o=0;return K(s).pipe(Or(h=>function J2(t,e,i,n){const s=t.routeConfig,o=t._resolve;return void 0!==s?.title&&!k_(s)&&(o[$a]=s.title),function eL(t,e,i,n){const s=function tL(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===s.length)return Je({});const o={};return K(s).pipe(C(h=>function iL(t,e,i,n){const s=il(e)??n,o=jo(t,s);return hr(o.resolve?o.resolve(e,i):s.runInContext(()=>o(e,i)))}(t[h],e,i,n).pipe(ar(),Qi(p=>{o[h]=p}))),Bp(1),function dF(t){return ee(()=>t)}(o),lr(h=>rf(h)?g:Xa(h)))}(o,t,e,n).pipe(ee(h=>(t._resolvedData=h,t.data=a_(t,i).resolve,s&&k_(s)&&(t.data[$a]=s.title),null)))}(h.route,n,t,e)),Qi(()=>o++),Bp(1),C(h=>o===s.length?Je(i):g))})}(i.paramsInheritanceStrategy,this.environmentInjector),Qi({next:()=>y=!0,complete:()=>{y||(i.restoreHistory(p),this.cancelNavigationTransition(p,"",2))}}))}),Qi(p=>{const y=new jF(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(y)}))}),hf(h=>{const p=y=>{const _=[];y.routeConfig?.loadComponent&&!y.routeConfig._loadedComponent&&_.push(this.configLoader.loadComponent(y.routeConfig).pipe(Qi(T=>{y.component=T}),ee(()=>{})));for(const T of y.children)_.push(...p(T));return _};return Rp(p(h.targetSnapshot.root)).pipe($h(),Lr(1))}),hf(()=>this.afterPreactivation()),ee(h=>{const p=function i2(t,e,i){const n=el(t,e._root,i?i._root:void 0);return new r_(n,e)}(i.routeReuseStrategy,h.targetSnapshot,h.currentRouterState);return n={...h,targetRouterState:p}}),Qi(h=>{i.currentUrlTree=h.urlAfterRedirects,i.rawUrlTree=i.urlHandlingStrategy.merge(h.urlAfterRedirects,h.rawUrl),i.routerState=h.targetRouterState,"deferred"===i.urlUpdateStrategy&&(h.extras.skipLocationChange||i.setBrowserUrl(i.rawUrlTree,h),i.browserUrlTree=h.urlAfterRedirects)}),((t,e,i)=>ee(n=>(new d2(e,n.targetRouterState,n.currentRouterState,i).activate(t),n)))(this.rootContexts,i.routeReuseStrategy,h=>this.events.next(h)),Lr(1),Qi({next:h=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,i.navigated=!0,this.events.next(new Br(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(i.currentUrlTree))),i.titleStrategy?.updateTitle(h.targetRouterState.snapshot),h.resolve(!0)},complete:()=>{s=!0}}),Vp(()=>{s||o||this.cancelNavigationTransition(n,"",1),this.currentNavigation?.id===n.id&&(this.currentNavigation=null)}),lr(h=>{if(o=!0,p_(h)){d_(h)||(i.navigated=!0,i.restoreHistory(n,!0));const p=new tc(n.id,this.urlSerializer.serialize(n.extractedUrl),h.message,h.cancellationCode);if(this.events.next(p),d_(h)){const y=i.urlHandlingStrategy.merge(h.url,i.rawUrlTree),_={skipLocationChange:n.extras.skipLocationChange,replaceUrl:"eager"===i.urlUpdateStrategy||I_(n.source)};i.scheduleNavigation(y,Ja,null,_,{resolve:n.resolve,reject:n.reject,promise:n.promise})}else n.resolve(!1)}else{i.restoreHistory(n,!0);const p=new $p(n.id,this.urlSerializer.serialize(n.extractedUrl),h,n.targetSnapshot??void 0);this.events.next(p);try{n.resolve(i.errorHandler(h))}catch(y){n.reject(y)}}return g}))}))}cancelNavigationTransition(i,n,s){const o=new tc(i.id,this.urlSerializer.serialize(i.extractedUrl),n,s);this.events.next(o),i.resolve(!1)}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=Ie({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function I_(t){return t!==Ja}let F_=(()=>{class t{buildTitle(i){let n,s=i.root;for(;void 0!==s;)n=this.getResolvedTitleForRoute(s)??n,s=s.children.find(o=>o.outlet===gt);return n}getResolvedTitleForRoute(i){return i.data[$a]}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=Ie({token:t,factory:function(){return Dt(sL)},providedIn:"root"}),t})(),sL=(()=>{class t extends F_{constructor(i){super(),this.title=i}updateTitle(i){const n=this.buildTitle(i);void 0!==n&&this.title.setTitle(n)}}return t.\u0275fac=function(i){return new(i||t)(Oe(Pb))},t.\u0275prov=Ie({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),rL=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=Ie({token:t,factory:function(){return Dt(aL)},providedIn:"root"}),t})();class oL{shouldDetach(e){return!1}store(e,i){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,i){return e.routeConfig===i.routeConfig}}let aL=(()=>{class t extends oL{}return t.\u0275fac=function(){let e;return function(n){return(e||(e=function Wg(t){return ks(()=>{const e=t.prototype.constructor,i=e[As]||hu(e),n=Object.prototype;let s=Object.getPrototypeOf(t.prototype).constructor;for(;s&&s!==n;){const o=s[As]||hu(s);if(o&&o!==i)return o;s=Object.getPrototypeOf(s)}return o=>new o})}(t)))(n||t)}}(),t.\u0275prov=Ie({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const pc=new We("",{providedIn:"root",factory:()=>({})});let hL=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=Ie({token:t,factory:function(){return Dt(cL)},providedIn:"root"}),t})(),cL=(()=>{class t{shouldProcessUrl(i){return!0}extract(i){return i}merge(i,n){return i}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=Ie({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function uL(t){throw t}function dL(t,e,i){return e.parse("/")}const pL={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},fL={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Mn=(()=>{class t{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=Dt(Bk),this.isNgZoneEnabled=!1,this.options=Dt(pc,{optional:!0})||{},this.errorHandler=this.options.errorHandler||uL,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||dL,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=Dt(hL),this.routeReuseStrategy=Dt(rL),this.urlCreationStrategy=Dt(JF),this.titleStrategy=Dt(F_),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=Vb(Dt(Ho,{optional:!0})??[]),this.navigationTransitions=Dt(dc),this.urlSerializer=Dt(Ka),this.location=Dt(up),this.isNgZoneEnabled=Dt(ai)instanceof ai&&ai.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new cr,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=o_(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(i=>{this.lastSuccessfulId=i.id,this.currentPageId=this.browserPageId??0},i=>{this.console.warn(`Unhandled Navigation Error: ${i}`)})}resetRootComponentType(i){this.routerState.root.component=i,this.navigationTransitions.rootComponentType=i}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const i=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Ja,i)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(i=>{const n="popstate"===i.type?"popstate":"hashchange";"popstate"===n&&setTimeout(()=>{this.navigateToSyncWithBrowser(i.url,n,i.state)},0)}))}navigateToSyncWithBrowser(i,n,s){const o={replaceUrl:!0},h=s?.navigationId?s:null;if(s){const y={...s};delete y.navigationId,delete y.\u0275routerPageId,0!==Object.keys(y).length&&(o.state=y)}const p=this.parseUrl(i);this.scheduleNavigation(p,n,h,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(i){this.config=i.map(sf),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(i,n={}){const{relativeTo:s,queryParams:o,fragment:h,queryParamsHandling:p,preserveFragment:y}=n,_=y?this.currentUrlTree.fragment:h;let T=null;switch(p){case"merge":T={...this.currentUrlTree.queryParams,...o};break;case"preserve":T=this.currentUrlTree.queryParams;break;default:T=o||null}return null!==T&&(T=this.removeEmptyProps(T)),this.urlCreationStrategy.createUrlTree(s,this.routerState,this.currentUrlTree,i,T,_??null)}navigateByUrl(i,n={skipLocationChange:!1}){const s=Nr(i)?i:this.parseUrl(i),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,Ja,null,n)}navigate(i,n={skipLocationChange:!1}){return function gL(t){for(let e=0;e<t.length;e++){const i=t[e];if(null==i)throw new he(4008,false)}}(i),this.navigateByUrl(this.createUrlTree(i,n),n)}serializeUrl(i){return this.urlSerializer.serialize(i)}parseUrl(i){let n;try{n=this.urlSerializer.parse(i)}catch(s){n=this.malformedUriErrorHandler(s,this.urlSerializer,i)}return n}isActive(i,n){let s;if(s=!0===n?{...pL}:!1===n?{...fL}:n,Nr(i))return jb(this.currentUrlTree,i,s);const o=this.parseUrl(i);return jb(this.currentUrlTree,o,s)}removeEmptyProps(i){return Object.keys(i).reduce((n,s)=>{const o=i[s];return null!=o&&(n[s]=o),n},{})}scheduleNavigation(i,n,s,o,h){if(this.disposed)return Promise.resolve(!1);let p,y,_,T;return h?(p=h.resolve,y=h.reject,_=h.promise):_=new Promise((I,R)=>{p=I,y=R}),T="computed"===this.canceledNavigationResolution?s&&s.\u0275routerPageId?s.\u0275routerPageId:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:T,source:n,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:i,extras:o,resolve:p,reject:y,promise:_,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),_.catch(I=>Promise.reject(I))}setBrowserUrl(i,n){const s=this.urlSerializer.serialize(i);if(this.location.isCurrentPathEqualTo(s)||n.extras.replaceUrl){const h={...n.extras.state,...this.generateNgRouterState(n.id,this.browserPageId)};this.location.replaceState(s,"",h)}else{const o={...n.extras.state,...this.generateNgRouterState(n.id,n.targetPageId)};this.location.go(s,"",o)}}restoreHistory(i,n=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-(this.browserPageId??this.currentPageId);0!==o?this.location.historyGo(o):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===o&&(this.resetState(i),this.browserUrlTree=i.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(n&&this.resetState(i),this.resetUrlToCurrentUrlTree())}resetState(i){this.routerState=i.currentRouterState,this.currentUrlTree=i.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,i.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(i,n){return"computed"===this.canceledNavigationResolution?{navigationId:i,\u0275routerPageId:n}:{navigationId:i}}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=Ie({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class L_{}let xL=(()=>{class t{constructor(i,n,s,o,h){this.router=i,this.injector=s,this.preloadingStrategy=o,this.loader=h}setUpPreloading(){this.subscription=this.router.events.pipe(Xs(i=>i instanceof Br),Or(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(i,n){const s=[];for(const o of n){o.providers&&!o._injector&&(o._injector=vh(o.providers,i,`Route: ${o.path}`));const h=o._injector??i,p=o._loadedInjector??h;(o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent)&&s.push(this.preloadConfig(h,o)),(o.children||o._loadedRoutes)&&s.push(this.processRoutes(p,o.children??o._loadedRoutes))}return K(s).pipe(x())}preloadConfig(i,n){return this.preloadingStrategy.preload(n,()=>{let s;s=n.loadChildren&&void 0===n.canLoad?this.loader.loadChildren(i,n):Je(null);const o=s.pipe(C(h=>null===h?Je(void 0):(n._loadedRoutes=h.routes,n._loadedInjector=h.injector,this.processRoutes(h.injector??i,h.routes))));return n.loadComponent&&!n._loadedComponent?K([o,this.loader.loadComponent(n)]).pipe(x()):o})}}return t.\u0275fac=function(i){return new(i||t)(Oe(Mn),Oe(a0),Oe(Rs),Oe(L_),Oe(cf))},t.\u0275prov=Ie({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const pf=new We("");let O_=(()=>{class t{constructor(i,n,s,o,h={}){this.urlSerializer=i,this.transitions=n,this.viewportScroller=s,this.zone=o,this.options=h,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},h.scrollPositionRestoration=h.scrollPositionRestoration||"disabled",h.anchorScrolling=h.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(i=>{i instanceof Xp?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=i.navigationTrigger,this.restoredId=i.restoredState?i.restoredState.navigationId:0):i instanceof Br&&(this.lastId=i.id,this.scheduleScrollEvent(i,this.urlSerializer.parse(i.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(i=>{i instanceof n_&&(i.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(i.position):i.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(i.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(i,n){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new n_(i,"popstate"===this.lastSource?this.store[this.restoredId]:null,n))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return t.\u0275fac=function(i){!function gy(){throw new Error("invalid")}()},t.\u0275prov=Ie({token:t,factory:t.\u0275fac}),t})();var Cn=(()=>((Cn=Cn||{})[Cn.COMPLETE=0]="COMPLETE",Cn[Cn.FAILED=1]="FAILED",Cn[Cn.REDIRECTING=2]="REDIRECTING",Cn))();const Yo=!1;function ur(t,e){return{\u0275kind:t,\u0275providers:e}}const ff=new We("",{providedIn:"root",factory:()=>!1});function N_(){const t=Dt(Ws);return e=>{const i=t.get(Va);if(e!==i.components[0])return;const n=t.get(Mn),s=t.get(B_);1===t.get(gf)&&n.initialNavigation(),t.get(V_,null,it.Optional)?.setUpPreloading(),t.get(pf,null,it.Optional)?.init(),n.resetRootComponentType(i.componentTypes[0]),s.closed||(s.next(),s.complete(),s.unsubscribe())}}const B_=new We(Yo?"bootstrap done indicator":"",{factory:()=>new Y}),gf=new We(Yo?"initial navigation":"",{providedIn:"root",factory:()=>1});function CL(){let t=[];return t=Yo?[{provide:Kl,multi:!0,useFactory:()=>{const e=Dt(Mn);return()=>e.events.subscribe(i=>{console.group?.(`Router Event: ${i.constructor.name}`),console.log(function KF(t){if(!("type"in t))return`Unknown Router Event: ${t.constructor.name}`;switch(t.type){case 14:return`ActivationEnd(path: '${t.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${t.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${t.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${t.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${t.id}, url: '${t.url}', urlAfterRedirects: '${t.urlAfterRedirects}', state: ${t.state}, shouldActivate: ${t.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${t.id}, url: '${t.url}', urlAfterRedirects: '${t.urlAfterRedirects}', state: ${t.state})`;case 2:return`NavigationCancel(id: ${t.id}, url: '${t.url}')`;case 16:return`NavigationSkipped(id: ${t.id}, url: '${t.url}')`;case 1:return`NavigationEnd(id: ${t.id}, url: '${t.url}', urlAfterRedirects: '${t.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${t.id}, url: '${t.url}', error: ${t.error})`;case 0:return`NavigationStart(id: ${t.id}, url: '${t.url}')`;case 6:return`ResolveEnd(id: ${t.id}, url: '${t.url}', urlAfterRedirects: '${t.urlAfterRedirects}', state: ${t.state})`;case 5:return`ResolveStart(id: ${t.id}, url: '${t.url}', urlAfterRedirects: '${t.urlAfterRedirects}', state: ${t.state})`;case 10:return`RouteConfigLoadEnd(path: ${t.route.path})`;case 9:return`RouteConfigLoadStart(path: ${t.route.path})`;case 4:return`RoutesRecognized(id: ${t.id}, url: '${t.url}', urlAfterRedirects: '${t.urlAfterRedirects}', state: ${t.state})`;case 15:return`Scroll(anchor: '${t.anchor}', position: '${t.position?`${t.position[0]}, ${t.position[1]}`:null}')`}}(i)),console.log(i),console.groupEnd?.()})}}]:[],ur(1,t)}const V_=new We(Yo?"router preloader":"");function wL(t){return ur(0,[{provide:V_,useExisting:xL},{provide:L_,useExisting:t}])}const al=!1,W_=new We(al?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),TL=[up,{provide:Ka,useClass:Wp},Mn,tl,{provide:zo,useFactory:function R_(t){return t.routerState.root},deps:[Mn]},cf,al?{provide:ff,useValue:!0}:[]];function SL(){return new g0("Router",Mn)}let z_=(()=>{class t{constructor(i){}static forRoot(i,n){return{ngModule:t,providers:[TL,al&&n?.enableTracing?CL().\u0275providers:[],{provide:Ho,multi:!0,useValue:i},{provide:W_,useFactory:EL,deps:[[Mn,new da,new pa]]},{provide:pc,useValue:n||{}},n?.useHash?{provide:Fr,useClass:TE}:{provide:Fr,useClass:B0},{provide:pf,useFactory:()=>{const t=Dt(XA),e=Dt(ai),i=Dt(pc),n=Dt(dc),s=Dt(Ka);return i.scrollOffset&&t.setOffset(i.scrollOffset),new O_(s,n,t,e,i)}},n?.preloadingStrategy?wL(n.preloadingStrategy).\u0275providers:[],{provide:g0,multi:!0,useFactory:SL},n?.initialNavigation?AL(n):[],[{provide:j_,useFactory:N_},{provide:f0,multi:!0,useExisting:j_}]]}}static forChild(i){return{ngModule:t,providers:[{provide:Ho,multi:!0,useValue:i}]}}}return t.\u0275fac=function(i){return new(i||t)(Oe(W_,8))},t.\u0275mod=en({type:t}),t.\u0275inj=Be({imports:[tf]}),t})();function EL(t){if(al&&t)throw new he(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function AL(t){return["disabled"===t.initialNavigation?ur(3,[{provide:Ch,multi:!0,useFactory:()=>{const e=Dt(Mn);return()=>{e.setUpLocationChangeListener()}}},{provide:gf,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?ur(2,[{provide:gf,useValue:0},{provide:Ch,multi:!0,deps:[Ws],useFactory:e=>{const i=e.get(CE,Promise.resolve());return()=>i.then(()=>new Promise(n=>{const s=e.get(Mn),o=e.get(B_);(function vL(t,e){t.events.pipe(Xs(i=>i instanceof Br||i instanceof tc||i instanceof $p||i instanceof ic),ee(i=>i instanceof Br||i instanceof ic?Cn.COMPLETE:i instanceof tc&&(0===i.code||1===i.code)?Cn.REDIRECTING:Cn.FAILED),Xs(i=>i!==Cn.REDIRECTING),Lr(1)).subscribe(()=>{e()})})(s,()=>{n(!0)}),e.get(dc).afterPreactivation=()=>(n(!0),o.closed?Je(void 0):o),s.initialNavigation()}))}}]).\u0275providers:[]]}const j_=new We(al?"Router Initializer":"");let mf,FL=(()=>{class t{static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275cmp=Vi({type:t,selectors:[["app-introduction"]],decls:2,vars:0,template:function(n,s){1&n&&(He(0,"p"),Et(1," The prevalence of mental health issues nowadays is a serious issue which has become exasperated due to the COVID-19 pandemic. Our goal is to provide an effective UI/UX design for an app that can improve the quality of life of the elderly population (65+) in Canada currently suffering from mental health issues within the context of COVID-19.\n"),Ve())},styles:["p[_ngcontent-%COMP%]{margin:10px 0;font-size:1.2em;text-align:justify;line-height:1.4}"]})}return t})(),LL=(()=>{class t{static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275cmp=Vi({type:t,selectors:[["app-problem-statement"]],decls:2,vars:0,template:function(n,s){1&n&&(He(0,"p"),Et(1," The COVID-19 pandemic has caused significant long-term economic, social and psychological effects on today's society. Amid the many effects of COVID-19, one of them is the rise of mental health issues among the elderly population. Research shows that depressive symptoms among the elderly increased from 12.5% (from before the pandemic) to 22.6% in June and July 2020 and then increased to 28.5% in November and December 2020 [1]. The rise of depressive symptoms within the elderly population could be attributed to the forced social isolation and feelings of loneliness [1].\n"),Ve())},styles:["p[_ngcontent-%COMP%]{margin:10px 0;font-size:1.2em;text-align:justify;line-height:1.4}"]})}return t})(),OL=(()=>{class t{static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275cmp=Vi({type:t,selectors:[["app-references"]],decls:2,vars:0,template:function(n,s){1&n&&(He(0,"p"),Et(1," [1] D. A. Bafail and D. Bafail, \u201cMental health issues associated with covid-19 among the elderly population: A narrative review,\u201d Cureus, https://www.cureus.com/articles/129254-mental-health-issues-associated-with-covid-19-among-the-elderly-population-a-narrative-review (accessed Feb. 21, 2024).\n"),Ve())},styles:["p[_ngcontent-%COMP%]{margin:10px 0;font-size:1.2em;text-align:justify;line-height:1.4}"]})}return t})(),RL=(()=>{class t{static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275cmp=Vi({type:t,selectors:[["app-solution"]],decls:2,vars:0,template:function(n,s){1&n&&(He(0,"p"),Et(1," In order to address the rise of mental health issues among the elderly population, our team has conducted extensive analysis via online research and online surveys. Our findings show that keeping oneself occupied and maintaining communication with friends and family through online networks is successful in mitigating feelings of loneliness and can lead to an increase in happiness during difficult times such as COVID-19. Therefore, our team has designed an app where users can access different types of games (for mental exercise and for fun) as well as play and chat with friends online.\n"),Ve())},styles:["p[_ngcontent-%COMP%]{margin:10px 0;font-size:1.2em;text-align:justify;line-height:1.4}"]})}return t})();try{mf=typeof Intl<"u"&&Intl.v8BreakIterator}catch{mf=!1}let ll,U_=(()=>{class t{constructor(i){this._platformId=i,this.isBrowser=this._platformId?function YA(t){return t===sb}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!mf)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return t.\u0275fac=function(i){return new(i||t)(Oe($d))},t.\u0275prov=Ie({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function fc(t){return function NL(){if(null==ll&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>ll=!0}))}finally{ll=ll||!1}return ll}()?t:!!t.capture}function Y_(t){return Array.isArray(t)?t:[t]}function X_(t){return t instanceof Ns?t.nativeElement:t}class GL extends Lt{constructor(e,i){super()}schedule(e,i=0){return this}}const mc={setInterval(t,e,...i){const{delegate:n}=mc;return n?.setInterval?n.setInterval(t,e,...i):setInterval(t,e,...i)},clearInterval(t){const{delegate:e}=mc;return(e?.clearInterval||clearInterval)(t)},delegate:void 0},$_={now:()=>($_.delegate||Date).now(),delegate:void 0};class hl{constructor(e,i=hl.now){this.schedulerActionCtor=e,this.now=i}schedule(e,i=0,n){return new this.schedulerActionCtor(this,e).schedule(n,i)}}hl.now=$_.now;const ZL=new class QL extends hl{constructor(e,i=hl.now){super(e,i),this.actions=[],this._active=!1}flush(e){const{actions:i}=this;if(this._active)return void i.push(e);let n;this._active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=i.shift());if(this._active=!1,n){for(;e=i.shift();)e.unsubscribe();throw n}}}(class KL extends GL{constructor(e,i){super(e,i),this.scheduler=e,this.work=i,this.pending=!1}schedule(e,i=0){var n;if(this.closed)return this;this.state=e;const s=this.id,o=this.scheduler;return null!=s&&(this.id=this.recycleAsyncId(o,s,i)),this.pending=!0,this.delay=i,this.id=null!==(n=this.id)&&void 0!==n?n:this.requestAsyncId(o,this.id,i),this}requestAsyncId(e,i,n=0){return mc.setInterval(e.flush.bind(e,this),n)}recycleAsyncId(e,i,n=0){if(null!=n&&this.delay===n&&!1===this.pending)return i;null!=i&&mc.clearInterval(i)}execute(e,i){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(e,i);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,i){let s,n=!1;try{this.work(e)}catch(o){n=!0,s=o||new Error("Scheduled action threw falsy error")}if(n)return this.unsubscribe(),s}unsubscribe(){if(!this.closed){const{id:e,scheduler:i}=this,{actions:n}=i;this.work=this.state=this.scheduler=null,this.pending=!1,rs(n,this),null!=e&&(this.id=this.recycleAsyncId(i,e,null)),this.delay=null,super.unsubscribe()}}});function JL(t){return O((e,i)=>{we(t).subscribe(q(i,()=>i.complete(),an)),!i.closed&&e.subscribe(i)})}const G_=new Set;let $o,eO=(()=>{class t{constructor(i){this._platform=i,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):iO}matchMedia(i){return(this._platform.WEBKIT||this._platform.BLINK)&&function tO(t){if(!G_.has(t))try{$o||($o=document.createElement("style"),$o.setAttribute("type","text/css"),document.head.appendChild($o)),$o.sheet&&($o.sheet.insertRule(`@media ${t} {body{ }}`,0),G_.add(t))}catch(e){console.error(e)}}(i),this._matchMedia(i)}}return t.\u0275fac=function(i){return new(i||t)(Oe(U_))},t.\u0275prov=Ie({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function iO(t){return{matches:"all"===t||""===t,media:t,addListener:()=>{},removeListener:()=>{}}}let nO=(()=>{class t{constructor(i,n){this._mediaMatcher=i,this._zone=n,this._queries=new Map,this._destroySubject=new Y}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(i){return K_(Y_(i)).some(s=>this._registerQuery(s).mql.matches)}observe(i){let o=Rp(K_(Y_(i)).map(h=>this._registerQuery(h).observable));return o=Xh(o.pipe(Lr(1)),o.pipe(function $L(t){return Xs((e,i)=>t<=i)}(1),function qL(t,e=ZL){return O((i,n)=>{let s=null,o=null,h=null;const p=()=>{if(s){s.unsubscribe(),s=null;const _=o;o=null,n.next(_)}};function y(){const _=h+t,T=e.now();if(T<_)return s=this.schedule(void 0,_-T),void n.add(s);p()}i.subscribe(q(n,_=>{o=_,h=e.now(),s||(s=e.schedule(y,t),n.add(s))},()=>{p(),n.complete()},void 0,()=>{o=s=null}))})}(0))),o.pipe(ee(h=>{const p={matches:!1,breakpoints:{}};return h.forEach(({matches:y,query:_})=>{p.matches=p.matches||y,p.breakpoints[_]=y}),p}))}_registerQuery(i){if(this._queries.has(i))return this._queries.get(i);const n=this._mediaMatcher.matchMedia(i),o={observable:new Xt(h=>{const p=y=>this._zone.run(()=>h.next(y));return n.addListener(p),()=>{n.removeListener(p)}}).pipe(Lb(n),ee(({matches:h})=>({query:i,matches:h})),JL(this._destroySubject)),mql:n};return this._queries.set(i,o),o}}return t.\u0275fac=function(i){return new(i||t)(Oe(eO),Oe(ai))},t.\u0275prov=Ie({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function K_(t){return t.map(e=>e.split(",")).reduce((e,i)=>e.concat(i)).map(e=>e.trim())}const J_="cdk-high-contrast-black-on-white",eM="cdk-high-contrast-white-on-black",xf="cdk-high-contrast-active";let fO=(()=>{class t{constructor(i,n){this._platform=i,this._document=n,this._breakpointSubscription=Dt(nO).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const i=this._document.createElement("div");i.style.backgroundColor="rgb(1,2,3)",i.style.position="absolute",this._document.body.appendChild(i);const n=this._document.defaultView||window,s=n&&n.getComputedStyle?n.getComputedStyle(i):null,o=(s&&s.backgroundColor||"").replace(/ /g,"");switch(i.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const i=this._document.body.classList;i.remove(xf,J_,eM),this._hasCheckedHighContrastMode=!0;const n=this.getHighContrastMode();1===n?i.add(xf,J_):2===n&&i.add(xf,eM)}}}return t.\u0275fac=function(i){return new(i||t)(Oe(U_),Oe(Ii))},t.\u0275prov=Ie({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),tM=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=en({type:t}),t.\u0275inj=Be({}),t})();const xO=new We("mat-sanity-checks",{providedIn:"root",factory:function yO(){return!0}});let dr=(()=>{class t{constructor(i,n,s){this._sanityChecks=n,this._document=s,this._hasDoneGlobalChecks=!1,i._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(i){return!function WL(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[i])}}return t.\u0275fac=function(i){return new(i||t)(Oe(fO),Oe(xO,8),Oe(Ii))},t.\u0275mod=en({type:t}),t.\u0275inj=Be({imports:[tM,tM]}),t})(),sM=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=en({type:t}),t.\u0275inj=Be({imports:[dr,dr]}),t})();class bO{constructor(e,i,n,s=!1){this._renderer=e,this.element=i,this.config=n,this._animationForciblyDisabledThroughCss=s,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const rM=fc({passive:!0,capture:!0});class _O{constructor(){this._events=new Map,this._delegateEventHandler=e=>{const i=function VL(t){return t.composedPath?t.composedPath()[0]:t.target}(e);i&&this._events.get(e.type)?.forEach((n,s)=>{(s===i||s.contains(i))&&n.forEach(o=>o.handleEvent(e))})}}addHandler(e,i,n,s){const o=this._events.get(i);if(o){const h=o.get(n);h?h.add(s):o.set(n,new Set([s]))}else this._events.set(i,new Map([[n,new Set([s])]])),e.runOutsideAngular(()=>{document.addEventListener(i,this._delegateEventHandler,rM)})}removeHandler(e,i,n){const s=this._events.get(e);if(!s)return;const o=s.get(i);o&&(o.delete(n),0===o.size&&s.delete(i),0===s.size&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,rM)))}}const oM={enterDuration:225,exitDuration:150},aM=fc({passive:!0,capture:!0}),lM=["mousedown","touchstart"],hM=["mouseup","mouseleave","touchend","touchcancel"];class yc{constructor(e,i,n,s){this._target=e,this._ngZone=i,this._platform=s,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,s.isBrowser&&(this._containerElement=X_(n))}fadeInRipple(e,i,n={}){const s=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o={...oM,...n.animation};n.centered&&(e=s.left+s.width/2,i=s.top+s.height/2);const h=n.radius||function CO(t,e,i){const n=Math.max(Math.abs(t-i.left),Math.abs(t-i.right)),s=Math.max(Math.abs(e-i.top),Math.abs(e-i.bottom));return Math.sqrt(n*n+s*s)}(e,i,s),p=e-s.left,y=i-s.top,_=o.enterDuration,T=document.createElement("div");T.classList.add("mat-ripple-element"),T.style.left=p-h+"px",T.style.top=y-h+"px",T.style.height=2*h+"px",T.style.width=2*h+"px",null!=n.color&&(T.style.backgroundColor=n.color),T.style.transitionDuration=`${_}ms`,this._containerElement.appendChild(T);const I=window.getComputedStyle(T),U=I.transitionDuration,X="none"===I.transitionProperty||"0s"===U||"0s, 0s"===U||0===s.width&&0===s.height,J=new bO(this,T,n,X);T.style.transform="scale3d(1, 1, 1)",J.state=0,n.persistent||(this._mostRecentTransientRipple=J);let re=null;return!X&&(_||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const pe=()=>this._finishRippleTransition(J),be=()=>this._destroyRipple(J);T.addEventListener("transitionend",pe),T.addEventListener("transitioncancel",be),re={onTransitionEnd:pe,onTransitionCancel:be}}),this._activeRipples.set(J,re),(X||!_)&&this._finishRippleTransition(J),J}fadeOutRipple(e){if(2===e.state||3===e.state)return;const i=e.element,n={...oM,...e.config.animation};i.style.transitionDuration=`${n.exitDuration}ms`,i.style.opacity="0",e.state=2,(e._animationForciblyDisabledThroughCss||!n.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const i=X_(e);!this._platform.isBrowser||!i||i===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=i,lM.forEach(n=>{yc._eventManager.addHandler(this._ngZone,n,i,this)}))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{hM.forEach(i=>{this._triggerElement.addEventListener(i,this,aM)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){0===e.state?this._startFadeOutTransition(e):2===e.state&&this._destroyRipple(e)}_startFadeOutTransition(e){const i=e===this._mostRecentTransientRipple,{persistent:n}=e.config;e.state=1,!n&&(!i||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){const i=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=3,null!==i&&(e.element.removeEventListener("transitionend",i.onTransitionEnd),e.element.removeEventListener("transitioncancel",i.onTransitionCancel)),e.element.remove()}_onMousedown(e){const i=function uO(t){return 0===t.buttons||0===t.offsetX&&0===t.offsetY}(e),n=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!i&&!n&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!function dO(t){const e=t.touches&&t.touches[0]||t.changedTouches&&t.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const i=e.changedTouches;for(let n=0;n<i.length;n++)this.fadeInRipple(i[n].clientX,i[n].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const e=this._triggerElement;e&&(lM.forEach(i=>yc._eventManager.removeHandler(i,e,this)),this._pointerUpEventsRegistered&&hM.forEach(i=>e.removeEventListener(i,this,aM)))}}yc._eventManager=new _O;const wO=["*"],kO=new We("MAT_CARD_CONFIG");let cM=(()=>{class t{constructor(i){this.appearance=i?.appearance||"raised"}}return t.\u0275fac=function(i){return new(i||t)(nt(kO,8))},t.\u0275cmp=Vi({type:t,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(i,n){2&i&&ph("mat-mdc-card-outlined","outlined"===n.appearance)("mdc-card--outlined","outlined"===n.appearance)},inputs:{appearance:"appearance"},exportAs:["matCard"],ngContentSelectors:wO,decls:1,vars:0,template:function(i,n){1&i&&(function uh(t){const e=xe()[Xi][Yi];if(!e.projection){const n=e.projection=ua(t?t.length:1,null),s=n.slice();let o=e.child;for(;null!==o;){const h=t?j1(o,t):0;null!==h&&(s[h]?s[h].projectionNext=o:n[h]=o,s[h]=o),o=o.next}}}(),function nr(t,e=0,i){const n=xe(),s=Ot(),o=bo(s,si+t,16,null,i||null);null===o.projection&&(o.projection=e),Qc(),32!=(32&o.flags)&&function rT(t,e,i){Cm(e[Mt],0,e,i,fm(t,i,e),xm(i.parent||e[Yi],i,e))}(s,n,o)}(0))},styles:['.mdc-card{display:flex;flex-direction:column;box-sizing:border-box}.mdc-card::after{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none;pointer-events:none}@media screen and (forced-colors: active){.mdc-card::after{border-color:CanvasText}}.mdc-card--outlined::after{border:none}.mdc-card__content{border-radius:inherit;height:100%}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__media--square::before{margin-top:100%}.mdc-card__media--16-9::before{margin-top:56.25%}.mdc-card__media-content{position:absolute;top:0;right:0;bottom:0;left:0;box-sizing:border-box}.mdc-card__primary-action{display:flex;flex-direction:column;box-sizing:border-box;position:relative;outline:none;color:inherit;text-decoration:none;cursor:pointer;overflow:hidden}.mdc-card__primary-action:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__primary-action:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mdc-card__actions--full-bleed{padding:0}.mdc-card__action-buttons,.mdc-card__action-icons{display:flex;flex-direction:row;align-items:center;box-sizing:border-box}.mdc-card__action-icons{flex-grow:1;justify-content:flex-end}.mdc-card__action-buttons+.mdc-card__action-icons{margin-left:16px;margin-right:0}[dir=rtl] .mdc-card__action-buttons+.mdc-card__action-icons,.mdc-card__action-buttons+.mdc-card__action-icons[dir=rtl]{margin-left:0;margin-right:16px}.mdc-card__action{display:inline-flex;flex-direction:row;align-items:center;box-sizing:border-box;justify-content:center;cursor:pointer;user-select:none}.mdc-card__action:focus{outline:none}.mdc-card__action--button{margin-left:0;margin-right:8px;padding:0 8px}[dir=rtl] .mdc-card__action--button,.mdc-card__action--button[dir=rtl]{margin-left:8px;margin-right:0}.mdc-card__action--button:last-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-card__action--button:last-child,.mdc-card__action--button:last-child[dir=rtl]{margin-left:0;margin-right:0}.mdc-card__actions--full-bleed .mdc-card__action--button{justify-content:space-between;width:100%;height:auto;max-height:none;margin:0;padding:8px 16px;text-align:left}[dir=rtl] .mdc-card__actions--full-bleed .mdc-card__action--button,.mdc-card__actions--full-bleed .mdc-card__action--button[dir=rtl]{text-align:right}.mdc-card__action--icon{margin:-6px 0;padding:12px}.mat-mdc-card{position:relative;border-radius:var(--mdc-elevated-card-container-shape, var(--mdc-shape-medium, 4px));background-color:var(--mdc-elevated-card-container-color, transparent);border-width:0;border-style:solid;border-color:var(--mdc-elevated-card-container-color, transparent)}.mat-mdc-card .mdc-card::after{border-radius:var(--mdc-elevated-card-container-shape, var(--mdc-shape-medium, 4px))}.mat-mdc-card-outlined{border-width:var(--mdc-outlined-card-outline-width, 1px);border-style:solid;border-color:var(--mdc-outlined-card-outline-color, transparent)}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}'],encapsulation:2,changeDetection:0}),t})(),UO=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=en({type:t}),t.\u0275inj=Be({imports:[dr,Sp,dr]}),t})();function HO(t,e){if(1&t&&ei(0,"div",1),2&t){const i=qy();vd("id",i.chartContainerId),ys("ngStyle",i.styles)}}if("object"==typeof document&&document)var YO=Ko(642);let XO=(()=>{class t{constructor(){this.shouldUpdateChart=!1,this.isDOMPresent="object"==typeof document&&!!document,this.chartInstance=new Ki,this.options=this.options?this.options:{},this.styles=this.styles?this.styles:{width:"100%",position:"relative"},this.styles.height=this.options.height?this.options.height+"px":"400px",this.chartContainerId="canvasjs-angular-chart-container-"+t._cjsChartContainerId++}ngDoCheck(){this.prevChartOptions!=this.options&&(this.shouldUpdateChart=!0)}ngOnChanges(){this.shouldUpdateChart&&this.chart&&(this.chart.options=this.options,this.chart.render(),this.shouldUpdateChart=!1,this.prevChartOptions=this.options)}ngAfterViewInit(){this.isDOMPresent&&(this.chart=new YO.Chart(this.chartContainerId,this.options),this.chart.render(),this.prevChartOptions=this.options,this.chartInstance.emit(this.chart))}ngOnDestroy(){this.chart&&this.chart.destroy()}}return t._cjsChartContainerId=0,t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=Vi({type:t,selectors:[["canvasjs-chart"]],inputs:{options:"options",styles:"styles"},outputs:{chartInstance:"chartInstance"},features:[er],decls:1,vars:1,consts:[[3,"id","ngStyle",4,"ngIf"],[3,"id","ngStyle"]],template:function(i,n){1&i&&hh(0,HO,1,2,"div",0),2&i&&ys("ngIf",n.isDOMPresent)},dependencies:[J0,ib],encapsulation:2}),t})(),$O=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=en({type:t}),t.\u0275inj=Be({imports:[[Sp]]}),t})();function GO(t,e){if(1&t&&(He(0,"div",7)(1,"blockquote")(2,"p"),Et(3),Ve()()()),2&t){const i=e.$implicit;Vs(3),ka(" ",i," ")}}function KO(t,e){if(1&t&&(He(0,"div")(1,"h2"),Et(2),Ve(),He(3,"div",5),hh(4,GO,4,1,"div",6),Ve()()),2&t){const i=e.$implicit;Vs(2),ka(" ",i.question," "),Vs(2),ys("ngForOf",i.answers)}}let QO=(()=>{class t{constructor(){this.chartOptionsAge={animationEnabled:!0,theme:"light2",exportEnabled:!1,title:{text:"Age Group Distribution"},subtitles:[{text:""}],data:[{type:"pie",indexLabel:"{name}: {y}%",dataPoints:[{name:"60-70",y:23.1},{name:"70-80",y:15.4},{name:"80-90",y:15.4},{name:"30-40",y:7.7},{name:"40-50",y:7.7},{name:"50-60",y:30.8}]}]},this.chartOptionsMarital={animationEnabled:!0,theme:"light2",exportEnabled:!1,title:{text:"Marital Status"},subtitles:[{text:""}],data:[{type:"pie",indexLabel:"{name}: {y}%",dataPoints:[{name:"Married/Mari\xe9(e)",y:84.6},{name:"Relationship/Dans une relation",y:7.7},{name:"Single/C\xe9libataire",y:7.7}]}]},this.chartOptionsLike={title:{text:"How much do you use mobile apps?"},animationEnabled:!0,axisY:{includeZero:!0,suffix:""},data:[{type:"bar",indexLabel:"{y}",yValueFormatString:"#%",dataPoints:[{label:"1",y:0},{label:"2",y:.231},{label:"3",y:.154},{label:"4",y:.154},{label:"5",y:.462}]}]},this.chartOptionsComfort={title:{text:"Do you feel comfortable using new apps?"},animationEnabled:!0,axisY:{includeZero:!0,suffix:""},data:[{type:"bar",indexLabel:"{y}",yValueFormatString:"#,##%",dataPoints:[{label:"1",y:.77},{label:"2",y:.231},{label:"3",y:0},{label:"4",y:.308},{label:"5",y:.385}]}]},this.Questions=[{question:"     What do you like about mobile apps?/Qu'aimez-vous des applications mobiles?",answers:["Easy access, efficient.","They concentrate a lot of tools and have access to news and all kind of info wherever I go.","Facile d'acc\xe8s, convivial, rapide pour avoir info rapidement, notifications","Easy to access from home screen"]},{question:"What do you dislike about mobile apps?/Qu'est-ce que vous n'aimez pas des applications mobiles?",answers:["Irrelevant information that pops up.","Quand \xe7a ne sauvegarde pas mes infos pour la prochaine fois, quand \xe7a se met \xe0 jour pendant que je tente de l'utiliser, quand \xe7a donne de l'info seulement \xe0 destination (club med)","Very small writing or very huge writing, low contrast.","Complicated navigation and updates"]},{question:"How do you think covid-19 has affected mental wellbeing?/Comment pensez-vous que la covid-19 a affect\xe9 la sant\xe9 mentale?",answers:["\xc9normement! L'anxi\xe9t\xe9 des gens a augment\xe9 en fl\xe8che, et il y a plus d'isolement vu lampeur de contamination donc les gens vont plus sur les reseaux sociaux, ce qui cause des debordements et augmente la detresse","It has made me less tolerant of other people's ignorance.","People are more isolated","Complicated navigation and updates"]},{question:"What kind of app do you think would help people improve their mental health after covid-19?/Quel  type d'application pourrait aider les gens \xe0 am\xe9liorer leur sant\xe9 mentale apr\xe8s la covid-19?",answers:["An application that can offer different games so I do not have to jump from one to another.","Probably entertainment apps. Something like YouTube.","An app where people can share ideas. Something where people aren't exposed to fake news."]},{question:"What kind of app do you think would help people who feel isolated?/Quel type d'application pourrait aider les personnes qui se sentent isol\xe9es?",answers:["An app to provide reliable information about news and current events..","An application that allows you to be in touch with others like facetime or messenger.","An app that genuinely connects them with friends and family instead of bombarding them with senseless ad, propaganda, and media nonsense."]}]}static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275cmp=Vi({type:t,selectors:[["app-research"]],decls:19,vars:5,consts:[[1,"survey"],[1,"arrange"],[3,"options"],[1,"question"],[4,"ngFor","ngForOf"],[1,"answers"],["class","animated-border-quote",4,"ngFor","ngForOf"],[1,"animated-border-quote"]],template:function(n,s){1&n&&(He(0,"div",0)(1,"h2"),Et(2,"Data Collection Method"),Ve(),He(3,"p"),Et(4," We used a Google Form to collect the data. We made sure to target mostly the elderly, but also asked a few candidates of younger age groups to contribute to be able to compare the results. We asked questions about their age, hobbies, COVID-19 opinions, and more. "),Ve()(),He(5,"div")(6,"h2"),Et(7,"Results"),Ve(),He(8,"div",1)(9,"mat-card"),ei(10,"canvasjs-chart",2),Ve(),He(11,"mat-card"),ei(12,"canvasjs-chart",2),Ve(),He(13,"mat-card"),ei(14,"canvasjs-chart",2),Ve(),He(15,"mat-card"),ei(16,"canvasjs-chart",2),Ve()()(),He(17,"div",3),hh(18,KO,5,2,"div",4),Ve()),2&n&&(Vs(10),ys("options",s.chartOptionsAge),Vs(2),ys("options",s.chartOptionsMarital),Vs(2),ys("options",s.chartOptionsLike),Vs(2),ys("options",s.chartOptionsComfort),Vs(2),ys("ngForOf",s.Questions))},dependencies:[Z0,cM,XO],styles:['p[_ngcontent-%COMP%]{margin:10px 0;font-size:1.2em;text-align:justify;line-height:1.4}.persona[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:20px}.persona[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:100%;height:100%;box-shadow:0 2px 4px #0000001a}.persona[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}mat-card[_ngcontent-%COMP%]{width:40%;height:40%;min-height:360px;min-width:460px}.arrange[_ngcontent-%COMP%]{display:flex;width:100%;height:1000px;flex-flow:row wrap;height:-moz-fit-content;height:fit-content;justify-content:space-around;align-items:center;gap:20px;padding:0 0 20px}mat-card[_ngcontent-%COMP%]{color:#fff!important;text-transform:uppercase;text-decoration:none;padding:20px;border-radius:50px;border:none;transition:all .4s ease 0s}mat-card[_ngcontent-%COMP%]:hover{text-shadow:0px 0px 6px rgb(255,255,255);-webkit-box-shadow:0px 5px 40px -10px rgba(0,0,0,.57);-moz-box-shadow:0px 5px 40px -10px rgba(0,0,0,.57);transition:all .4s ease 0s}.sparkle[_ngcontent-%COMP%]{color:#000;margin:auto}.sparkle[_ngcontent-%COMP%]:hover{cursor:pointer}.u-hover--sparkle[_ngcontent-%COMP%]{box-sizing:border-box;position:relative;padding:.75em}.u-hover--sparkle[_ngcontent-%COMP%]:before, .u-hover--sparkle[_ngcontent-%COMP%]:after{content:"";box-sizing:border-box;position:absolute;top:0;left:0;height:100%;width:100%;transform-origin:center}.u-hover--sparkle[_ngcontent-%COMP%]:before{border-top:.2em solid #515151;border-bottom:.2em solid #515151;transform:scale3d(0,1,1)}.u-hover--sparkle[_ngcontent-%COMP%]:after{border-left:.2em solid #515151;border-right:.2em solid #515151;transform:scale3d(1,0,1)}.u-hover--sparkle[_ngcontent-%COMP%]:hover:before, .u-hover--sparkle[_ngcontent-%COMP%]:hover:after{transform:scaleZ(1);transition:transform .9s}.quote[_ngcontent-%COMP%]{display:inline-block;margin:1em;overflow:hidden}.quote[_ngcontent-%COMP%]   blockquote[_ngcontent-%COMP%]{background-color:#fff;border:solid 2px #757575;display:inline-block;margin:0;padding:1em;position:relative}.quote[_ngcontent-%COMP%]   blockquote[_ngcontent-%COMP%]:before{background-color:#fff;content:"";inset:-10% 0;position:absolute;transform:rotate(-15deg) skew(5deg)}.quote[_ngcontent-%COMP%]   blockquote[_ngcontent-%COMP%]   cite[_ngcontent-%COMP%]{display:block;font-style:italic;text-align:right}.quote[_ngcontent-%COMP%]   blockquote[_ngcontent-%COMP%]   cite[_ngcontent-%COMP%]:before{content:"- "}.quote[_ngcontent-%COMP%]   blockquote[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{position:relative;z-index:1}.animated-border-quote[_ngcontent-%COMP%]{margin:1em;max-width:20em;overflow:hidden}.animated-border-quote[_ngcontent-%COMP%]   blockquote[_ngcontent-%COMP%]{background-color:#fff;border:solid 2px #757575;display:inline-block;margin:0;padding:1em;position:relative}.animated-border-quote[_ngcontent-%COMP%]   blockquote[_ngcontent-%COMP%]   cite[_ngcontent-%COMP%]{display:block;font-style:italic;text-align:right}.animated-border-quote[_ngcontent-%COMP%]   blockquote[_ngcontent-%COMP%]   cite[_ngcontent-%COMP%]:before{content:"- "}.animated-border-quote[_ngcontent-%COMP%]   blockquote[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{position:relative;z-index:1}@keyframes _ngcontent-%COMP%_shadows{0%{box-shadow:0 2px 4px -2px #00000040;transform:scale(.95)}to{box-shadow:0 0 4px 2px #00000040;transform:scale(1)}}.question[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px;width:100%}.question[_ngcontent-%COMP%]   .answers[_ngcontent-%COMP%]{display:flex;flex-direction:row wrap!important;justify-content:space-around;width:100%}']})}return t})(),ZO=(()=>{class t{static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275cmp=Vi({type:t,selectors:[["app-analysis"]],decls:16,vars:0,consts:[[1,"section1"],[1,"persona"],[1,"sparkle","u-hover--sparkle"],["src","assets/User_Persona_1.png","alt","Persona1"],["src","assets/User_Persona_2.png","alt","Persona2"],["src","assets/Empathy_Map_1.png","alt","EmpathyMap1"],["src","assets/Empathy_Map_2.png","alt","EmpathyMap2"]],template:function(n,s){1&n&&(He(0,"div",0)(1,"h2"),Et(2,"User Personas"),Ve(),He(3,"div",1)(4,"div",2),ei(5,"img",3),Ve(),He(6,"div",2),ei(7,"img",4),Ve()()(),He(8,"div")(9,"h2"),Et(10,"Empathy Maps"),Ve(),He(11,"div",1)(12,"div",2),ei(13,"img",5),Ve(),He(14,"div",2),ei(15,"img",6),Ve()()())},styles:['.section1[_ngcontent-%COMP%]{padding-bottom:20px}.persona[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:20px}.persona[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:100%;height:100%;box-shadow:0 2px 4px #0000001a}.persona[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.sparkle[_ngcontent-%COMP%]{color:#000;margin:auto}.sparkle[_ngcontent-%COMP%]:hover{cursor:pointer}.u-hover--sparkle[_ngcontent-%COMP%]{box-sizing:border-box;position:relative;padding:.75em}.u-hover--sparkle[_ngcontent-%COMP%]:before, .u-hover--sparkle[_ngcontent-%COMP%]:after{content:"";box-sizing:border-box;position:absolute;top:0;left:0;height:100%;width:100%;transform-origin:center}.u-hover--sparkle[_ngcontent-%COMP%]:before{border-top:.2em solid #515151;border-bottom:.2em solid #515151;transform:scale3d(0,1,1)}.u-hover--sparkle[_ngcontent-%COMP%]:after{border-left:.2em solid #515151;border-right:.2em solid #515151;transform:scale3d(1,0,1)}.u-hover--sparkle[_ngcontent-%COMP%]:hover:before, .u-hover--sparkle[_ngcontent-%COMP%]:hover:after{transform:scaleZ(1);transition:transform .9s}']})}return t})(),qO=(()=>{class t{static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275cmp=Vi({type:t,selectors:[["app-visual-design"]],decls:14,vars:0,consts:[[1,"sketches"],["src","assets/Sketch_1.jpg","alt","Sketch_1",1,"flashy"],["src","assets/Sketch_2.jpg","alt","Sketch_2",1,"flashy"],[1,"prototypes"],["src","assets/Prototype_1.png","alt","Prototype1",1,"flashy"],["src","assets/Prototype_2.png","alt","Prototype2",1,"flashy"],["src","assets/Prototype_3.png","alt","Prototype3",1,"flashy"],["src","assets/Prototype_4.png","alt","Prototype4",1,"flashy"]],template:function(n,s){1&n&&(He(0,"div",0)(1,"h2"),Et(2,"Sketches"),Ve(),He(3,"div"),ei(4,"img",1)(5,"img",2),Ve()(),He(6,"div")(7,"h2"),Et(8,"Prototypes"),Ve(),He(9,"div",3),ei(10,"img",4)(11,"img",5)(12,"img",6)(13,"img",7),Ve()())},styles:["p[_ngcontent-%COMP%]{margin:10px 0;font-size:1.2em;text-align:justify;line-height:1.4}.sketches[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-between;margin:20px 0}.sketches[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;flex-direction:row}.sketches[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin:10px;width:50%}.prototypes[_ngcontent-%COMP%]{display:grid;width:100%;grid-template-columns:repeat(4,1fr);grid-template-rows:repeat(1,1fr);justify-items:center;align-items:center;margin:0 auto}.prototypes[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:95%;height:95%}"]})}return t})(),JO=(()=>{class t{static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275cmp=Vi({type:t,selectors:[["app-final-design"]],decls:8,vars:0,consts:[[1,"finalDesign"],["src","assets/FinalDesign1.png","alt","FinalDesign1",1,"flashy"],["src","assets/FinalDesign2.png","alt","FinalDesign2",1,"flashy"],["src","assets/FinalDesign3.png","alt","FinalDesign3",1,"flashy"],["src","assets/FinalDesign4.png","alt","FinalDesign4",1,"flashy"],["src","assets/FinalDesign5.png","alt","FinalDesign5",1,"flashy"],["src","assets/FinalDesign6.png","alt","FinalDesign6",1,"flashy"]],template:function(n,s){1&n&&(He(0,"div")(1,"div",0),ei(2,"img",1)(3,"img",2)(4,"img",3)(5,"img",4)(6,"img",5)(7,"img",6),Ve()())},styles:[".finalDesign[_ngcontent-%COMP%]{display:grid;width:100%;grid-template-columns:repeat(3,1fr);grid-template-rows:repeat(2,1fr);justify-items:center;align-items:center;margin:0 auto}.finalDesign[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:95%;height:95%}"]})}return t})(),eR=(()=>{class t{static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275cmp=Vi({type:t,selectors:[["app-conclusion"]],decls:2,vars:0,template:function(n,s){1&n&&(He(0,"p"),Et(1," This project was a great opportunity to learn as a team about the UI/UX development process. It allowed us to explore the user interface design process and develop our creative minds to find a solution to the problem. The main challenge was to gather the users' data and understand their needs and wants. From that data, we created user personas based on the data we collected and then designing the app around those personas. Keeping in mind the wants and needs of the elderly, we designed a simple and easy to use interface.\n"),Ve())},styles:["p[_ngcontent-%COMP%]{margin:10px 0;font-size:1.2em;text-align:justify;line-height:1.4}"]})}return t})();const tR=[{path:"",component:(()=>{class t{constructor(){this.showMenu=!1}static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275cmp=Vi({type:t,selectors:[["app-landing"]],decls:69,vars:0,consts:[[1,"navbar"],["href","#Introduction"],["href","#Problem"],["href","#Solution"],["href","#Research"],["href","#Analysis"],["href","#VisualDesign"],["href","#FinalDesign"],["href","#Conclusion"],[1,"intro"],[1,"text"],[1,"imageGrid"],["src","assets/Elderly1.png","alt","Elderly"],["src","assets/Elderly2.png","alt","Elderly"],["src","assets/Elderly3.png","alt","Elderly"],["src","assets/Elderly4.png","alt","Elderly"],["id","Introduction",1,"section"],["id","Problem",1,"section"],["id","Solution",1,"section"],["id","Research",1,"section"],["id","Analysis",1,"section"],["id","VisualDesign",1,"section"],["id","FinalDesign",1,"section"],["id","Conclusion",1,"section"],["id","References",1,"section"]],template:function(n,s){1&n&&(He(0,"div")(1,"div",0)(2,"a",1),Et(3,"Introduction"),Ve(),He(4,"a",2),Et(5,"Problem"),Ve(),He(6,"a",3),Et(7,"Solution"),Ve(),He(8,"a",4),Et(9,"Research"),Ve(),He(10,"a",5),Et(11,"Analysis"),Ve(),He(12,"a",6),Et(13,"Visual Design"),Ve(),He(14,"a",7),Et(15,"Final Design"),Ve(),He(16,"a",8),Et(17,"Conclusion"),Ve()(),He(18,"div",9)(19,"div",10)(20,"h1"),Et(21,"Designing for the Elderly"),Ve(),He(22,"p"),Et(23,"Guillaume Lachapelle - 40203325"),Ve(),He(24,"p"),Et(25,"Oliver Vilney - 40214948"),Ve(),He(26,"p"),Et(27,"Karina Sanchez Duran - 40189860"),Ve()()(),He(28,"div",11),ei(29,"img",12)(30,"img",13)(31,"img",14)(32,"img",15),Ve(),He(33,"div",16)(34,"h1"),Et(35,"Introduction"),Ve(),ei(36,"app-introduction"),Ve(),He(37,"div",17)(38,"h1"),Et(39,"Problem Statement"),Ve(),ei(40,"app-problem-statement"),Ve(),He(41,"div",18)(42,"h1"),Et(43,"Solution"),Ve(),ei(44,"app-solution"),Ve(),He(45,"div",19)(46,"h1"),Et(47,"Research"),Ve(),ei(48,"app-research"),Ve(),He(49,"div",20)(50,"h1"),Et(51,"Analysis"),Ve(),ei(52,"app-analysis"),Ve(),He(53,"div",21)(54,"h1"),Et(55,"Visual Design"),Ve(),ei(56,"app-visual-design"),Ve(),He(57,"div",22)(58,"h1"),Et(59,"Final Design"),Ve(),ei(60,"app-final-design"),Ve(),He(61,"div",23)(62,"h1"),Et(63,"Conclusion"),Ve(),ei(64,"app-conclusion"),Ve(),He(65,"div",24)(66,"h1"),Et(67,"References"),Ve(),ei(68,"app-references"),Ve()())},dependencies:[FL,LL,OL,RL,QO,ZO,qO,JO,eR],styles:[".intro[_ngcontent-%COMP%]{background-color:#f2f2f2;display:flex;align-items:center;padding:30px}.intro[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;width:100%;padding-left:20px}.intro[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:10px 0 20px;font-size:3.5em;line-height:1.4}.intro[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:10px 0;font-size:1.5em;line-height:1.4}.imageGrid[_ngcontent-%COMP%]{display:grid;width:60%;grid-template-columns:repeat(2,1fr);grid-template-rows:repeat(2,1fr);justify-items:center;align-items:center;margin:0 auto}.imageGrid[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:95%;height:95%;box-shadow:0 2px 4px #0000001a}.navbar[_ngcontent-%COMP%]{z-index:1;display:flex;justify-content:flex-end;background-color:#000;overflow:hidden;position:sticky;top:0}.navbar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{float:left;display:block;color:#f2f2f2;text-align:center;padding:14px 16px;text-decoration:none;font-size:1.1em}.navbar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#ddd;color:#000}.section[_ngcontent-%COMP%]{scroll-margin-top:50px;padding:20px;height:-moz-fit-content;height:fit-content;background-color:#f2f2f2;border-bottom:1px solid #ddd;width:80%;margin:0 auto;text-align:left}.section[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:10px 0 20px;font-size:2.5em}"]})}return t})()}];let iR=(()=>{class t{static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275mod=en({type:t});static#i=this.\u0275inj=Be({imports:[z_.forRoot(tR),z_]})}return t})(),nR=(()=>{class t{constructor(){this.title="MiniProject"}static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275cmp=Vi({type:t,selectors:[["app-root"]],decls:6,vars:0,consts:[[1,"content"]],template:function(n,s){1&n&&(He(0,"div",0)(1,"span"),Et(2,"Decagon app is running!"),Ve()(),He(3,"body")(4,"article"),ei(5,"router-outlet"),Ve()())},dependencies:[ef],styles:[".content[_ngcontent-%COMP%]{display:none}body[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100vh;background-color:#f2f2f2}article[_ngcontent-%COMP%], router-outlet[_ngcontent-%COMP%]{scroll-behavior:smooth;flex:1;overflow:auto}"]})}return t})();class uM{}class sR{}const Gs="*";function dM(t,e=null){return{type:2,steps:t,options:e}}function pM(t){return{type:6,styles:t,offset:null}}function fM(t){Promise.resolve().then(t)}class ul{constructor(e=0,i=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+i}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){fM(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const i="start"==e?this._onStartFns:this._onDoneFns;i.forEach(n=>n()),i.length=0}}class gM{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let i=0,n=0,s=0;const o=this.players.length;0==o?fM(()=>this._onFinish()):this.players.forEach(h=>{h.onDone(()=>{++i==o&&this._onFinish()}),h.onDestroy(()=>{++n==o&&this._onDestroy()}),h.onStart(()=>{++s==o&&this._onStart()})}),this.totalTime=this.players.reduce((h,p)=>Math.max(h,p.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const i=e*this.totalTime;this.players.forEach(n=>{const s=n.totalTime?Math.min(1,i/n.totalTime):1;n.setPosition(s)})}getPosition(){const e=this.players.reduce((i,n)=>null===i||n.totalTime>i.totalTime?n:i,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const i="start"==e?this._onStartFns:this._onDoneFns;i.forEach(n=>n()),i.length=0}}const vf="!";function mM(t){return new he(3e3,!1)}function VR(){return typeof window<"u"&&typeof window.document<"u"}function bf(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function pr(t){switch(t.length){case 0:return new ul;case 1:return t[0];default:return new gM(t)}}function yM(t,e,i,n,s=new Map,o=new Map){const h=[],p=[];let y=-1,_=null;if(n.forEach(T=>{const I=T.get("offset"),R=I==y,U=R&&_||new Map;T.forEach((X,J)=>{let re=J,pe=X;if("offset"!==J)switch(re=e.normalizePropertyName(re,h),pe){case vf:pe=s.get(J);break;case Gs:pe=o.get(J);break;default:pe=e.normalizeStyleValue(J,re,pe,h)}U.set(re,pe)}),R||p.push(U),_=U,y=I}),h.length)throw function DR(t){return new he(3502,!1)}();return p}function _f(t,e,i,n){switch(e){case"start":t.onStart(()=>n(i&&Mf(i,"start",t)));break;case"done":t.onDone(()=>n(i&&Mf(i,"done",t)));break;case"destroy":t.onDestroy(()=>n(i&&Mf(i,"destroy",t)))}}function Mf(t,e,i){const o=Cf(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,i.totalTime??t.totalTime,!!i.disabled),h=t._data;return null!=h&&(o._data=h),o}function Cf(t,e,i,n,s="",o=0,h){return{element:t,triggerName:e,fromState:i,toState:n,phaseName:s,totalTime:o,disabled:!!h}}function wn(t,e,i){let n=t.get(e);return n||t.set(e,n=i),n}function xM(t){const e=t.indexOf(":");return[t.substring(1,e),t.slice(e+1)]}let wf=(t,e)=>!1,vM=(t,e,i)=>[],bM=null;function Tf(t){const e=t.parentNode||t.host;return e===bM?null:e}(bf()||typeof Element<"u")&&(VR()?(bM=(()=>document.documentElement)(),wf=(t,e)=>{for(;e;){if(e===t)return!0;e=Tf(e)}return!1}):wf=(t,e)=>t.contains(e),vM=(t,e,i)=>{if(i)return Array.from(t.querySelectorAll(e));const n=t.querySelector(e);return n?[n]:[]});let Wr=null,_M=!1;const MM=wf,CM=vM;let wM=(()=>{class t{validateStyleProperty(i){return function zR(t){Wr||(Wr=function jR(){return typeof document<"u"?document.body:null}()||{},_M=!!Wr.style&&"WebkitAppearance"in Wr.style);let e=!0;return Wr.style&&!function WR(t){return"ebkit"==t.substring(1,6)}(t)&&(e=t in Wr.style,!e&&_M&&(e="Webkit"+t.charAt(0).toUpperCase()+t.slice(1)in Wr.style)),e}(i)}matchesElement(i,n){return!1}containsElement(i,n){return MM(i,n)}getParentElement(i){return Tf(i)}query(i,n,s){return CM(i,n,s)}computeStyle(i,n,s){return s||""}animate(i,n,s,o,h,p=[],y){return new ul(s,o)}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=Ie({token:t,factory:t.\u0275fac}),t})(),Sf=(()=>{class t{}return t.NOOP=new wM,t})();const UR=1e3,Df="ng-enter",xc="ng-leave",vc="ng-trigger",bc=".ng-trigger",SM="ng-animating",Pf=".ng-animating";function Ks(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:kf(parseFloat(e[1]),e[2])}function kf(t,e){return"s"===e?t*UR:t}function _c(t,e,i){return t.hasOwnProperty("duration")?t:function YR(t,e,i){let s,o=0,h="";if("string"==typeof t){const p=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===p)return e.push(mM()),{duration:0,delay:0,easing:""};s=kf(parseFloat(p[1]),p[2]);const y=p[3];null!=y&&(o=kf(parseFloat(y),p[4]));const _=p[5];_&&(h=_)}else s=t;if(!i){let p=!1,y=e.length;s<0&&(e.push(function rR(){return new he(3100,!1)}()),p=!0),o<0&&(e.push(function oR(){return new he(3101,!1)}()),p=!0),p&&e.splice(y,0,mM())}return{duration:s,delay:o,easing:h}}(t,e,i)}function dl(t,e={}){return Object.keys(t).forEach(i=>{e[i]=t[i]}),e}function DM(t){const e=new Map;return Object.keys(t).forEach(i=>{e.set(i,t[i])}),e}function fr(t,e=new Map,i){if(i)for(let[n,s]of i)e.set(n,s);for(let[n,s]of t)e.set(n,s);return e}function kM(t,e,i){return i?e+":"+i+";":""}function EM(t){let e="";for(let i=0;i<t.style.length;i++){const n=t.style.item(i);e+=kM(0,n,t.style.getPropertyValue(n))}for(const i in t.style)t.style.hasOwnProperty(i)&&!i.startsWith("_")&&(e+=kM(0,KR(i),t.style[i]));t.setAttribute("style",e)}function ws(t,e,i){t.style&&(e.forEach((n,s)=>{const o=Af(s);i&&!i.has(s)&&i.set(s,t.style[o]),t.style[o]=n}),bf()&&EM(t))}function zr(t,e){t.style&&(e.forEach((i,n)=>{const s=Af(n);t.style[s]=""}),bf()&&EM(t))}function pl(t){return Array.isArray(t)?1==t.length?t[0]:dM(t):t}const Ef=new RegExp("{{\\s*(.+?)\\s*}}","g");function AM(t){let e=[];if("string"==typeof t){let i;for(;i=Ef.exec(t);)e.push(i[1]);Ef.lastIndex=0}return e}function fl(t,e,i){const n=t.toString(),s=n.replace(Ef,(o,h)=>{let p=e[h];return null==p&&(i.push(function lR(t){return new he(3003,!1)}()),p=""),p.toString()});return s==n?t:s}function Mc(t){const e=[];let i=t.next();for(;!i.done;)e.push(i.value),i=t.next();return e}const GR=/-+([a-z0-9])/g;function Af(t){return t.replace(GR,(...e)=>e[1].toUpperCase())}function KR(t){return t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Tn(t,e,i){switch(e.type){case 7:return t.visitTrigger(e,i);case 0:return t.visitState(e,i);case 1:return t.visitTransition(e,i);case 2:return t.visitSequence(e,i);case 3:return t.visitGroup(e,i);case 4:return t.visitAnimate(e,i);case 5:return t.visitKeyframes(e,i);case 6:return t.visitStyle(e,i);case 8:return t.visitReference(e,i);case 9:return t.visitAnimateChild(e,i);case 10:return t.visitAnimateRef(e,i);case 11:return t.visitQuery(e,i);case 12:return t.visitStagger(e,i);default:throw function hR(t){return new he(3004,!1)}()}}function IM(t,e){return window.getComputedStyle(t)[e]}const Tc="*";function tN(t,e){const i=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(n=>function iN(t,e,i){if(":"==t[0]){const y=function nN(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(i,n)=>parseFloat(n)>parseFloat(i);case":decrement":return(i,n)=>parseFloat(n)<parseFloat(i);default:return e.push(function CR(t){return new he(3016,!1)}()),"* => *"}}(t,i);if("function"==typeof y)return void e.push(y);t=y}const n=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==n||n.length<4)return i.push(function MR(t){return new he(3015,!1)}()),e;const s=n[1],o=n[2],h=n[3];e.push(FM(s,h));"<"==o[0]&&!(s==Tc&&h==Tc)&&e.push(FM(h,s))}(n,i,e)):i.push(t),i}const Sc=new Set(["true","1"]),Dc=new Set(["false","0"]);function FM(t,e){const i=Sc.has(t)||Dc.has(t),n=Sc.has(e)||Dc.has(e);return(s,o)=>{let h=t==Tc||t==s,p=e==Tc||e==o;return!h&&i&&"boolean"==typeof s&&(h=s?Sc.has(t):Dc.has(t)),!p&&n&&"boolean"==typeof o&&(p=o?Sc.has(e):Dc.has(e)),h&&p}}const sN=new RegExp("s*:selfs*,?","g");function If(t,e,i,n){return new rN(t).build(e,i,n)}class rN{constructor(e){this._driver=e}build(e,i,n){const s=new lN(i);return this._resetContextStyleTimingState(s),Tn(this,pl(e),s)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,i){let n=i.queryCount=0,s=i.depCount=0;const o=[],h=[];return"@"==e.name.charAt(0)&&i.errors.push(function uR(){return new he(3006,!1)}()),e.definitions.forEach(p=>{if(this._resetContextStyleTimingState(i),0==p.type){const y=p,_=y.name;_.toString().split(/\s*,\s*/).forEach(T=>{y.name=T,o.push(this.visitState(y,i))}),y.name=_}else if(1==p.type){const y=this.visitTransition(p,i);n+=y.queryCount,s+=y.depCount,h.push(y)}else i.errors.push(function dR(){return new he(3007,!1)}())}),{type:7,name:e.name,states:o,transitions:h,queryCount:n,depCount:s,options:null}}visitState(e,i){const n=this.visitStyle(e.styles,i),s=e.options&&e.options.params||null;if(n.containsDynamicStyles){const o=new Set,h=s||{};n.styles.forEach(p=>{p instanceof Map&&p.forEach(y=>{AM(y).forEach(_=>{h.hasOwnProperty(_)||o.add(_)})})}),o.size&&(Mc(o.values()),i.errors.push(function pR(t,e){return new he(3008,!1)}()))}return{type:0,name:e.name,style:n,options:s?{params:s}:null}}visitTransition(e,i){i.queryCount=0,i.depCount=0;const n=Tn(this,pl(e.animation),i);return{type:1,matchers:tN(e.expr,i.errors),animation:n,queryCount:i.queryCount,depCount:i.depCount,options:jr(e.options)}}visitSequence(e,i){return{type:2,steps:e.steps.map(n=>Tn(this,n,i)),options:jr(e.options)}}visitGroup(e,i){const n=i.currentTime;let s=0;const o=e.steps.map(h=>{i.currentTime=n;const p=Tn(this,h,i);return s=Math.max(s,i.currentTime),p});return i.currentTime=s,{type:3,steps:o,options:jr(e.options)}}visitAnimate(e,i){const n=function cN(t,e){if(t.hasOwnProperty("duration"))return t;if("number"==typeof t)return Ff(_c(t,e).duration,0,"");const i=t;if(i.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=Ff(0,0,"");return o.dynamic=!0,o.strValue=i,o}const s=_c(i,e);return Ff(s.duration,s.delay,s.easing)}(e.timings,i.errors);i.currentAnimateTimings=n;let s,o=e.styles?e.styles:pM({});if(5==o.type)s=this.visitKeyframes(o,i);else{let h=e.styles,p=!1;if(!h){p=!0;const _={};n.easing&&(_.easing=n.easing),h=pM(_)}i.currentTime+=n.duration+n.delay;const y=this.visitStyle(h,i);y.isEmptyStep=p,s=y}return i.currentAnimateTimings=null,{type:4,timings:n,style:s,options:null}}visitStyle(e,i){const n=this._makeStyleAst(e,i);return this._validateStyleAst(n,i),n}_makeStyleAst(e,i){const n=[],s=Array.isArray(e.styles)?e.styles:[e.styles];for(let p of s)"string"==typeof p?p===Gs?n.push(p):i.errors.push(new he(3002,!1)):n.push(DM(p));let o=!1,h=null;return n.forEach(p=>{if(p instanceof Map&&(p.has("easing")&&(h=p.get("easing"),p.delete("easing")),!o))for(let y of p.values())if(y.toString().indexOf("{{")>=0){o=!0;break}}),{type:6,styles:n,easing:h,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,i){const n=i.currentAnimateTimings;let s=i.currentTime,o=i.currentTime;n&&o>0&&(o-=n.duration+n.delay),e.styles.forEach(h=>{"string"!=typeof h&&h.forEach((p,y)=>{const _=i.collectedStyles.get(i.currentQuerySelector),T=_.get(y);let I=!0;T&&(o!=s&&o>=T.startTime&&s<=T.endTime&&(i.errors.push(function gR(t,e,i,n,s){return new he(3010,!1)}()),I=!1),o=T.startTime),I&&_.set(y,{startTime:o,endTime:s}),i.options&&function $R(t,e,i){const n=e.params||{},s=AM(t);s.length&&s.forEach(o=>{n.hasOwnProperty(o)||i.push(function aR(t){return new he(3001,!1)}())})}(p,i.options,i.errors)})})}visitKeyframes(e,i){const n={type:5,styles:[],options:null};if(!i.currentAnimateTimings)return i.errors.push(function mR(){return new he(3011,!1)}()),n;let o=0;const h=[];let p=!1,y=!1,_=0;const T=e.steps.map(pe=>{const be=this._makeStyleAst(pe,i);let ue=null!=be.offset?be.offset:function hN(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(i=>{if(i instanceof Map&&i.has("offset")){const n=i;e=parseFloat(n.get("offset")),n.delete("offset")}});else if(t instanceof Map&&t.has("offset")){const i=t;e=parseFloat(i.get("offset")),i.delete("offset")}return e}(be.styles),Le=0;return null!=ue&&(o++,Le=be.offset=ue),y=y||Le<0||Le>1,p=p||Le<_,_=Le,h.push(Le),be});y&&i.errors.push(function yR(){return new he(3012,!1)}()),p&&i.errors.push(function xR(){return new he(3200,!1)}());const I=e.steps.length;let R=0;o>0&&o<I?i.errors.push(function vR(){return new he(3202,!1)}()):0==o&&(R=1/(I-1));const U=I-1,X=i.currentTime,J=i.currentAnimateTimings,re=J.duration;return T.forEach((pe,be)=>{const ue=R>0?be==U?1:R*be:h[be],Le=ue*re;i.currentTime=X+J.delay+Le,J.duration=Le,this._validateStyleAst(pe,i),pe.offset=ue,n.styles.push(pe)}),n}visitReference(e,i){return{type:8,animation:Tn(this,pl(e.animation),i),options:jr(e.options)}}visitAnimateChild(e,i){return i.depCount++,{type:9,options:jr(e.options)}}visitAnimateRef(e,i){return{type:10,animation:this.visitReference(e.animation,i),options:jr(e.options)}}visitQuery(e,i){const n=i.currentQuerySelector,s=e.options||{};i.queryCount++,i.currentQuery=e;const[o,h]=function oN(t){const e=!!t.split(/\s*,\s*/).find(i=>":self"==i);return e&&(t=t.replace(sN,"")),t=t.replace(/@\*/g,bc).replace(/@\w+/g,i=>bc+"-"+i.slice(1)).replace(/:animating/g,Pf),[t,e]}(e.selector);i.currentQuerySelector=n.length?n+" "+o:o,wn(i.collectedStyles,i.currentQuerySelector,new Map);const p=Tn(this,pl(e.animation),i);return i.currentQuery=null,i.currentQuerySelector=n,{type:11,selector:o,limit:s.limit||0,optional:!!s.optional,includeSelf:h,animation:p,originalSelector:e.selector,options:jr(e.options)}}visitStagger(e,i){i.currentQuery||i.errors.push(function bR(){return new he(3013,!1)}());const n="full"===e.timings?{duration:0,delay:0,easing:"full"}:_c(e.timings,i.errors,!0);return{type:12,animation:Tn(this,pl(e.animation),i),timings:n,options:null}}}class lN{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function jr(t){return t?(t=dl(t)).params&&(t.params=function aN(t){return t?dl(t):null}(t.params)):t={},t}function Ff(t,e,i){return{duration:t,delay:e,easing:i}}function Lf(t,e,i,n,s,o,h=null,p=!1){return{type:1,element:t,keyframes:e,preStyleProps:i,postStyleProps:n,duration:s,delay:o,totalTime:s+o,easing:h,subTimeline:p}}class Pc{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,i){let n=this._map.get(e);n||this._map.set(e,n=[]),n.push(...i)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const pN=new RegExp(":enter","g"),gN=new RegExp(":leave","g");function Of(t,e,i,n,s,o=new Map,h=new Map,p,y,_=[]){return(new mN).buildKeyframes(t,e,i,n,s,o,h,p,y,_)}class mN{buildKeyframes(e,i,n,s,o,h,p,y,_,T=[]){_=_||new Pc;const I=new Rf(e,i,_,s,o,T,[]);I.options=y;const R=y.delay?Ks(y.delay):0;I.currentTimeline.delayNextStep(R),I.currentTimeline.setStyles([h],null,I.errors,y),Tn(this,n,I);const U=I.timelines.filter(X=>X.containsAnimation());if(U.length&&p.size){let X;for(let J=U.length-1;J>=0;J--){const re=U[J];if(re.element===i){X=re;break}}X&&!X.allowOnlyTimelineStyles()&&X.setStyles([p],null,I.errors,y)}return U.length?U.map(X=>X.buildKeyframes()):[Lf(i,[],[],[],0,R,"",!1)]}visitTrigger(e,i){}visitState(e,i){}visitTransition(e,i){}visitAnimateChild(e,i){const n=i.subInstructions.get(i.element);if(n){const s=i.createSubContext(e.options),o=i.currentTimeline.currentTime,h=this._visitSubInstructions(n,s,s.options);o!=h&&i.transformIntoNewTimeline(h)}i.previousNode=e}visitAnimateRef(e,i){const n=i.createSubContext(e.options);n.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],i,n),this.visitReference(e.animation,n),i.transformIntoNewTimeline(n.currentTimeline.currentTime),i.previousNode=e}_applyAnimationRefDelays(e,i,n){for(const s of e){const o=s?.delay;if(o){const h="number"==typeof o?o:Ks(fl(o,s?.params??{},i.errors));n.delayNextStep(h)}}}_visitSubInstructions(e,i,n){let o=i.currentTimeline.currentTime;const h=null!=n.duration?Ks(n.duration):null,p=null!=n.delay?Ks(n.delay):null;return 0!==h&&e.forEach(y=>{const _=i.appendInstructionToTimeline(y,h,p);o=Math.max(o,_.duration+_.delay)}),o}visitReference(e,i){i.updateOptions(e.options,!0),Tn(this,e.animation,i),i.previousNode=e}visitSequence(e,i){const n=i.subContextCount;let s=i;const o=e.options;if(o&&(o.params||o.delay)&&(s=i.createSubContext(o),s.transformIntoNewTimeline(),null!=o.delay)){6==s.previousNode.type&&(s.currentTimeline.snapshotCurrentStyles(),s.previousNode=kc);const h=Ks(o.delay);s.delayNextStep(h)}e.steps.length&&(e.steps.forEach(h=>Tn(this,h,s)),s.currentTimeline.applyStylesToKeyframe(),s.subContextCount>n&&s.transformIntoNewTimeline()),i.previousNode=e}visitGroup(e,i){const n=[];let s=i.currentTimeline.currentTime;const o=e.options&&e.options.delay?Ks(e.options.delay):0;e.steps.forEach(h=>{const p=i.createSubContext(e.options);o&&p.delayNextStep(o),Tn(this,h,p),s=Math.max(s,p.currentTimeline.currentTime),n.push(p.currentTimeline)}),n.forEach(h=>i.currentTimeline.mergeTimelineCollectedStyles(h)),i.transformIntoNewTimeline(s),i.previousNode=e}_visitTiming(e,i){if(e.dynamic){const n=e.strValue;return _c(i.params?fl(n,i.params,i.errors):n,i.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,i){const n=i.currentAnimateTimings=this._visitTiming(e.timings,i),s=i.currentTimeline;n.delay&&(i.incrementTime(n.delay),s.snapshotCurrentStyles());const o=e.style;5==o.type?this.visitKeyframes(o,i):(i.incrementTime(n.duration),this.visitStyle(o,i),s.applyStylesToKeyframe()),i.currentAnimateTimings=null,i.previousNode=e}visitStyle(e,i){const n=i.currentTimeline,s=i.currentAnimateTimings;!s&&n.hasCurrentStyleProperties()&&n.forwardFrame();const o=s&&s.easing||e.easing;e.isEmptyStep?n.applyEmptyStep(o):n.setStyles(e.styles,o,i.errors,i.options),i.previousNode=e}visitKeyframes(e,i){const n=i.currentAnimateTimings,s=i.currentTimeline.duration,o=n.duration,p=i.createSubContext().currentTimeline;p.easing=n.easing,e.styles.forEach(y=>{p.forwardTime((y.offset||0)*o),p.setStyles(y.styles,y.easing,i.errors,i.options),p.applyStylesToKeyframe()}),i.currentTimeline.mergeTimelineCollectedStyles(p),i.transformIntoNewTimeline(s+o),i.previousNode=e}visitQuery(e,i){const n=i.currentTimeline.currentTime,s=e.options||{},o=s.delay?Ks(s.delay):0;o&&(6===i.previousNode.type||0==n&&i.currentTimeline.hasCurrentStyleProperties())&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=kc);let h=n;const p=i.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!s.optional,i.errors);i.currentQueryTotal=p.length;let y=null;p.forEach((_,T)=>{i.currentQueryIndex=T;const I=i.createSubContext(e.options,_);o&&I.delayNextStep(o),_===i.element&&(y=I.currentTimeline),Tn(this,e.animation,I),I.currentTimeline.applyStylesToKeyframe(),h=Math.max(h,I.currentTimeline.currentTime)}),i.currentQueryIndex=0,i.currentQueryTotal=0,i.transformIntoNewTimeline(h),y&&(i.currentTimeline.mergeTimelineCollectedStyles(y),i.currentTimeline.snapshotCurrentStyles()),i.previousNode=e}visitStagger(e,i){const n=i.parentContext,s=i.currentTimeline,o=e.timings,h=Math.abs(o.duration),p=h*(i.currentQueryTotal-1);let y=h*i.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":y=p-y;break;case"full":y=n.currentStaggerTime}const T=i.currentTimeline;y&&T.delayNextStep(y);const I=T.currentTime;Tn(this,e.animation,i),i.previousNode=e,n.currentStaggerTime=s.currentTime-I+(s.startTime-n.currentTimeline.startTime)}}const kc={};class Rf{constructor(e,i,n,s,o,h,p,y){this._driver=e,this.element=i,this.subInstructions=n,this._enterClassName=s,this._leaveClassName=o,this.errors=h,this.timelines=p,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=kc,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=y||new Ec(this._driver,i,0),p.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,i){if(!e)return;const n=e;let s=this.options;null!=n.duration&&(s.duration=Ks(n.duration)),null!=n.delay&&(s.delay=Ks(n.delay));const o=n.params;if(o){let h=s.params;h||(h=this.options.params={}),Object.keys(o).forEach(p=>{(!i||!h.hasOwnProperty(p))&&(h[p]=fl(o[p],h,this.errors))})}}_copyOptions(){const e={};if(this.options){const i=this.options.params;if(i){const n=e.params={};Object.keys(i).forEach(s=>{n[s]=i[s]})}}return e}createSubContext(e=null,i,n){const s=i||this.element,o=new Rf(this._driver,s,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(s,n||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=kc,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,i,n){const s={duration:i??e.duration,delay:this.currentTimeline.currentTime+(n??0)+e.delay,easing:""},o=new yN(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,s,e.stretchStartingKeyframe);return this.timelines.push(o),s}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,i,n,s,o,h){let p=[];if(s&&p.push(this.element),e.length>0){e=(e=e.replace(pN,"."+this._enterClassName)).replace(gN,"."+this._leaveClassName);let _=this._driver.query(this.element,e,1!=n);0!==n&&(_=n<0?_.slice(_.length+n,_.length):_.slice(0,n)),p.push(..._)}return!o&&0==p.length&&h.push(function _R(t){return new he(3014,!1)}()),p}}class Ec{constructor(e,i,n,s){this._driver=e,this.element=i,this.startTime=n,this._elementTimelineStylesLookup=s,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(i),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(i,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const i=1===this._keyframes.size&&this._pendingStyles.size;this.duration||i?(this.forwardTime(this.currentTime+e),i&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,i){return this.applyStylesToKeyframe(),new Ec(this._driver,e,i||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,i){this._localTimelineStyles.set(e,i),this._globalTimelineStyles.set(e,i),this._styleSummary.set(e,{time:this.currentTime,value:i})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[i,n]of this._globalTimelineStyles)this._backFill.set(i,n||Gs),this._currentKeyframe.set(i,Gs);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,i,n,s){i&&this._previousKeyframe.set("easing",i);const o=s&&s.params||{},h=function xN(t,e){const i=new Map;let n;return t.forEach(s=>{if("*"===s){n=n||e.keys();for(let o of n)i.set(o,Gs)}else fr(s,i)}),i}(e,this._globalTimelineStyles);for(let[p,y]of h){const _=fl(y,o,n);this._pendingStyles.set(p,_),this._localTimelineStyles.has(p)||this._backFill.set(p,this._globalTimelineStyles.get(p)??Gs),this._updateStyle(p,_)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,i)=>{this._currentKeyframe.set(i,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,i)=>{this._currentKeyframe.has(i)||this._currentKeyframe.set(i,e)}))}snapshotCurrentStyles(){for(let[e,i]of this._localTimelineStyles)this._pendingStyles.set(e,i),this._updateStyle(e,i)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let i in this._currentKeyframe)e.push(i);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((i,n)=>{const s=this._styleSummary.get(n);(!s||i.time>s.time)&&this._updateStyle(n,i.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,i=new Set,n=1===this._keyframes.size&&0===this.duration;let s=[];this._keyframes.forEach((p,y)=>{const _=fr(p,new Map,this._backFill);_.forEach((T,I)=>{T===vf?e.add(I):T===Gs&&i.add(I)}),n||_.set("offset",y/this.duration),s.push(_)});const o=e.size?Mc(e.values()):[],h=i.size?Mc(i.values()):[];if(n){const p=s[0],y=new Map(p);p.set("offset",0),y.set("offset",1),s=[p,y]}return Lf(this.element,s,o,h,this.duration,this.startTime,this.easing,!1)}}class yN extends Ec{constructor(e,i,n,s,o,h,p=!1){super(e,i,h.delay),this.keyframes=n,this.preStyleProps=s,this.postStyleProps=o,this._stretchStartingKeyframe=p,this.timings={duration:h.duration,delay:h.delay,easing:h.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:i,duration:n,easing:s}=this.timings;if(this._stretchStartingKeyframe&&i){const o=[],h=n+i,p=i/h,y=fr(e[0]);y.set("offset",0),o.push(y);const _=fr(e[0]);_.set("offset",RM(p)),o.push(_);const T=e.length-1;for(let I=1;I<=T;I++){let R=fr(e[I]);const U=R.get("offset");R.set("offset",RM((i+U*n)/h)),o.push(R)}n=h,i=0,s="",e=o}return Lf(this.element,e,this.preStyleProps,this.postStyleProps,n,i,s,!0)}}function RM(t,e=3){const i=Math.pow(10,e-1);return Math.round(t*i)/i}class Nf{}const vN=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class bN extends Nf{normalizePropertyName(e,i){return Af(e)}normalizeStyleValue(e,i,n,s){let o="";const h=n.toString().trim();if(vN.has(i)&&0!==n&&"0"!==n)if("number"==typeof n)o="px";else{const p=n.match(/^[+-]?[\d\.]+([a-z]*)$/);p&&0==p[1].length&&s.push(function cR(t,e){return new he(3005,!1)}())}return h+o}}function NM(t,e,i,n,s,o,h,p,y,_,T,I,R){return{type:0,element:t,triggerName:e,isRemovalTransition:s,fromState:i,fromStyles:o,toState:n,toStyles:h,timelines:p,queriedElements:y,preStyleProps:_,postStyleProps:T,totalTime:I,errors:R}}const Bf={};class BM{constructor(e,i,n){this._triggerName=e,this.ast=i,this._stateStyles=n}match(e,i,n,s){return function _N(t,e,i,n,s){return t.some(o=>o(e,i,n,s))}(this.ast.matchers,e,i,n,s)}buildStyles(e,i,n){let s=this._stateStyles.get("*");return void 0!==e&&(s=this._stateStyles.get(e?.toString())||s),s?s.buildStyles(i,n):new Map}build(e,i,n,s,o,h,p,y,_,T){const I=[],R=this.ast.options&&this.ast.options.params||Bf,X=this.buildStyles(n,p&&p.params||Bf,I),J=y&&y.params||Bf,re=this.buildStyles(s,J,I),pe=new Set,be=new Map,ue=new Map,Le="void"===s,Pt={params:MN(J,R),delay:this.ast.options?.delay},Vt=T?[]:Of(e,i,this.ast.animation,o,h,X,re,Pt,_,I);let Zi=0;if(Vt.forEach(Zs=>{Zi=Math.max(Zs.duration+Zs.delay,Zi)}),I.length)return NM(i,this._triggerName,n,s,Le,X,re,[],[],be,ue,Zi,I);Vt.forEach(Zs=>{const qs=Zs.element,eC=wn(be,qs,new Set);Zs.preStyleProps.forEach(Hr=>eC.add(Hr));const ml=wn(ue,qs,new Set);Zs.postStyleProps.forEach(Hr=>ml.add(Hr)),qs!==i&&pe.add(qs)});const Qs=Mc(pe.values());return NM(i,this._triggerName,n,s,Le,X,re,Vt,Qs,be,ue,Zi)}}function MN(t,e){const i=dl(e);for(const n in t)t.hasOwnProperty(n)&&null!=t[n]&&(i[n]=t[n]);return i}class CN{constructor(e,i,n){this.styles=e,this.defaultParams=i,this.normalizer=n}buildStyles(e,i){const n=new Map,s=dl(this.defaultParams);return Object.keys(e).forEach(o=>{const h=e[o];null!==h&&(s[o]=h)}),this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((h,p)=>{h&&(h=fl(h,s,i));const y=this.normalizer.normalizePropertyName(p,i);h=this.normalizer.normalizeStyleValue(p,y,h,i),n.set(p,h)})}),n}}class TN{constructor(e,i,n){this.name=e,this.ast=i,this._normalizer=n,this.transitionFactories=[],this.states=new Map,i.states.forEach(s=>{this.states.set(s.name,new CN(s.style,s.options&&s.options.params||{},n))}),VM(this.states,"true","1"),VM(this.states,"false","0"),i.transitions.forEach(s=>{this.transitionFactories.push(new BM(e,s,this.states))}),this.fallbackTransition=function SN(t,e,i){return new BM(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(h,p)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,i,n,s){return this.transitionFactories.find(h=>h.match(e,i,n,s))||null}matchStyles(e,i,n){return this.fallbackTransition.buildStyles(e,i,n)}}function VM(t,e,i){t.has(e)?t.has(i)||t.set(i,t.get(e)):t.has(i)&&t.set(e,t.get(i))}const DN=new Pc;class PN{constructor(e,i,n){this.bodyNode=e,this._driver=i,this._normalizer=n,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,i){const n=[],s=[],o=If(this._driver,i,n,s);if(n.length)throw function PR(t){return new he(3503,!1)}();this._animations.set(e,o)}_buildPlayer(e,i,n){const s=e.element,o=yM(0,this._normalizer,0,e.keyframes,i,n);return this._driver.animate(s,o,e.duration,e.delay,e.easing,[],!0)}create(e,i,n={}){const s=[],o=this._animations.get(e);let h;const p=new Map;if(o?(h=Of(this._driver,i,o,Df,xc,new Map,new Map,n,DN,s),h.forEach(T=>{const I=wn(p,T.element,new Map);T.postStyleProps.forEach(R=>I.set(R,null))})):(s.push(function kR(){return new he(3300,!1)}()),h=[]),s.length)throw function ER(t){return new he(3504,!1)}();p.forEach((T,I)=>{T.forEach((R,U)=>{T.set(U,this._driver.computeStyle(I,U,Gs))})});const _=pr(h.map(T=>{const I=p.get(T.element);return this._buildPlayer(T,new Map,I)}));return this._playersById.set(e,_),_.onDestroy(()=>this.destroy(e)),this.players.push(_),_}destroy(e){const i=this._getPlayer(e);i.destroy(),this._playersById.delete(e);const n=this.players.indexOf(i);n>=0&&this.players.splice(n,1)}_getPlayer(e){const i=this._playersById.get(e);if(!i)throw function AR(t){return new he(3301,!1)}();return i}listen(e,i,n,s){const o=Cf(i,"","","");return _f(this._getPlayer(e),n,o,s),()=>{}}command(e,i,n,s){if("register"==n)return void this.register(e,s[0]);if("create"==n)return void this.create(e,i,s[0]||{});const o=this._getPlayer(e);switch(n){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(s[0]));break;case"destroy":this.destroy(e)}}}const WM="ng-animate-queued",Vf="ng-animate-disabled",FN=[],zM={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},LN={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Wn="__ng_removed";class Wf{get params(){return this.options.params}constructor(e,i=""){this.namespaceId=i;const n=e&&e.hasOwnProperty("value");if(this.value=function BN(t){return t??null}(n?e.value:e),n){const o=dl(e);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const i=e.params;if(i){const n=this.options.params;Object.keys(i).forEach(s=>{null==n[s]&&(n[s]=i[s])})}}}const gl="void",zf=new Wf(gl);class ON{constructor(e,i,n){this.id=e,this.hostElement=i,this._engine=n,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,zn(i,this._hostClassName)}listen(e,i,n,s){if(!this._triggers.has(i))throw function IR(t,e){return new he(3302,!1)}();if(null==n||0==n.length)throw function FR(t){return new he(3303,!1)}();if(!function VN(t){return"start"==t||"done"==t}(n))throw function LR(t,e){return new he(3400,!1)}();const o=wn(this._elementListeners,e,[]),h={name:i,phase:n,callback:s};o.push(h);const p=wn(this._engine.statesByElement,e,new Map);return p.has(i)||(zn(e,vc),zn(e,vc+"-"+i),p.set(i,zf)),()=>{this._engine.afterFlush(()=>{const y=o.indexOf(h);y>=0&&o.splice(y,1),this._triggers.has(i)||p.delete(i)})}}register(e,i){return!this._triggers.has(e)&&(this._triggers.set(e,i),!0)}_getTrigger(e){const i=this._triggers.get(e);if(!i)throw function OR(t){return new he(3401,!1)}();return i}trigger(e,i,n,s=!0){const o=this._getTrigger(i),h=new jf(this.id,i,e);let p=this._engine.statesByElement.get(e);p||(zn(e,vc),zn(e,vc+"-"+i),this._engine.statesByElement.set(e,p=new Map));let y=p.get(i);const _=new Wf(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&y&&_.absorbOptions(y.options),p.set(i,_),y||(y=zf),_.value!==gl&&y.value===_.value){if(!function jN(t,e){const i=Object.keys(t),n=Object.keys(e);if(i.length!=n.length)return!1;for(let s=0;s<i.length;s++){const o=i[s];if(!e.hasOwnProperty(o)||t[o]!==e[o])return!1}return!0}(y.params,_.params)){const J=[],re=o.matchStyles(y.value,y.params,J),pe=o.matchStyles(_.value,_.params,J);J.length?this._engine.reportError(J):this._engine.afterFlush(()=>{zr(e,re),ws(e,pe)})}return}const R=wn(this._engine.playersByElement,e,[]);R.forEach(J=>{J.namespaceId==this.id&&J.triggerName==i&&J.queued&&J.destroy()});let U=o.matchTransition(y.value,_.value,e,_.params),X=!1;if(!U){if(!s)return;U=o.fallbackTransition,X=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:i,transition:U,fromState:y,toState:_,player:h,isFallbackTransition:X}),X||(zn(e,WM),h.onStart(()=>{Go(e,WM)})),h.onDone(()=>{let J=this.players.indexOf(h);J>=0&&this.players.splice(J,1);const re=this._engine.playersByElement.get(e);if(re){let pe=re.indexOf(h);pe>=0&&re.splice(pe,1)}}),this.players.push(h),R.push(h),h}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(i=>i.delete(e)),this._elementListeners.forEach((i,n)=>{this._elementListeners.set(n,i.filter(s=>s.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const i=this._engine.playersByElement.get(e);i&&(i.forEach(n=>n.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,i){const n=this._engine.driver.query(e,bc,!0);n.forEach(s=>{if(s[Wn])return;const o=this._engine.fetchNamespacesByElement(s);o.size?o.forEach(h=>h.triggerLeaveAnimation(s,i,!1,!0)):this.clearElementCache(s)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(s=>this.clearElementCache(s)))}triggerLeaveAnimation(e,i,n,s){const o=this._engine.statesByElement.get(e),h=new Map;if(o){const p=[];if(o.forEach((y,_)=>{if(h.set(_,y.value),this._triggers.has(_)){const T=this.trigger(e,_,gl,s);T&&p.push(T)}}),p.length)return this._engine.markElementAsRemoved(this.id,e,!0,i,h),n&&pr(p).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const i=this._elementListeners.get(e),n=this._engine.statesByElement.get(e);if(i&&n){const s=new Set;i.forEach(o=>{const h=o.name;if(s.has(h))return;s.add(h);const y=this._triggers.get(h).fallbackTransition,_=n.get(h)||zf,T=new Wf(gl),I=new jf(this.id,h,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:h,transition:y,fromState:_,toState:T,player:I,isFallbackTransition:!0})})}}removeNode(e,i){const n=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,i),this.triggerLeaveAnimation(e,i,!0))return;let s=!1;if(n.totalAnimations){const o=n.players.length?n.playersByQueriedElement.get(e):[];if(o&&o.length)s=!0;else{let h=e;for(;h=h.parentNode;)if(n.statesByElement.get(h)){s=!0;break}}}if(this.prepareLeaveAnimationListeners(e),s)n.markElementAsRemoved(this.id,e,!1,i);else{const o=e[Wn];(!o||o===zM)&&(n.afterFlush(()=>this.clearElementCache(e)),n.destroyInnerAnimations(e),n._onRemovalComplete(e,i))}}insertNode(e,i){zn(e,this._hostClassName)}drainQueuedTransitions(e){const i=[];return this._queue.forEach(n=>{const s=n.player;if(s.destroyed)return;const o=n.element,h=this._elementListeners.get(o);h&&h.forEach(p=>{if(p.name==n.triggerName){const y=Cf(o,n.triggerName,n.fromState.value,n.toState.value);y._data=e,_f(n.player,p.phase,y,p.callback)}}),s.markedForDestroy?this._engine.afterFlush(()=>{s.destroy()}):i.push(n)}),this._queue=[],i.sort((n,s)=>{const o=n.transition.ast.depCount,h=s.transition.ast.depCount;return 0==o||0==h?o-h:this._engine.driver.containsElement(n.element,s.element)?1:-1})}destroy(e){this.players.forEach(i=>i.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let i=!1;return this._elementListeners.has(e)&&(i=!0),i=!!this._queue.find(n=>n.element===e)||i,i}}class RN{_onRemovalComplete(e,i){this.onRemovalComplete(e,i)}constructor(e,i,n){this.bodyNode=e,this.driver=i,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(s,o)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(i=>{i.players.forEach(n=>{n.queued&&e.push(n)})}),e}createNamespace(e,i){const n=new ON(e,i,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,i)?this._balanceNamespaceList(n,i):(this.newHostElements.set(i,n),this.collectEnterElement(i)),this._namespaceLookup[e]=n}_balanceNamespaceList(e,i){const n=this._namespaceList,s=this.namespacesByHostElement;if(n.length-1>=0){let h=!1,p=this.driver.getParentElement(i);for(;p;){const y=s.get(p);if(y){const _=n.indexOf(y);n.splice(_+1,0,e),h=!0;break}p=this.driver.getParentElement(p)}h||n.unshift(e)}else n.push(e);return s.set(i,e),e}register(e,i){let n=this._namespaceLookup[e];return n||(n=this.createNamespace(e,i)),n}registerTrigger(e,i,n){let s=this._namespaceLookup[e];s&&s.register(i,n)&&this.totalAnimations++}destroy(e,i){if(!e)return;const n=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[e];const s=this._namespaceList.indexOf(n);s>=0&&this._namespaceList.splice(s,1)}),this.afterFlushAnimationsDone(()=>n.destroy(i))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const i=new Set,n=this.statesByElement.get(e);if(n)for(let s of n.values())if(s.namespaceId){const o=this._fetchNamespace(s.namespaceId);o&&i.add(o)}return i}trigger(e,i,n,s){if(Ac(i)){const o=this._fetchNamespace(e);if(o)return o.trigger(i,n,s),!0}return!1}insertNode(e,i,n,s){if(!Ac(i))return;const o=i[Wn];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const h=this.collectedLeaveElements.indexOf(i);h>=0&&this.collectedLeaveElements.splice(h,1)}if(e){const h=this._fetchNamespace(e);h&&h.insertNode(i,n)}s&&this.collectEnterElement(i)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,i){i?this.disabledNodes.has(e)||(this.disabledNodes.add(e),zn(e,Vf)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Go(e,Vf))}removeNode(e,i,n,s){if(Ac(i)){const o=e?this._fetchNamespace(e):null;if(o?o.removeNode(i,s):this.markElementAsRemoved(e,i,!1,s),n){const h=this.namespacesByHostElement.get(i);h&&h.id!==e&&h.removeNode(i,s)}}else this._onRemovalComplete(i,s)}markElementAsRemoved(e,i,n,s,o){this.collectedLeaveElements.push(i),i[Wn]={namespaceId:e,setForRemoval:s,hasAnimation:n,removedBeforeQueried:!1,previousTriggersValues:o}}listen(e,i,n,s,o){return Ac(i)?this._fetchNamespace(e).listen(i,n,s,o):()=>{}}_buildInstruction(e,i,n,s,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,n,s,e.fromState.options,e.toState.options,i,o)}destroyInnerAnimations(e){let i=this.driver.query(e,bc,!0);i.forEach(n=>this.destroyActiveAnimationsForElement(n)),0!=this.playersByQueriedElement.size&&(i=this.driver.query(e,Pf,!0),i.forEach(n=>this.finishActiveQueriedAnimationOnElement(n)))}destroyActiveAnimationsForElement(e){const i=this.playersByElement.get(e);i&&i.forEach(n=>{n.queued?n.markedForDestroy=!0:n.destroy()})}finishActiveQueriedAnimationOnElement(e){const i=this.playersByQueriedElement.get(e);i&&i.forEach(n=>n.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return pr(this.players).onDone(()=>e());e()})}processLeaveNode(e){const i=e[Wn];if(i&&i.setForRemoval){if(e[Wn]=zM,i.namespaceId){this.destroyInnerAnimations(e);const n=this._fetchNamespace(i.namespaceId);n&&n.clearElementCache(e)}this._onRemovalComplete(e,i.setForRemoval)}e.classList?.contains(Vf)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(n=>{this.markElementAsDisabled(n,!1)})}flush(e=-1){let i=[];if(this.newHostElements.size&&(this.newHostElements.forEach((n,s)=>this._balanceNamespaceList(n,s)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)zn(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{i=this._flushAnimations(n,e)}finally{for(let s=0;s<n.length;s++)n[s]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(n=>n()),this._flushFns=[],this._whenQuietFns.length){const n=this._whenQuietFns;this._whenQuietFns=[],i.length?pr(i).onDone(()=>{n.forEach(s=>s())}):n.forEach(s=>s())}}reportError(e){throw function RR(t){return new he(3402,!1)}()}_flushAnimations(e,i){const n=new Pc,s=[],o=new Map,h=[],p=new Map,y=new Map,_=new Map,T=new Set;this.disabledNodes.forEach(je=>{T.add(je);const Ke=this.driver.query(je,".ng-animate-queued",!0);for(let ot=0;ot<Ke.length;ot++)T.add(Ke[ot])});const I=this.bodyNode,R=Array.from(this.statesByElement.keys()),U=HM(R,this.collectedEnterElements),X=new Map;let J=0;U.forEach((je,Ke)=>{const ot=Df+J++;X.set(Ke,ot),je.forEach(Nt=>zn(Nt,ot))});const re=[],pe=new Set,be=new Set;for(let je=0;je<this.collectedLeaveElements.length;je++){const Ke=this.collectedLeaveElements[je],ot=Ke[Wn];ot&&ot.setForRemoval&&(re.push(Ke),pe.add(Ke),ot.hasAnimation?this.driver.query(Ke,".ng-star-inserted",!0).forEach(Nt=>pe.add(Nt)):be.add(Ke))}const ue=new Map,Le=HM(R,Array.from(pe));Le.forEach((je,Ke)=>{const ot=xc+J++;ue.set(Ke,ot),je.forEach(Nt=>zn(Nt,ot))}),e.push(()=>{U.forEach((je,Ke)=>{const ot=X.get(Ke);je.forEach(Nt=>Go(Nt,ot))}),Le.forEach((je,Ke)=>{const ot=ue.get(Ke);je.forEach(Nt=>Go(Nt,ot))}),re.forEach(je=>{this.processLeaveNode(je)})});const Pt=[],Vt=[];for(let je=this._namespaceList.length-1;je>=0;je--)this._namespaceList[je].drainQueuedTransitions(i).forEach(ot=>{const Nt=ot.player,Oi=ot.element;if(Pt.push(Nt),this.collectedEnterElements.length){const qi=Oi[Wn];if(qi&&qi.setForMove){if(qi.previousTriggersValues&&qi.previousTriggersValues.has(ot.triggerName)){const Yr=qi.previousTriggersValues.get(ot.triggerName),jn=this.statesByElement.get(ot.element);if(jn&&jn.has(ot.triggerName)){const Lc=jn.get(ot.triggerName);Lc.value=Yr,jn.set(ot.triggerName,Lc)}}return void Nt.destroy()}}const Ts=!I||!this.driver.containsElement(I,Oi),Sn=ue.get(Oi),gr=X.get(Oi),ui=this._buildInstruction(ot,n,gr,Sn,Ts);if(ui.errors&&ui.errors.length)return void Vt.push(ui);if(Ts)return Nt.onStart(()=>zr(Oi,ui.fromStyles)),Nt.onDestroy(()=>ws(Oi,ui.toStyles)),void s.push(Nt);if(ot.isFallbackTransition)return Nt.onStart(()=>zr(Oi,ui.fromStyles)),Nt.onDestroy(()=>ws(Oi,ui.toStyles)),void s.push(Nt);const nC=[];ui.timelines.forEach(qi=>{qi.stretchStartingKeyframe=!0,this.disabledNodes.has(qi.element)||nC.push(qi)}),ui.timelines=nC,n.append(Oi,ui.timelines),h.push({instruction:ui,player:Nt,element:Oi}),ui.queriedElements.forEach(qi=>wn(p,qi,[]).push(Nt)),ui.preStyleProps.forEach((qi,Yr)=>{if(qi.size){let jn=y.get(Yr);jn||y.set(Yr,jn=new Set),qi.forEach((Lc,Yf)=>jn.add(Yf))}}),ui.postStyleProps.forEach((qi,Yr)=>{let jn=_.get(Yr);jn||_.set(Yr,jn=new Set),qi.forEach((Lc,Yf)=>jn.add(Yf))})});if(Vt.length){const je=[];Vt.forEach(Ke=>{je.push(function NR(t,e){return new he(3505,!1)}())}),Pt.forEach(Ke=>Ke.destroy()),this.reportError(je)}const Zi=new Map,Qs=new Map;h.forEach(je=>{const Ke=je.element;n.has(Ke)&&(Qs.set(Ke,Ke),this._beforeAnimationBuild(je.player.namespaceId,je.instruction,Zi))}),s.forEach(je=>{const Ke=je.element;this._getPreviousPlayers(Ke,!1,je.namespaceId,je.triggerName,null).forEach(Nt=>{wn(Zi,Ke,[]).push(Nt),Nt.destroy()})});const Zs=re.filter(je=>XM(je,y,_)),qs=new Map;UM(qs,this.driver,be,_,Gs).forEach(je=>{XM(je,y,_)&&Zs.push(je)});const ml=new Map;U.forEach((je,Ke)=>{UM(ml,this.driver,new Set(je),y,vf)}),Zs.forEach(je=>{const Ke=qs.get(je),ot=ml.get(je);qs.set(je,new Map([...Array.from(Ke?.entries()??[]),...Array.from(ot?.entries()??[])]))});const Hr=[],tC=[],iC={};h.forEach(je=>{const{element:Ke,player:ot,instruction:Nt}=je;if(n.has(Ke)){if(T.has(Ke))return ot.onDestroy(()=>ws(Ke,Nt.toStyles)),ot.disabled=!0,ot.overrideTotalTime(Nt.totalTime),void s.push(ot);let Oi=iC;if(Qs.size>1){let Sn=Ke;const gr=[];for(;Sn=Sn.parentNode;){const ui=Qs.get(Sn);if(ui){Oi=ui;break}gr.push(Sn)}gr.forEach(ui=>Qs.set(ui,Oi))}const Ts=this._buildAnimation(ot.namespaceId,Nt,Zi,o,ml,qs);if(ot.setRealPlayer(Ts),Oi===iC)Hr.push(ot);else{const Sn=this.playersByElement.get(Oi);Sn&&Sn.length&&(ot.parentPlayer=pr(Sn)),s.push(ot)}}else zr(Ke,Nt.fromStyles),ot.onDestroy(()=>ws(Ke,Nt.toStyles)),tC.push(ot),T.has(Ke)&&s.push(ot)}),tC.forEach(je=>{const Ke=o.get(je.element);if(Ke&&Ke.length){const ot=pr(Ke);je.setRealPlayer(ot)}}),s.forEach(je=>{je.parentPlayer?je.syncPlayerEvents(je.parentPlayer):je.destroy()});for(let je=0;je<re.length;je++){const Ke=re[je],ot=Ke[Wn];if(Go(Ke,xc),ot&&ot.hasAnimation)continue;let Nt=[];if(p.size){let Ts=p.get(Ke);Ts&&Ts.length&&Nt.push(...Ts);let Sn=this.driver.query(Ke,Pf,!0);for(let gr=0;gr<Sn.length;gr++){let ui=p.get(Sn[gr]);ui&&ui.length&&Nt.push(...ui)}}const Oi=Nt.filter(Ts=>!Ts.destroyed);Oi.length?WN(this,Ke,Oi):this.processLeaveNode(Ke)}return re.length=0,Hr.forEach(je=>{this.players.push(je),je.onDone(()=>{je.destroy();const Ke=this.players.indexOf(je);this.players.splice(Ke,1)}),je.play()}),Hr}elementContainsData(e,i){let n=!1;const s=i[Wn];return s&&s.setForRemoval&&(n=!0),this.playersByElement.has(i)&&(n=!0),this.playersByQueriedElement.has(i)&&(n=!0),this.statesByElement.has(i)&&(n=!0),this._fetchNamespace(e).elementContainsData(i)||n}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,i,n,s,o){let h=[];if(i){const p=this.playersByQueriedElement.get(e);p&&(h=p)}else{const p=this.playersByElement.get(e);if(p){const y=!o||o==gl;p.forEach(_=>{_.queued||!y&&_.triggerName!=s||h.push(_)})}}return(n||s)&&(h=h.filter(p=>!(n&&n!=p.namespaceId||s&&s!=p.triggerName))),h}_beforeAnimationBuild(e,i,n){const o=i.element,h=i.isRemovalTransition?void 0:e,p=i.isRemovalTransition?void 0:i.triggerName;for(const y of i.timelines){const _=y.element,T=_!==o,I=wn(n,_,[]);this._getPreviousPlayers(_,T,h,p,i.toState).forEach(U=>{const X=U.getRealPlayer();X.beforeDestroy&&X.beforeDestroy(),U.destroy(),I.push(U)})}zr(o,i.fromStyles)}_buildAnimation(e,i,n,s,o,h){const p=i.triggerName,y=i.element,_=[],T=new Set,I=new Set,R=i.timelines.map(X=>{const J=X.element;T.add(J);const re=J[Wn];if(re&&re.removedBeforeQueried)return new ul(X.duration,X.delay);const pe=J!==y,be=function zN(t){const e=[];return YM(t,e),e}((n.get(J)||FN).map(Zi=>Zi.getRealPlayer())).filter(Zi=>!!Zi.element&&Zi.element===J),ue=o.get(J),Le=h.get(J),Pt=yM(0,this._normalizer,0,X.keyframes,ue,Le),Vt=this._buildPlayer(X,Pt,be);if(X.subTimeline&&s&&I.add(J),pe){const Zi=new jf(e,p,J);Zi.setRealPlayer(Vt),_.push(Zi)}return Vt});_.forEach(X=>{wn(this.playersByQueriedElement,X.element,[]).push(X),X.onDone(()=>function NN(t,e,i){let n=t.get(e);if(n){if(n.length){const s=n.indexOf(i);n.splice(s,1)}0==n.length&&t.delete(e)}return n}(this.playersByQueriedElement,X.element,X))}),T.forEach(X=>zn(X,SM));const U=pr(R);return U.onDestroy(()=>{T.forEach(X=>Go(X,SM)),ws(y,i.toStyles)}),I.forEach(X=>{wn(s,X,[]).push(U)}),U}_buildPlayer(e,i,n){return i.length>0?this.driver.animate(e.element,i,e.duration,e.delay,e.easing,n):new ul(e.duration,e.delay)}}class jf{constructor(e,i,n){this.namespaceId=e,this.triggerName=i,this.element=n,this._player=new ul,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((i,n)=>{i.forEach(s=>_f(e,n,void 0,s))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const i=this._player;i.triggerCallback&&e.onStart(()=>i.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,i){wn(this._queuedCallbacks,e,[]).push(i)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const i=this._player;i.triggerCallback&&i.triggerCallback(e)}}function Ac(t){return t&&1===t.nodeType}function jM(t,e){const i=t.style.display;return t.style.display=e??"none",i}function UM(t,e,i,n,s){const o=[];i.forEach(y=>o.push(jM(y)));const h=[];n.forEach((y,_)=>{const T=new Map;y.forEach(I=>{const R=e.computeStyle(_,I,s);T.set(I,R),(!R||0==R.length)&&(_[Wn]=LN,h.push(_))}),t.set(_,T)});let p=0;return i.forEach(y=>jM(y,o[p++])),h}function HM(t,e){const i=new Map;if(t.forEach(p=>i.set(p,[])),0==e.length)return i;const n=1,s=new Set(e),o=new Map;function h(p){if(!p)return n;let y=o.get(p);if(y)return y;const _=p.parentNode;return y=i.has(_)?_:s.has(_)?n:h(_),o.set(p,y),y}return e.forEach(p=>{const y=h(p);y!==n&&i.get(y).push(p)}),i}function zn(t,e){t.classList?.add(e)}function Go(t,e){t.classList?.remove(e)}function WN(t,e,i){pr(i).onDone(()=>t.processLeaveNode(e))}function YM(t,e){for(let i=0;i<t.length;i++){const n=t[i];n instanceof gM?YM(n.players,e):e.push(n)}}function XM(t,e,i){const n=i.get(t);if(!n)return!1;let s=e.get(t);return s?n.forEach(o=>s.add(o)):e.set(t,n),i.delete(t),!0}class Ic{constructor(e,i,n){this.bodyNode=e,this._driver=i,this._normalizer=n,this._triggerCache={},this.onRemovalComplete=(s,o)=>{},this._transitionEngine=new RN(e,i,n),this._timelineEngine=new PN(e,i,n),this._transitionEngine.onRemovalComplete=(s,o)=>this.onRemovalComplete(s,o)}registerTrigger(e,i,n,s,o){const h=e+"-"+s;let p=this._triggerCache[h];if(!p){const y=[],_=[],T=If(this._driver,o,y,_);if(y.length)throw function SR(t,e){return new he(3404,!1)}();p=function wN(t,e,i){return new TN(t,e,i)}(s,T,this._normalizer),this._triggerCache[h]=p}this._transitionEngine.registerTrigger(i,s,p)}register(e,i){this._transitionEngine.register(e,i)}destroy(e,i){this._transitionEngine.destroy(e,i)}onInsert(e,i,n,s){this._transitionEngine.insertNode(e,i,n,s)}onRemove(e,i,n,s){this._transitionEngine.removeNode(e,i,s||!1,n)}disableAnimations(e,i){this._transitionEngine.markElementAsDisabled(e,i)}process(e,i,n,s){if("@"==n.charAt(0)){const[o,h]=xM(n);this._timelineEngine.command(o,i,h,s)}else this._transitionEngine.trigger(e,i,n,s)}listen(e,i,n,s,o){if("@"==n.charAt(0)){const[h,p]=xM(n);return this._timelineEngine.listen(h,i,p,o)}return this._transitionEngine.listen(e,i,n,s,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let HN=(()=>{class t{constructor(i,n,s){this._element=i,this._startStyles=n,this._endStyles=s,this._state=0;let o=t.initialStylesByElement.get(i);o||t.initialStylesByElement.set(i,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&ws(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(ws(this._element,this._initialStyles),this._endStyles&&(ws(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(zr(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(zr(this._element,this._endStyles),this._endStyles=null),ws(this._element,this._initialStyles),this._state=3)}}return t.initialStylesByElement=new WeakMap,t})();function Uf(t){let e=null;return t.forEach((i,n)=>{(function YN(t){return"display"===t||"position"===t})(n)&&(e=e||new Map,e.set(n,i))}),e}class $M{constructor(e,i,n,s){this.element=e,this.keyframes=i,this.options=n,this._specialStyles=s,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const i=[];return e.forEach(n=>{i.push(Object.fromEntries(n))}),i}_triggerWebAnimation(e,i,n){return e.animate(this._convertKeyframesToObject(i),n)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((n,s)=>{"offset"!==s&&e.set(s,this._finished?n:IM(this.element,s))}),this.currentSnapshot=e}triggerCallback(e){const i="start"===e?this._onStartFns:this._onDoneFns;i.forEach(n=>n()),i.length=0}}class XN{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,i){return!1}containsElement(e,i){return MM(e,i)}getParentElement(e){return Tf(e)}query(e,i,n){return CM(e,i,n)}computeStyle(e,i,n){return window.getComputedStyle(e)[i]}animate(e,i,n,s,o,h=[]){const y={duration:n,delay:s,fill:0==s?"both":"forwards"};o&&(y.easing=o);const _=new Map,T=h.filter(U=>U instanceof $M);(function QR(t,e){return 0===t||0===e})(n,s)&&T.forEach(U=>{U.currentSnapshot.forEach((X,J)=>_.set(J,X))});let I=function XR(t){return t.length?t[0]instanceof Map?t:t.map(e=>DM(e)):[]}(i).map(U=>fr(U));I=function ZR(t,e,i){if(i.size&&e.length){let n=e[0],s=[];if(i.forEach((o,h)=>{n.has(h)||s.push(h),n.set(h,o)}),s.length)for(let o=1;o<e.length;o++){let h=e[o];s.forEach(p=>h.set(p,IM(t,p)))}}return e}(e,I,_);const R=function UN(t,e){let i=null,n=null;return Array.isArray(e)&&e.length?(i=Uf(e[0]),e.length>1&&(n=Uf(e[e.length-1]))):e instanceof Map&&(i=Uf(e)),i||n?new HN(t,i,n):null}(e,I);return new $M(e,I,y,R)}}let $N=(()=>{class t extends uM{constructor(i,n){super(),this._nextAnimationId=0,this._renderer=i.createRenderer(n.body,{id:"0",encapsulation:$n.None,styles:[],data:{animation:[]}})}build(i){const n=this._nextAnimationId.toString();this._nextAnimationId++;const s=Array.isArray(i)?dM(i):i;return GM(this._renderer,null,n,"register",[s]),new GN(n,this._renderer)}}return t.\u0275fac=function(i){return new(i||t)(Oe(Ca),Oe(Ii))},t.\u0275prov=Ie({token:t,factory:t.\u0275fac}),t})();class GN extends sR{constructor(e,i){super(),this._id=e,this._renderer=i}create(e,i){return new KN(this._id,e,i||{},this._renderer)}}class KN{constructor(e,i,n,s){this.id=e,this.element=i,this._renderer=s,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(e,i){return this._renderer.listen(this.element,`@@${this.id}:${e}`,i)}_command(e,...i){return GM(this._renderer,this.element,this.id,e,i)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function GM(t,e,i,n,s){return t.setProperty(e,`@@${i}:${n}`,s)}const KM="@.disabled";let QN=(()=>{class t{constructor(i,n,s){this.delegate=i,this.engine=n,this._zone=s,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),n.onRemovalComplete=(o,h)=>{const p=h?.parentNode(o);p&&h.removeChild(p,o)}}createRenderer(i,n){const o=this.delegate.createRenderer(i,n);if(!(i&&n&&n.data&&n.data.animation)){let T=this._rendererCache.get(o);return T||(T=new QM("",o,this.engine,()=>this._rendererCache.delete(o)),this._rendererCache.set(o,T)),T}const h=n.id,p=n.id+"-"+this._currentId;this._currentId++,this.engine.register(p,i);const y=T=>{Array.isArray(T)?T.forEach(y):this.engine.registerTrigger(h,p,i,T.name,T)};return n.data.animation.forEach(y),new ZN(this,p,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(i,n,s){i>=0&&i<this._microtaskId?this._zone.run(()=>n(s)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(o=>{const[h,p]=o;h(p)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([n,s]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return t.\u0275fac=function(i){return new(i||t)(Oe(Ca),Oe(Ic),Oe(ai))},t.\u0275prov=Ie({token:t,factory:t.\u0275fac}),t})();class QM{constructor(e,i,n,s){this.namespaceId=e,this.delegate=i,this.engine=n,this._onDestroy=s,this.destroyNode=this.delegate.destroyNode?o=>i.destroyNode(o):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(e,i){return this.delegate.createElement(e,i)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,i){this.delegate.appendChild(e,i),this.engine.onInsert(this.namespaceId,i,e,!1)}insertBefore(e,i,n,s=!0){this.delegate.insertBefore(e,i,n),this.engine.onInsert(this.namespaceId,i,e,s)}removeChild(e,i,n){this.engine.onRemove(this.namespaceId,i,this.delegate,n)}selectRootElement(e,i){return this.delegate.selectRootElement(e,i)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,i,n,s){this.delegate.setAttribute(e,i,n,s)}removeAttribute(e,i,n){this.delegate.removeAttribute(e,i,n)}addClass(e,i){this.delegate.addClass(e,i)}removeClass(e,i){this.delegate.removeClass(e,i)}setStyle(e,i,n,s){this.delegate.setStyle(e,i,n,s)}removeStyle(e,i,n){this.delegate.removeStyle(e,i,n)}setProperty(e,i,n){"@"==i.charAt(0)&&i==KM?this.disableAnimations(e,!!n):this.delegate.setProperty(e,i,n)}setValue(e,i){this.delegate.setValue(e,i)}listen(e,i,n){return this.delegate.listen(e,i,n)}disableAnimations(e,i){this.engine.disableAnimations(e,i)}}class ZN extends QM{constructor(e,i,n,s,o){super(i,n,s,o),this.factory=e,this.namespaceId=i}setProperty(e,i,n){"@"==i.charAt(0)?"."==i.charAt(1)&&i==KM?this.disableAnimations(e,n=void 0===n||!!n):this.engine.process(this.namespaceId,e,i.slice(1),n):this.delegate.setProperty(e,i,n)}listen(e,i,n){if("@"==i.charAt(0)){const s=function qN(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(e);let o=i.slice(1),h="";return"@"!=o.charAt(0)&&([o,h]=function JN(t){const e=t.indexOf(".");return[t.substring(0,e),t.slice(e+1)]}(o)),this.engine.listen(this.namespaceId,s,o,h,p=>{this.factory.scheduleListenerCallback(p._data||-1,n,p)})}return this.delegate.listen(e,i,n)}}const ZM=[{provide:uM,useClass:$N},{provide:Nf,useFactory:function tB(){return new bN}},{provide:Ic,useClass:(()=>{class t extends Ic{constructor(i,n,s,o){super(i.body,n,s)}ngOnDestroy(){this.flush()}}return t.\u0275fac=function(i){return new(i||t)(Oe(Ii),Oe(Sf),Oe(Nf),Oe(Va))},t.\u0275prov=Ie({token:t,factory:t.\u0275fac}),t})()},{provide:Ca,useFactory:function iB(t,e,i){return new QN(t,e,i)},deps:[Hh,Ic,ai]}],Hf=[{provide:Sf,useFactory:()=>new XN},{provide:o0,useValue:"BrowserAnimations"},...ZM],qM=[{provide:Sf,useClass:wM},{provide:o0,useValue:"NoopAnimations"},...ZM];let nB=(()=>{class t{static withConfig(i){return{ngModule:t,providers:i.disableAnimations?qM:Hf}}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=en({type:t}),t.\u0275inj=Be({providers:Hf,imports:[Db]}),t})(),sB=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=en({type:t}),t.\u0275inj=Be({imports:[dr,dr]}),t})(),aB=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=en({type:t}),t.\u0275inj=Be({imports:[sM,dr,sM,dr]}),t})(),lB=(()=>{class t{static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275mod=en({type:t,bootstrap:[nR]});static#i=this.\u0275inj=Be({imports:[Db,iR,nB,UO,aB,sB,$O]})}return t})();UI().bootstrapModule(lB).catch(t=>console.error(t))}},mr=>{mr(mr.s=617)}]);